if (self.CavalryLogger) { CavalryLogger.start_js(["9cZaL"]); }

__d("FBRTCParticipantCallState",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12}}),null);
__d("messengerProfileImageWrapperReact",["cx","cssVar","React","utilsRe","bs_js_boolean","CurrentUser","ReasonReact","TooltipData","joinClasses","bs_js_primitive","MessagingThreadType","getViewportDimensions"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("ReasonReact").statelessComponent("MessengerProfileImageWrapperReact");function k(m,n,o,p,q,r,s,t,u,v,w,x){__p&&__p();var y=v?v[0]:"",z=function z(){__p&&__p();if(n)return c("React").createElement("div",{className:"_4ld_ _2pom"},c("React").createElement("div",{className:"_2pon _4p4t"},n[0]));else{var B=0;if(o)B=1;else if(p)B=1;else if(u)B=1;else return null;if(B===1)if(w!==0)if(p)if(c("CurrentUser").isWorkUser())return null;else{var C=p[0];return c("React").createElement("div",{className:"_4ld_ _2pom"},c("React").createElement("div",{className:"_2pon"+(c("bs_js_boolean").to_js_boolean(C)?" _1zvi":"")+(c("bs_js_boolean").to_js_boolean(1-C)?" _2poo":"")}))}else if(u)if(c("CurrentUser").isWorkUser())return c("React").createElement("div",{className:"_4ld_ _2pom"},c("React").createElement("div",{className:c("bs_js_boolean").to_js_boolean(u[0])?"_4rwy":""}));else return null;else if(c("CurrentUser").isWorkUser())return null;else{var D=o[0];return c("React").createElement("div",{className:"_4ld_ _2pom"},c("React").createElement("div",{className:"_2pon"+(c("bs_js_boolean").to_js_boolean(D)?" _2poo":"")+(c("bs_js_boolean").to_js_boolean(1-D)?" _2pop":"")}))}else return null}},A=j.slice();A[9]=function(){__p&&__p();var B=t?""+(String(t[0])+"px"):"auto",C=r?+(r[0]===c("MessagingThreadType").ROOM):0,D=m?{"aria-hidden":c("bs_js_boolean").to_js_boolean(m[0])}:{},E;if(s){var F=s[0];if(F==="")E=D;else{var G=c("getViewportDimensions")().width,H=parseInt("700px".replace("px",""),10),I=+(G<=H),J=I!==0?"above":"left";E=Object.assign(D,c("TooltipData").propsFor(F,J))}}else E=D;var K=C!==0?{background:q?q[0]:"#0084ff",height:B,width:B}:{height:B,width:B};return c("React").cloneElement(c("React").createElement("div",{className:c("joinClasses")("_4ldz",y),style:{height:B,width:B}},c("ReasonReact").createDomElement("div",{className:"_4ld-"+(c("bs_js_boolean").to_js_boolean(C)?" _180i":""),style:K},x),z(0)),E)};return A}var l=c("ReasonReact").wrapReasonForJs(j,function(m){var n=m.className;return k(c("utilsRe").nullUndefinedBooleanToOptionBool(m.ariaHidden),c("bs_js_primitive").null_undefined_to_opt(m.customBadge),c("utilsRe").nullUndefinedBooleanToOptionBool(m.isMessengerUser),0,c("bs_js_primitive").null_undefined_to_opt(m.threadColor),c("bs_js_primitive").null_undefined_to_opt(m.threadType),c("bs_js_primitive").null_undefined_to_opt(m.tooltipContent),c("bs_js_primitive").null_undefined_to_opt(m.size),[+m.isMultiCompany],[n==null?"":n],+m.showBadge,[].concat(m.children))});g.component=j;g.make=k;g.jsComponent=l}),null);
__d("MessengerContactImage.react",["Image.react","messengerProfileImageWrapperReact","React"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("messengerProfileImageWrapperReact").jsComponent,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").PureComponent);i=h&&h.prototype;l.prototype.render=function(){"use strict";return c("React").createElement("div",{className:this.props.className},c("React").createElement(j,{isMessengerUser:this.props.isMessengerUser,isPartiesUser:this.props.isPartiesUser,size:this.props.size,customBadge:this.props.customBadge,showBadge:false},c("React").createElement(c("Image.react"),{alt:"",height:this.props.size,src:this.props.src,width:this.props.size})))};function l(){"use strict";h.apply(this,arguments)}l.propTypes={customBadge:k.string,isMessengerUser:k.bool,size:k.number.isRequired,src:c("Image.react").validateImageSrcPropType};f.exports=l}),null);
__d("MessengerDialogTitle.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_19jt",this.props.className)},this.props.children)};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("RTCUserRecord",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("immutable").Record({FBID:"UNDEFINED",isMessengerUser:false,isPartiesUser:false,lastConnectedAt:0,participantState:null,profilePictureUrl:null,profileUrl:null,screenStreams:c("immutable").Set(),streams:c("immutable").Set(),userName:"",userShortName:"",vanity:""});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments)}f.exports=k}),null);
__d("RTCUser",["FBRTCParticipantCallState","immutable","RTCUserRecord"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("RTCUserRecord"));i=h&&h.prototype;j.prototype.clone=function(){return new j(this.toObject())};j.prototype.setParticipantState=function(k){if((!this.participantState||this.participantState.state!==c("FBRTCParticipantCallState").CONNECTED)&&k.state===c("FBRTCParticipantCallState").CONNECTED)return this.set("participantState",k).set("lastConnectedAt",Date.now());return!this.participantState||this.participantState.state!==k.state?this.set("participantState",k):this};j.prototype.hasAudio=function(){return this.streams.some(function(k){return k.getAudioTracks().length>0})};j.prototype.hasVideo=function(){return this.streams.some(function(k){return k.getVideoTracks().length>0})};j.prototype.isAudioMuted=function(){if(!this.hasAudio())return true;return this.streams.every(function(k){return this.areAllTracksMuted(k.getAudioTracks())}.bind(this))};j.prototype.isVideoMuted=function(){if(!this.hasVideo())return true;return this.streams.every(function(k){return this.areAllTracksMuted(k.getVideoTracks())}.bind(this))};j.prototype.areAllTracksMuted=function(k){return!k.some(function(l){return l.enabled})};j.prototype.isTrackMuted=function(k){return this.streams.some(function(l){var m=l.getTrackById(k);if(!m)return true;return!m.enabled})};j.prototype.toggleMuteAudio=function(k){this.streams.forEach(function(l){return this.$RTCUser1(l.getAudioTracks(),k)}.bind(this));return this.clone()};j.prototype.toggleMuteVideo=function(k){this.streams.forEach(function(l){return this.$RTCUser1(l.getVideoTracks(),k)}.bind(this));return this.clone()};j.prototype.hasStream=function(){return!this.streams.isEmpty()};j.prototype.addStream=function(k){return this.set("streams",this.streams.add(k))};j.prototype.removeStream=function(k){return this.set("streams",this.streams["delete"](k))};j.prototype.replaceStream=function(k,l){if(!this.streams.contains(k))return this;if(k===l)return this;return this.set("streams",this.streams.add(l)["delete"](k))};j.prototype.removeAllStreams=function(){return this.set("streams",c("immutable").Set())};j.prototype.hasScreenStream=function(){return!this.screenStreams.isEmpty()};j.prototype.addScreenStream=function(k){return this.set("screenStreams",this.screenStreams.add(k))};j.prototype.removeScreenStream=function(k){return this.set("screenStreams",this.screenStreams["delete"](k))};j.prototype.removeAllScreenStreams=function(){return this.set("screenStreams",c("immutable").Set())};j.prototype.$RTCUser1=function(k,l){var m=l!=null?!l:this.areAllTracksMuted(k);k.forEach(function(n){return n.enabled=m})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("P2PNUXRendererUtils",["CurrentUser","ImmutableObject","MercuryAttachmentType","P2PTransferParam","P2PTransferStatus","StoryAttachmentStyle"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={getTransferFromMessage:function i(j){var k=void 0,l=void 0;if(!j||!j.attachments||!j.attachments.length)return null;l=j.attachments[0];if(this.isShareAttachment(l))k=l.share.target;if(k)k=new(c("ImmutableObject"))(k);return k},isSuccessfulReceivedTransfer:function i(j){return j&&j.receiver&&j.receiver.id===c("CurrentUser").getID()&&(j.status===c("P2PTransferStatus").COMPLETED||j.status===c("P2PTransferStatus").PENDING_RECIPIENT_NUX)},isShareAttachment:function i(j){return!!(typeof j!=="string"&&j.attach_type==c("MercuryAttachmentType").SHARE&&j.share&&j.share.style_list&&j.share.style_list.indexOf(c("StoryAttachmentStyle").ORION)>=0)},doesNUXNeedCreditCards:function i(j){var k=c("CurrentUser").getID()===j.sender.id;return!k&&j[c("P2PTransferParam").STATUS]===c("P2PTransferStatus").PENDING_RECIPIENT_NUX},isRecipientActionableStatus:function i(j){var k=j[c("P2PTransferParam").STATUS],l=c("CurrentUser").getID()===j.sender.id;return!l&&(k===c("P2PTransferStatus").PENDING_RECIPIENT_NUX||k===c("P2PTransferStatus").PENDING_RECIPIENT_VERIFICATION||k===c("P2PTransferStatus").PENDING_PUSH_FAIL)}};f.exports=h}),null);
__d("P2PFriendsListStore",["P2PActionConstants","EventEmitter","P2PAPI","P2PDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=[],k="",l=25;h=babelHelpers.inherits(m,c("EventEmitter"));i=h&&h.prototype;function m(){i.constructor.call(this);c("P2PDispatcher").register(this.onEventDispatched.bind(this))}m.prototype.onEventDispatched=function(n){var o=n.data,p=n.type;switch(p){case c("P2PActionConstants").FRIENDS_LIST_UPDATED:this.handleFriendsListUpdated(o);this.emit("change");break}};m.prototype.handleFriendsListUpdated=function(n){if(!k||k===n.query)j=n.friends};m.prototype.searchFriends=function(n){k=n;this.fetchFriends(n)};m.prototype.fetchFriends=function(n){c("P2PAPI").getFriendsList(l,n)};m.prototype.getFriends=function(){return j};f.exports=new m()}),null);
__d("P2PFriendPicker.react",["ix","cx","fbt","glyph","debounce","Image.react","Layout.react","MercuryIDs","P2PActions","P2PFriendsListStore","P2PLoadingMask.react","P2PLogger","P2PPaymentLoggerEvent","P2PText.react","React","ScrollableArea.react","XUIButton.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("Layout.react").FillColumn,o=c("Layout.react").Column,p=c("React").PropTypes;l=babelHelpers.inherits(q,c("React").Component);m=l&&l.prototype;function q(){__p&&__p();var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=m.constructor).call.apply(r,[this].concat(u)),this.state={friends:c("P2PFriendsListStore").getFriends(),showLoader:true},this.log=function(w,x){c("P2PLogger").log(w,babelHelpers["extends"]({www_event_flow:this.props.eventFlow},x))}.bind(this),this.loggedSearch=null,this.friendPickerStoreSub=null,this.updateFriendsList=function(){this.setState({friends:c("P2PFriendsListStore").getFriends(),showLoader:false})}.bind(this),this.onFriendSelect=function(w){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_FRIEND_PICKER_SELECT,{object_id:w.id});c("P2PActions").chatSendViewOpened({amount:this.props.amount,referrer:this.props.referrer,sendMoneyNUXDismissed:this.props.sendMoneyNUXDismissed,threadID:c("MercuryIDs").getThreadIDFromUserID(w.id)});this.props.onFriendSelected&&this.props.onFriendSelected()}.bind(this),this.getQuery=function(){return this.refs.input_ref&&this.refs.input_ref.refs.textInput.getValue()}.bind(this),this.onSearchInputChange=function(){if(!this.loggedSearch){this.log(c("P2PPaymentLoggerEvent").UI_ACTN_FRIEND_PICKER_SEARCH);this.loggedSearch=true}var w=this.getQuery();if(!w)this.setState({showLoader:true});c("P2PFriendsListStore").searchFriends(w)}.bind(this),this.renderTagLineRow=function(){if(this.state.showLoader)return null;return c("React").createElement("li",{className:"_1px5"},c("React").createElement("div",{className:"_1px6"},this.props.subTitle))}.bind(this),this.renderfriendRow=function(w){var x=void 0;if(this.props.buttonLabel)x=c("React").createElement(c("XUIButton.react"),{label:this.props.buttonLabel,size:"large"});return c("React").createElement("li",{className:"_1px7",key:w.id,onClick:this.onFriendSelect.bind(this,w)},c("React").createElement(c("Layout.react"),null,c("React").createElement(n,null,c("React").createElement("div",{className:"_1px8"},c("React").createElement(c("Image.react"),{className:"_1px9",height:50,src:w.image_src,width:50})),c("React").createElement("div",{className:"_1pxa"},c("React").createElement(c("P2PText.react"),{className:"_1pxb",type:"primary"},w.full_name))),c("React").createElement(o,{className:"_1pxc"},x)))}.bind(this),this.renderFriendList=function(){var w=this.getQuery();if(!this.state.showLoader&&this.state.friends.length===0)if(w&&w.length)return c("React").createElement("div",{className:"_1pxd"},j._("No results."));else return c("React").createElement("div",{className:"_1pxd"},j._("You do not have any friends who are able to receive money."));return c("React").createElement("div",{className:"_1pxe"},c("React").createElement(c("P2PLoadingMask.react"),{visible:this.state.showLoader}),c("React").createElement(c("ScrollableArea.react"),{height:this.props.height},c("React").createElement("ul",null,this.state.friends.map(this.renderfriendRow),this.renderTagLineRow())))}.bind(this),s}q.prototype.componentDidMount=function(){this.friendPickerStoreSub=c("P2PFriendsListStore").addListener("change",this.updateFriendsList);c("P2PFriendsListStore").searchFriends();this.log(c("P2PPaymentLoggerEvent").UI_ACTN_FRIEND_PICKER_SHOWN)};q.prototype.componentWillUnmount=function(){if(this.friendPickerStoreSub){this.friendPickerStoreSub.remove();this.friendPickerStoreSub=null}};q.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{className:"_1pxf"},c("React").createElement("div",{className:"_1pxg"},c("React").createElement(c("XUITextInput.react"),{className:"_1pxn",height:"tall",onChange:c("debounce")(this.onSearchInputChange,150),placeholder:j._("Search friends"),ref:"input_ref"}),c("React").createElement(c("Image.react"),{className:"_1pxo",src:h("101450")}))),this.renderFriendList())};q.propTypes={amount:p.string,buttonLabel:p.node,eventFlow:p.string.isRequired,height:p.number,onFriendSelected:p.func,referrer:p.string,sendMoneyNUXDismissed:p.bool,subTitle:p.node};q.defaultProps={amount:"",buttonLabel:j._("Pay Friend"),height:350,title:j._("Select Friend"),subTitle:j._("These are your friends who are able to receive money.")};f.exports=q}),null);
__d("P2PSendMoneyNUXListItems.react",["fbt","ix","Image.react","P2PListRow.react","P2PText.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.renderRow=function(s,t){return c("React").createElement(c("P2PListRow.react"),{offset:this.props.size},c("React").createElement(c("Image.react"),s),c("React").createElement(c("P2PText.react"),{type:"primary"},t))}.bind(this),o}m.prototype.render=function(){var n=this.props.size;return c("React").createElement("div",null,this.renderRow(n==="small"?{height:18,src:i("94401"),width:18}:{height:36,src:i("94400"),width:36},h._("It's FREE to send and receive money.")),this.renderRow(n==="small"?{height:27,src:i("94405"),width:18}:{height:54,src:i("94404"),width:36},h._("Industry-leading security \u2014 password protection, anti-fraud team and more.")),this.renderRow(n==="small"?{height:13,src:i("94403"),width:18}:{height:26,src:i("94402"),width:36},h._("Send money from your debit card to theirs.")))};m.propTypes={offset:l.oneOf(["small","medium"])};m.defaultProps={size:"small"};f.exports=m}),null);
__d("P2PSendMoneyNUXTitleText.react",["fbt","React"],(function a(b,c,d,e,f,g,h){"use strict";function i(){return c("React").createElement("div",null,h._("Send Money to Anyone"))}f.exports=i}),null);
__d("P2PSendMoneyNUXDialog.react",["cx","MessengerEnvironment","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","P2PDialogTitle.react","P2PEncryptedText.react","P2PLogger","P2PNUXNextButton.react","P2PPaymentLoggerEvent","P2PSendMoneyNUXListItems.react","P2PSendMoneyNUXTitleText.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$P2PSendMoneyNUXDialog2=function(){this.$P2PSendMoneyNUXDialog1(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK);this.props.onNextClick()}.bind(this),this.$P2PSendMoneyNUXDialog1=function(r,s){c("P2PLogger").log(r,babelHelpers["extends"]({www_event_flow:this.props.eventFlow},this.props.loggingData,s))}.bind(this),n}l.prototype.componentDidMount=function(){this.$P2PSendMoneyNUXDialog1(c("P2PPaymentLoggerEvent").UI_ACTN_SEND_MONEY_NUX_SHOWN)};l.prototype.render=function(){return c("React").createElement(c("P2PDialog.react"),{onToggle:this.props.onToggle,width:this.props.width},c("React").createElement(c("P2PDialogTitle.react"),null,c("React").createElement(c("P2PSendMoneyNUXTitleText.react"),null)),c("React").createElement(c("P2PDialogBody.react"),{className:"_1ou5"},c("React").createElement(c("P2PSendMoneyNUXListItems.react"),{size:"large"})),c("React").createElement(c("P2PDialogFooter.react"),{leftContent:c("React").createElement("div",{className:"_1ou6"},c("React").createElement(c("P2PEncryptedText.react"),null))},c("React").createElement(c("P2PNUXNextButton.react"),{onNextClick:this.$P2PSendMoneyNUXDialog2})))};l.propTypes={eventFlow:k.string,onToggle:k.func.isRequired,onNextClick:k.func.isRequired,width:k.number};l.defaultProps={width:c("MessengerEnvironment").messengerui?400:350};f.exports=l}),null);
__d("P2PPaymentMethodCategory",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CREDIT_CARD:"credit_card",DEBIT_CARD:"debit_card",PREPAID_CARD:"prepaid_card",STORED_VALUE_ACCOUNT:"stored_value_account",PAYPAL_BA:"paypal_ba"})}),null);
__d("P2PCreditCard",["fbt","ix","CreditCardFormParam","CreditCardTypeEnum","PaymentMethodUtils","P2PPaymentMethodCategory"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={visa:{image:i("95537"),imageLarge:i("95538"),name:"Visa"},mc:{image:i("95521"),imageLarge:i("95522"),name:"MasterCard"},disc:{image:i("95512"),imageLarge:i("95513"),name:"Discover"},jcb:{image:i("95518"),imageLarge:i("95519"),name:"JCB"},amex:{image:i("95501"),imageLarge:i("95502"),name:"American Express"},unknown:{image:i("26967"),imageLarge:i("26967"),name:h._("Unknown Card Type")}};function k(l){__p&&__p();this.setCredentialId(l[c("CreditCardFormParam").CREDENTIAL_ID]);this.setCardType(l[c("CreditCardFormParam").CARD_TYPE]);this.setCreditCardNumber(l[c("CreditCardFormParam").CARD_NUMBER]);this.setSelected(l.selected);this.setZipCode(l[c("CreditCardFormParam").ZIP]);this.setCSC(l[c("CreditCardFormParam").CSC]);this.setExp(l[c("CreditCardFormParam").CARD_EXPIRATION]);this.setIsPreset(l.isPreset);this.setIsVerified(l.isVerified);this.setIsMobileVerified(l.isMobileVerified);this.setIsPersonalTransferEligible(l.isPersonalTransferEligible);this.setCategory(l.category)}k.prototype.getCreditCardNumber=function(){return this[c("CreditCardFormParam").CARD_NUMBER]};k.prototype.setCreditCardNumber=function(l){l=l.replace(/ /g,"");this.setCardProviderProps(this[c("CreditCardFormParam").CARD_TYPE],l);l=l.substr(l.length-4);this[c("CreditCardFormParam").CARD_NUMBER]=l};k.prototype.setCardProviderProps=function(l,m){var n=this.$P2PCreditCard1(l,m);if(j[n]){this.setImage(j[n].image);this.setImageLarge(j[n].imageLarge);this.setName(j[n].name)}};k.prototype.getExp=function(){return this[c("CreditCardFormParam").CARD_EXPIRATION]};k.prototype.getExpFormatted=function(){var l=this[c("CreditCardFormParam").CARD_EXPIRATION];return l?l[c("CreditCardFormParam").MONTH]+"/"+l[c("CreditCardFormParam").YEAR]:""};k.prototype.getExpFormattedShort=function(){var l=this[c("CreditCardFormParam").CARD_EXPIRATION],m="";if(l&&l[c("CreditCardFormParam").MONTH]&&l[c("CreditCardFormParam").YEAR]){m=l[c("CreditCardFormParam").MONTH]+"/";if(l[c("CreditCardFormParam").YEAR].length===4)m+=l[c("CreditCardFormParam").YEAR].substr(2);else m+=l[c("CreditCardFormParam").YEAR]}return m};k.prototype.setExp=function(l){__p&&__p();if(!l)return;var m=void 0,n=void 0,o={};o[c("CreditCardFormParam").MONTH]=l[c("CreditCardFormParam").MONTH];o[c("CreditCardFormParam").YEAR]=l[c("CreditCardFormParam").YEAR];if(o[c("CreditCardFormParam").MONTH]&&o[c("CreditCardFormParam").MONTH].length===1)o[c("CreditCardFormParam").MONTH]="0"+o[c("CreditCardFormParam").MONTH];if(o[c("CreditCardFormParam").YEAR]&&o[c("CreditCardFormParam").YEAR].length===2){m=new Date().getFullYear()+"";n=m.substr(0,2);o[c("CreditCardFormParam").YEAR]=n+o[c("CreditCardFormParam").YEAR]}this[c("CreditCardFormParam").CARD_EXPIRATION]=o};k.prototype.getCSC=function(){return this[c("CreditCardFormParam").CSC]};k.prototype.setCSC=function(l){this[c("CreditCardFormParam").CSC]=l};k.prototype.getZipCode=function(){return this[c("CreditCardFormParam").ZIP]};k.prototype.setZipCode=function(l){this[c("CreditCardFormParam").ZIP]=l};k.prototype.getSelected=function(){return this.$P2PCreditCard2};k.prototype.setSelected=function(l){this.$P2PCreditCard2=l};k.prototype.getCardType=function(){return this[c("CreditCardFormParam").CARD_TYPE]};k.prototype.setCardType=function(l){this[c("CreditCardFormParam").CARD_TYPE]=l;this.setCardProviderProps(l,this[c("CreditCardFormParam").CARD_NUMBER])};k.prototype.getCredentialId=function(){return this[c("CreditCardFormParam").CREDENTIAL_ID]};k.prototype.setCredentialId=function(l){this[c("CreditCardFormParam").CREDENTIAL_ID]=l};k.prototype.$P2PCreditCard1=function(l,m){__p&&__p();var n="default",o=void 0,p=void 0;if(l){o=Object.keys(c("CreditCardTypeEnum")).filter(function(o){return c("CreditCardTypeEnum")[o]===l})[0];n=this.$P2PCreditCard3(o)}else if(m){p=c("PaymentMethodUtils").getCardType(m);if(p)n=p.name}return n};k.prototype.getImage=function(){return this.$P2PCreditCard4||j.unknown.image};k.prototype.setImage=function(l){this.$P2PCreditCard4=l};k.prototype.getImageLarge=function(){return this.$P2PCreditCard5||j.unknown.imageLarge};k.prototype.setImageLarge=function(l){this.$P2PCreditCard5=l};k.prototype.getName=function(){return this.$P2PCreditCard6||j.unknown.name};k.prototype.setName=function(l){this.$P2PCreditCard6=l};k.prototype.getIsPreset=function(){return this.$P2PCreditCard7};k.prototype.setIsPreset=function(l){this.$P2PCreditCard7=l||false};k.prototype.$P2PCreditCard3=function(l){__p&&__p();switch(l){case"VISA":l="visa";break;case"AMERICANEXPRESS":l="amex";break;case"MASTERCARD":l="mc";break;case"DISCOVER":l="disc";break;case"JCB":l="jcb";break;default:l="unknown";break}return l};k.prototype.getCreditCardNumberFormatted=function(){return"*"+this[c("CreditCardFormParam").CARD_NUMBER]};k.prototype.getDetailsFormatted=function(){return this.getName()+" "+this.getCreditCardNumberFormatted()};k.prototype.getCreditCardNumberMask=function(){return"**** **** **** "+this[c("CreditCardFormParam").CARD_NUMBER]};k.prototype.getMaxCSCLength=function(){var l=this.$P2PCreditCard1(this[c("CreditCardFormParam").CARD_TYPE],this[c("CreditCardFormParam").CARD_NUMBER]);return l==="amex"?4:3};k.prototype.getIsVerified=function(){return this.$P2PCreditCard8||false};k.prototype.setIsVerified=function(l){this.$P2PCreditCard8=l};k.prototype.getIsMobileVerified=function(){return this.$P2PCreditCard9||false};k.prototype.setIsMobileVerified=function(l){this.$P2PCreditCard9=l};k.prototype.getIsPersonalTransferEligible=function(){return!!this.$P2PCreditCard10};k.prototype.setIsPersonalTransferEligible=function(l){this.$P2PCreditCard10=l};k.prototype.getCategory=function(){return this.$P2PCreditCard11};k.prototype.setCategory=function(l){this.$P2PCreditCard11=l};k.prototype.getCategoryName=function(){switch(this.$P2PCreditCard11){case c("P2PPaymentMethodCategory").DEBIT_CARD:return h._("Debit");case c("P2PPaymentMethodCategory").CREDIT_CARD:return h._("Credit");case c("P2PPaymentMethodCategory").PREPAID_CARD:return h._("Prepaid");default:return null}};k.prototype.isExpired=function(){var l=this.getExp();if(!l)return false;var m=l.month,n=l.year,o=new Date(),p=o.getFullYear()+"",q=o.getMonth()+1+"";q=q.length===1?"0"+q:q;return n<p||p===n&&m<q};f.exports=k}),null);
__d("P2PTransferStore",["Arbiter","P2PActionConstants","ChannelConstants","CurrentUser","CreditCardFormParam","EventEmitter","ImmutableObject","P2PActions","P2PAPI","P2PChannelType","P2PCreditCard","P2PDispatcher","P2PGKValues","P2PNUXRendererUtils","P2PTransferParam","P2PTransferStatus","Set","MercuryThreadInformer"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("MercuryThreadInformer").get(),k=false,l=void 0,m=[],n=void 0,o={},p=false,q=false,r=new(c("Set"))(),s=false;function t(w,x){if(x)o[x]=new(c("ImmutableObject"))(w)}function u(w,x){if(x)o[x]={error:w}}h=babelHelpers.inherits(v,c("EventEmitter"));i=h&&h.prototype;function v(){i.constructor.call(this);c("Arbiter").subscribe(c("ChannelConstants").getArbiterType(c("P2PChannelType").TRANSFER_STATUS_CHANGED),this.handleChannelTransferStatusChanged.bind(this));j.subscribe("messages-received",this.handleMessageReceived.bind(this));c("P2PDispatcher").register(this.onEventDispatched.bind(this))}v.prototype.onEventDispatched=function(w){__p&&__p();var x=w.data,y=w.type;switch(y){case c("P2PActionConstants").TRANSFERS_UPDATED:this.handleTransfersUpdated(x);this.emit("change");break;case c("P2PActionConstants").TRANSFERS_UPDATED_ERROR:this.handleTransfersUpdatedError(x);this.emit("change");break;case c("P2PActionConstants").NUX_TRANSFERS_UPDATED:this.handleNUXTransfersUpdated(x);this.emit("change");break;case c("P2PActionConstants").TRANSFER_ADDED:this.handleTransferAdded(x);this.emit("change");break;case c("P2PActionConstants").TRANSFER_UPDATED:this.handleTransferUpdated(x);this.emit("change");break;case c("P2PActionConstants").TRANSFER_ACCEPTED:this.handleTransferAccepted();this.emit("change");break;case c("P2PActionConstants").TRANSFER_DECLINED:this.handleTransferDeclined(x);this.emit("change");break;case c("P2PActionConstants").EXTENSIVE_TRANSFER_DETAILS_UPDATED:this.handleTransferWithExtensiveDetails(x);this.emit("change");break}};v.prototype.getAsyncRequestState=function(){return o};v.prototype.handleTransfersUpdated=function(w){__p&&__p();n=null;p=true;var x=[],y=w.map(function(A){__p&&__p();var B={},C=this.getTransferByID(A[c("P2PTransferParam").TRANSFER_ID]),D={};if(A.creditCard){B[c("CreditCardFormParam").CREDENTIAL_ID]=A.creditCard[c("CreditCardFormParam").CREDENTIAL_ID];B[c("CreditCardFormParam").CARD_NUMBER]=A.creditCard[c("CreditCardFormParam").CARD_NUMBER];B[c("CreditCardFormParam").CARD_TYPE]=A.creditCard[c("CreditCardFormParam").CARD_TYPE];A.creditCard=new(c("P2PCreditCard"))(B)}if(C)for(var E in C)D[E]=A[E]!==null?A[E]:C[E];x.push(A[c("P2PTransferParam").TRANSFER_ID]);return new(c("ImmutableObject"))(A,D)}.bind(this)),z=m.filter(function(A){return x.indexOf(A[c("P2PTransferParam").TRANSFER_ID])===-1});m=y.concat(z);m=m.sort(function(A,B){return B.creationTime-A.creationTime})};v.prototype.handleTransfersUpdatedError=function(w){n=w.error;u(w.requestID,w.error)};v.prototype.handleNUXTransfersUpdated=function(w){if(!p)this.handleTransfersUpdated(w)};v.prototype.handleTransferAdded=function(w){__p&&__p();var x=null;t(w,w.requestID);if(w&&w.sender&&w.sender.id===c("CurrentUser").getID())s=true;x=m.filter(function(y){return y[c("P2PTransferParam").TRANSFER_ID]===w[c("P2PTransferParam").TRANSFER_ID]})[0];if(x)return;m.push(new(c("ImmutableObject"))(w));m=m.sort(function(y,z){return z.creationTime-y.creationTime})};v.prototype.handleTransferAddedError=function(w){u(w.requestID,w.errors)};v.prototype.handleChannelTransferStatusChanged=function(w,x){x=x.obj;c("P2PActions").transferUpdated(x)};v.prototype.handleMessageReceived=function(w,x){__p&&__p();for(var y in x)if(Object.prototype.hasOwnProperty.call(x,y)){var z=x[y];for(var A=0;A<z.length;A++)if(z[A].attachments&&z[A].attachments.length){var B=c("P2PNUXRendererUtils").getTransferFromMessage(z[A]);if(B){if(!this.hasReceived()&&B.receiver.id===c("CurrentUser").getID())c("P2PAPI").getBannerStates();c("P2PActions").transferAdded(B);return}}}};v.prototype.handleTransferUpdated=function(w){for(var x=0,y=m.length;x<y;x++)if(m[x][c("P2PTransferParam").TRANSFER_ID]===w[c("P2PTransferParam").TRANSFER_ID])m[x]=c("ImmutableObject").set(m[x],w)};v.prototype.handleTransferAccepted=function(){var w=void 0;for(var x=0,y=m.length;x<y;x++)if(m[x][c("P2PTransferParam").STATUS]===c("P2PTransferStatus").PENDING_RECIPIENT_NUX){w={};w[c("P2PTransferParam").STATUS]=c("P2PTransferStatus").COMPLETED;m[x]=c("ImmutableObject").set(m[x],w)}q=true};v.prototype.handleTransferDeclined=function(w){var x=void 0;for(var y=0,z=m.length;y<z;y++)if(m[y][c("P2PTransferParam").TRANSFER_ID]===w[c("P2PTransferParam").TRANSFER_ID]&&m[y][c("P2PTransferParam").STATUS]===c("P2PTransferStatus").PENDING_RECIPIENT_NUX){x={};x[c("P2PTransferParam").STATUS]=c("P2PTransferStatus").CANCELED_DECLINED;m[y]=c("ImmutableObject").set(m[y],x);break}};v.prototype.handleTransferUpdatedError=function(w){u(w.requestID,w.errors)};v.prototype.getTransferByID=function(w){return m.filter(function(x){return w===x[c("P2PTransferParam").TRANSFER_ID]})[0]};v.prototype.getAll=function(w){if(!k){k=true;c("P2PAPI").getTransactions(w)}return m};v.prototype.getNUXTransfer=function(){var w=m.filter(function(x){return c("P2PNUXRendererUtils").isRecipientActionableStatus(x)})[0];if(!w&&!l&&!k){l=true;c("P2PAPI").getNUXTransactions()}if(w&&!w.currency)c("P2PAPI").getNUXTransactions();return w};v.prototype.hasTransfers=function(){return m.length>0};v.prototype.hasAccepted=function(){return q};v.prototype.hasReceivedFromSender=function(w){for(var x=0,y=m.length;x<y;x++)if(m[x].sender.id===w)return true;return false};v.prototype.hasReceived=function(){for(var w=0,x=m.length;w<x;w++)if(m[w].receiver.id===c("CurrentUser").getID())return true;return false};v.prototype.getTransferFetchError=function(){return n};v.prototype.getTransferWithExtensiveDetailsByID=function(w){if(!r.has(w)){r.add(w);c("P2PAPI").getExtensiveTransferDetailsByID(w)}};v.prototype.handleTransferWithExtensiveDetails=function(w){if(this.getTransferByID(w.transfer_id))this.handleTransferUpdated(w);else this.handleTransferAdded(w)};v.prototype.getAllLocal=function(){return m};v.prototype.hasSentDuringSession=function(){return s};v.prototype.shouldShowSenderNUX=function(){return!c("P2PGKValues").P2PUserAddedCredentialBefore&&!this.hasSentDuringSession()};f.exports=new v()}),null);
__d("P2PFriendPickerDialog.react",["cx","fbt","P2PActions","P2PDialog.react","P2PDialogBody.react","P2PDialogTitle.react","P2PFriendPicker.react","P2PSendMoneyNUXDialog.react","P2PTransferStore","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={sendMoneyNUXDismissed:false},this.handleToggle=function(s){if(!s)this.props.onClose()}.bind(this),this.handleNUXNextClick=function(){this.setState({sendMoneyNUXDismissed:true})}.bind(this),o}m.prototype.render=function(){var n=445;if(!this.state.sendMoneyNUXDismissed&&c("P2PTransferStore").shouldShowSenderNUX())return c("React").createElement(c("P2PSendMoneyNUXDialog.react"),{eventFlow:this.props.eventFlow,onToggle:this.handleToggle,onNextClick:this.handleNUXNextClick,width:n});return c("React").createElement(c("P2PDialog.react"),{onToggle:this.handleToggle,width:n},c("React").createElement(c("P2PDialogTitle.react"),null,c("React").createElement("div",{className:"_4ia-"},this.props.title)),c("React").createElement(c("P2PDialogBody.react"),{className:"_4ib0"},c("React").createElement(c("P2PFriendPicker.react"),{amount:this.props.amount,buttonLabel:this.props.buttonLabel,eventFlow:this.props.eventFlow,onFriendSelected:this.props.onClose,referrer:this.props.referrer,sendMoneyNUXDismissed:this.state.sendMoneyNUXDismissed,subTitle:this.props.subTitle})))};m.propTypes={amount:l.string,buttonLabel:l.node,eventFlow:l.string.isRequired,onClose:l.func.isRequired,referrer:l.string,subTitle:l.node,title:l.node};m.defaultProps={amount:"",title:i._("Select Friend"),subTitle:i._("These are your friends who are able to receive money.")};f.exports={module:m,render:function n(o){c("P2PActions").showDialog(m,babelHelpers["extends"]({title:i._("Send Money to Friends")},o,{onClose:c("P2PActions").hideDialog}))}}}),null);
__d("P2PSendMoneyHelper",["fbt","MercuryIDs","P2PActions","P2PLogger","P2PFriendPickerDialog.react","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","QE2Logger"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("P2PFriendPickerDialog.react").module,j={bindProfileSendMoneyAction:function k(l,m){l.subscribe("itemclick",function(n,o){if(o.item.getValue()==="send_money")c("P2PActions").chatSendViewOpened({referrer:"profile_action",threadID:c("MercuryIDs").getThreadIDFromUserID(m)})})},bindPeopleSearchResultSendMoneyActionMaybe:function k(l,m,n){m.subscribe("show",function(){c("QE2Logger").logExposureForUser("qe_payments_p2p_people_search_menu")});if(!l)return;m.subscribe("itemclick",function(o,p){if(p.item.getValue()==="send_money"){c("P2PLogger").log(c("P2PPaymentLoggerEvent").ACTN_PEOPLE_SEARCH_SEND_MONEY_BUTTON_CLICKED,{www_event_referrer:"www_people_search_result",www_event_flow:c("P2PPaymentLoggerEventFlow").UI_FLOW_P2P_PEOPLE_SEARCH_SEND_MONEY,object_id:n});c("P2PActions").chatSendViewOpened({referrer:"people_search_result",threadID:c("MercuryIDs").getThreadIDFromUserID(n)})}})},initPaymentsBluebarMenuItems:function k(l){l.subscribe("itemclick",function(m,n){var o=n.item.getValue();if(o==="send_money")c("P2PActions").showDialog(i,{eventFlow:c("P2PPaymentLoggerEventFlow").UI_FLOW_SEND_MONEY_BLUEBAR,onClose:c("P2PActions").hideDialog,referrer:"bluebar",title:h._("Send Money to Friends")});else if(o==="payments_history")c("P2PLogger").log(c("P2PPaymentLoggerEvent").UI_ACTN_PAYMENTS_HISTORY_BLUEBAR_CLICK,{www_event_flow:c("P2PPaymentLoggerEventFlow").UI_FLOW_PAYMENTS_MENU_BLUEBAR})})}};f.exports=j}),null);