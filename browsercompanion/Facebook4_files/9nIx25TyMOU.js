if (self.CavalryLogger) { CavalryLogger.start_js(["rlYoj"]); }

__d("MessengerHotLikeSVG.react",["cssVar","cx","fbt","CurrentUser","MessengerEnvironment","React","joinClasses","uniqueID"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("React").PropTypes,n="transparent",o=j._("Thumbs Up Sign");k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.state={titleId:c("uniqueID")()},r}p.prototype.render=function(){var q=c("CurrentUser").isWorkUser()?"#1479fb":"#0084ff",r=this.props.color||(c("MessengerEnvironment").messengerui?q:"#4080ff");return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_1i1j")},c("React").createElement("svg",{"aria-labelledby":this.state.titleId,height:"100%",role:"img",version:"1.1",viewBox:"0 0 256 256",width:"100%",x:"0px",y:"0px"},c("React").createElement("title",{id:this.state.titleId},o),c("React").createElement("g",null,c("React").createElement("g",null,c("React").createElement("polyline",{fill:n,points:"256,0 258,256 2,258 "}),c("React").createElement("path",{d:"M254,147.1c0-12.7-4.4-16.4-9-20.1c2.6-4.2,5.1-10.2,5.1-18c0-15.8-12.3-25.7-32-25.7h-52c-0.5,0-1-0.5-0.9-1 c1.4-8.6,3-24,3-31.7c0-16.7-4-37.5-19.3-45.7c-4.5-2.4-8.3-3.7-14.1-3.7c-8.8,0-14.6,3.6-16.7,5.9c-1.3,1.4-1.9,3.3-1.8,5.2 l1.3,34.6c0.2,2.8-0.3,5.4-1.6,7.7l-24,47.8c-1.7,3.5-4.2,6.6-7.6,8.5c-3.5,2-6.5,5.9-6.5,9.5v94.8C78,230,94,238,112.3,238h86.1 c13.5,0,22.4-4.5,27.2-13.5c4.4-8.2,3.2-15.8,1.4-21.5c7.4-2.3,14.8-8,16.9-18.3c1.3-6.6-0.7-12.1-2.9-16.2 C247.5,165,254,159.8,254,147.1z",fill:r,stroke:n,strokeLinecap:"round",strokeWidth:"5%"}),c("React").createElement("path",{fill:r,d:"M56.2,100H13.8C7.3,100,2,105.3,2,111.8v128.5c0,6.5,5.3,11.8,11.8,11.8h42.4c6.5,0,11.8-5.3,11.8-11.8V111.8 C68,105.3,62.7,100,56.2,100z"})))))};p.propTypes={color:m.string};f.exports=p}),null);
__d("Sticker.react",["cx","fbt","Arbiter","MessengerHotLikeSVG.react","React","ReactDOM","PaddedStickerConfig","StickerConstants","emptyFunction","getElementPosition","getObjectValues","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=83,l=5e3,m=10,n={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"},o=c("React").createClass({displayName:"Sticker",propTypes:{accessibilityLabel:j.string,animationTime:j.number,animationTrigger:j.oneOf(c("getObjectValues")(n)),forceCursorPointer:j.bool,frameCount:j.number.isRequired,frameRate:j.number,framesPerCol:j.number.isRequired,framesPerRow:j.number.isRequired,onAttachmentLoad:j.func,onStickerClick:j.func,packID:j.string,packName:j.string,sourceURI:j.string.isRequired,sourceWidth:j.number.isRequired,sourceHeight:j.number.isRequired,spriteURI:j.string,stickerID:j.string,subscribedThreadID:j.string,testID:j.string},getInitialState:function p(){return{index:0,hasAnimated:false,unsubscribeID:null}},getDefaultProps:function p(){return{animationTime:l,accessibilityLabel:"",forceCursorPointer:false,frameRate:k,onStickerClick:c("emptyFunction"),packID:null,packName:""}},componentDidMount:function p(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._stopIntervalID=0;if((this.props.animationTrigger===n.LOAD_AND_HOVER||this.props.animationTrigger===n.ANIMATE_FOREVER)&&this.props.frameCount>1&&this.props.spriteURI)this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount>1){var q=c("Arbiter").subscribe(this.props.subscribedThreadID,function(r,s){this.isScrolledIntoView(s.scrollTop,s.viewHeight,s.top)}.bind(this));this.setState({unsubscribeID:q})}},componentWillUnmount:function p(){if(this.state.unsubscribeID)c("Arbiter").unsubscribe(this.state.unsubscribeID);if(this.isAnimating())clearInterval(this._stopIntervalID)},isAnimating:function p(){return!!this._stopIntervalID},getWidth:function p(){return Math.floor(this.props.sourceWidth)},getHeight:function p(){return Math.floor(this.props.sourceHeight)},preloadSprite:function p(){var q=new window.Image();q.onload=function(){if(this.isMounted()&&!this.state.hasAnimated){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate)}}.bind(this);if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI)q.src=this.props.paddedSpriteURI;else q.src=this.props.spriteURI},isScrolledIntoView:function p(q,r,s){var t=c("getElementPosition")(c("ReactDOM").findDOMNode(this)),u=q+t.y-s,v=q+r,w=u+t.height;if(this.props.frameCount>1&&!this.state.hasAnimated&&w-m<=v&&u+m>=q)this.startAnimation()},startAnimation:function p(){if(!this.state.hasAnimated&&this.props.spriteURI)this.preloadSprite();else if(!this.isAnimating()){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate)}},stopAnimation:function p(){this.setState({index:0});clearInterval(this._stopIntervalID);this._stopIntervalID=0},toggleAnimation:function p(){if(this.isAnimating())this.stopAnimation();else this.startAnimation()},shouldStopAnimating:function p(){var q=this.state.index%this.props.frameCount;if(this.props.animationTrigger===n.ANIMATE_FOREVER)return false;if(!(q===0&&this.state.index*this.props.frameRate>this.props.animationTime))return false;if(this.props.animationTrigger===n.CLICK)return true;return!this.state.isHovered},incrementFrameIndex:function p(){if(this.shouldStopAnimating())this.stopAnimation();else this.setState({index:this.state.index+1})},getStyle:function p(){__p&&__p();var q=0,r=this.props.spriteURI;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){r=this.props.paddedSpriteURI;var s=240/Math.min(this.getHeight(),this.getWidth());q=Math.floor(c("StickerConstants").SPRITE_PADDING/s)}var t=this.state.index%this.props.frameCount,u=t%this.props.framesPerRow*(this.getWidth()+q*2)+q,v=Math.floor(t/this.props.framesPerRow)*(this.getHeight()+q*2)+q,w=this.props.frameCount>1&&this.props.animationTrigger===n.CLICK||this._isStickerClickable(this.props.packID),x=this.props.forceCursorPointer||w?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI)return{backgroundImage:this._isHotLike()?null:"url("+this.props.sourceURI+")",backgroundRepeat:"no-repeat",backgroundSize:this.getWidth()+"px "+this.getHeight()+"px",cursor:x,height:this.getHeight(),width:this.getWidth()};else return{backgroundImage:"url("+r+")",backgroundPosition:-u+"px "+-v+"px",backgroundSize:(this.getWidth()+q*2)*this.props.framesPerRow+"px "+(this.getHeight()+q*2)*this.props.framesPerCol+"px",cursor:x,height:this.getHeight(),width:this.getWidth(),imageRendering:"-webkit-optimize-contrast"}},_isStickerClickable:function p(q){return q&&q!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&q!=c("StickerConstants").GRAVEYARD_PACK_ID},onStickerClick:function p(){if(!this._isStickerClickable(this.props.packID))return;if(this.props.onStickerClick)this.props.onStickerClick(this.props.packID,this.props.stickerID)},mouseLeft:function p(){this.setState({isHovered:false})},mouseEntered:function p(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation()},tabFocusSelected:function p(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation()},tabFocusUnselected:function p(){this.setState({isHovered:false})},getAriaLabel:function p(){return i._("{pack name} {sticker name} sticker",[i.param("pack name",this.props.packName),i.param("sticker name",this.props.accessibilityLabel)])},render:function p(){__p&&__p();var q=void 0,r=void 0;if(this.props.animationTrigger===n.CLICK&&this.props.frameCount>1&&this.props.spriteURI)q=true;else if((this.props.animationTrigger===n.HOVER||this.props.animationTrigger===n.LOAD_AND_HOVER)&&this.props.frameCount>1&&this.props.spriteURI)r=true;var s=q?this.toggleAnimation:null;if(this.props.packID)s=this.onStickerClick;var t=this.props.className,u=null;if(this._isHotLike()){t=c("joinClasses")(t,"_576q");u=c("React").createElement(c("MessengerHotLikeSVG.react"),{color:this.props.customColor})}return c("React").createElement("div",{"aria-label":this.getAriaLabel(),className:t,"data-testid":this.props.testID,onBlur:this.tabFocusUnselected,onClick:s,onFocus:this.tabFocusSelected,onMouseEnter:r?this.mouseEntered:null,onMouseLeave:r?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:"0"},u)},_isHotLike:function p(){if(!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)return this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;return false}});f.exports=o}),null);