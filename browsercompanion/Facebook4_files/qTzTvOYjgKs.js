if (self.CavalryLogger) { CavalryLogger.start_js(["6uiJ8"]); }

__d("VideoWithClickToPermalink",["cx","AsyncRequest","CSS","Map","SubscriptionsHandler","URI","VideoChannelViewGatings","VideoPlayerReason","logVideosClickTracking"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k,l,m){"use strict";__p&&__p();this.$VideoWithClickToPermalink1=j;this.$VideoWithClickToPermalink2=new(c("URI"))(k);this.$VideoWithClickToPermalink3=l;this.$VideoWithClickToPermalink4=new(c("Map"))();this.$VideoWithClickToPermalink5=new(c("SubscriptionsHandler"))();this.$VideoWithClickToPermalink6=m;this.$VideoWithClickToPermalink5.addSubscriptions(this.$VideoWithClickToPermalink1.addListener("stateChange",this.$VideoWithClickToPermalink7.bind(this)),this.$VideoWithClickToPermalink1.addListener("clickVideo",this.$VideoWithClickToPermalink8.bind(this)));this.$VideoWithClickToPermalink1.setLogEntryPropertyGetters({channel_eligibility:"eligible"});if(this.canOpenPermalink())this.$VideoWithClickToPermalink9();if(this.$VideoWithClickToPermalink1.hasSeenClick())this.$VideoWithClickToPermalink8()}i.prototype.$VideoWithClickToPermalink10=function(){"use strict";return this.$VideoWithClickToPermalink1.hasOption("VideoControls","available")};i.prototype.$VideoWithClickToPermalink11=function(){"use strict";this.$VideoWithClickToPermalink12("hideOnFinish");this.$VideoWithClickToPermalink12("hideOnPause")};i.prototype.$VideoWithClickToPermalink12=function(j){"use strict";var k=this.$VideoWithClickToPermalink1.getOption("VideoControls",j);this.$VideoWithClickToPermalink4.set(j,k)};i.prototype.$VideoWithClickToPermalink9=function(){"use strict";if(!this.$VideoWithClickToPermalink1.isState("destroyed"))c("CSS").addClass(this.$VideoWithClickToPermalink1.getVideoNode(),"_244o")};i.prototype.$VideoWithClickToPermalink13=function(){"use strict";if(!this.$VideoWithClickToPermalink1.isState("destroyed"))c("CSS").removeClass(this.$VideoWithClickToPermalink1.getVideoNode(),"_244o")};i.prototype.$VideoWithClickToPermalink7=function(){"use strict";if(this.canOpenPermalink())this.$VideoWithClickToPermalink9();else this.$VideoWithClickToPermalink13()};i.prototype.$VideoWithClickToPermalink8=function(){"use strict";__p&&__p();if(!this.canOpenPermalink())if(this.$VideoWithClickToPermalink1.isState("playing")){if(this.$VideoWithClickToPermalink1.getOption("VideoWithLiveBroadcast","isLive")||this.$VideoWithClickToPermalink1.getOption("VideoWithInstreamVideo","disableClickToPause"))return;this.$VideoWithClickToPermalink1.pause(c("VideoPlayerReason").USER)}else{c("logVideosClickTracking")(this.$VideoWithClickToPermalink1.getVideoNode());this.$VideoWithClickToPermalink1.play(c("VideoPlayerReason").USER)}else{this.$VideoWithClickToPermalink1.pause(c("VideoPlayerReason").USER);this.$VideoWithClickToPermalink14()}};i.prototype.canOpenPermalink=function(){"use strict";var j=true;if(c("VideoChannelViewGatings").channelViewWithInlineControls)if(!this.$VideoWithClickToPermalink1.isState("playing"))j=false;return j};i.prototype.$VideoWithClickToPermalink14=function(){"use strict";if(this.$VideoWithClickToPermalink6)new(c("AsyncRequest"))(this.$VideoWithClickToPermalink2.toString()).send();else{var j=Math.floor(this.$VideoWithClickToPermalink1.getCurrentTimePosition()),k=this.$VideoWithClickToPermalink2.addQueryData("t",j).toString();if(this.$VideoWithClickToPermalink3)window.open(k,"_blank");else window.open(k,"_self")}};i.prototype.clean=function(){"use strict";this.$VideoWithClickToPermalink5.release();this.$VideoWithClickToPermalink13()};f.exports=i}),null);
__d("VideoComponentWithClickToPermalink.react",["React","VideoComponent","VideoWithClickToPermalink"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){this.$VideoComponentWithClickToPermalink1=new(c("VideoWithClickToPermalink"))(k,this.props.videoPermalink,this.props.openInNewTab,this.props.isOfferVideo)};j.prototype.disable=function(){this.$VideoComponentWithClickToPermalink1.clean()};j.prototype.shouldComponentUpdate=function(){return false};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComponentWithClickToTahoe.react",["React","VideoComponent","VideoWithClickToTahoe"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.enable=function(k){new(c("VideoWithClickToTahoe"))(k,this.props.videoPermalink,this.props.videoChannelID,this.props.caller,this.props.isOfferVideo)};j.prototype.disable=function(){};j.prototype.shouldComponentUpdate=function(){return false};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoInlineChainingInteractions",["VideoPlayerLoggerSource","EventEmitter","tidyEvent"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=1;h=babelHelpers.inherits(k,c("EventEmitter"));i=h&&h.prototype;function k(l){__p&&__p();i.constructor.call(this);this.$VideoInlineChainingInteractions10=function(){this.$VideoInlineChainingInteractions7=true}.bind(this);this.$VideoInlineChainingInteractions11=function(){this.$VideoInlineChainingInteractions4&&this.getCurVPC().play();this.$VideoInlineChainingInteractions8=true}.bind(this);this.$VideoInlineChainingInteractions12=function(){__p&&__p();if(this.getCurVPC().isState("finished"))if(this.getCurVPC().getSource()===c("VideoPlayerLoggerSource").TAHOE)this.getCurVPC().pause();else{this.$VideoInlineChainingInteractions3&&this.$VideoInlineChainingInteractions3.remove();this.$VideoInlineChainingInteractions4&&this.$VideoInlineChainingInteractions4.remove();this.$VideoInlineChainingInteractions5&&this.$VideoInlineChainingInteractions5.remove();this.$VideoInlineChainingInteractions1()}else if(this.getCurVPC().isState("playing"))this.$VideoInlineChainingInteractions7=false}.bind(this);this.$VideoInlineChainingInteractions13=function(){if(this.getCurVPC().isState("playing"))this.getCurVPC().play();else this.getCurVPC().pause()}.bind(this);this.$VideoInlineChainingInteractions1=l.playNextVideo;this.$VideoInlineChainingInteractions2=l.chainingVPCs;this.$VideoInlineChainingInteractions3=null;this.$VideoInlineChainingInteractions4=null;this.$VideoInlineChainingInteractions5=null;this.$VideoInlineChainingInteractions6=l.selectedPosition;this.$VideoInlineChainingInteractions7=false;this.$VideoInlineChainingInteractions8=false;this.$VideoInlineChainingInteractions2.forEach(function(m,n){this.$VideoInlineChainingInteractions9(n);c("tidyEvent")(m.addListener("turnOffAutoplay",this.$VideoInlineChainingInteractions10))}.bind(this),this)}k.prototype.$VideoInlineChainingInteractions9=function(l){__p&&__p();if(this.$VideoInlineChainingInteractions2[l]&&l===this.$VideoInlineChainingInteractions6){if(this.$VideoInlineChainingInteractions8)this.$VideoInlineChainingInteractions2[l].play();else{this.$VideoInlineChainingInteractions2[l].pause();this.$VideoInlineChainingInteractions2[l].emit("VideoComponentVideoChainingPlayButton/changeProgressCircle","show");this.$VideoInlineChainingInteractions8=true;this.$VideoInlineChainingInteractions7=true}this.$VideoInlineChainingInteractions4=this.$VideoInlineChainingInteractions2[l].addListener("VideoComponentVideoChainingPlayButton/onClickPlayButton",this.$VideoInlineChainingInteractions11);this.$VideoInlineChainingInteractions3=this.$VideoInlineChainingInteractions2[l].addListener("stateChange",this.$VideoInlineChainingInteractions12);this.$VideoInlineChainingInteractions5=this.$VideoInlineChainingInteractions2[l].addListener("TahoeController/exitTahoe",this.$VideoInlineChainingInteractions13)}else if(l<this.$VideoInlineChainingInteractions6-j||l>this.$VideoInlineChainingInteractions6+j)this.$VideoInlineChainingInteractions2[l].abortLoading();else{this.$VideoInlineChainingInteractions2[l].preload();this.$VideoInlineChainingInteractions2[l].pause()}};k.prototype.getCurVPC=function(){return this.$VideoInlineChainingInteractions2[this.$VideoInlineChainingInteractions6]};k.prototype.updateSelectedPosition=function(l){__p&&__p();this.$VideoInlineChainingInteractions7=false;this.$VideoInlineChainingInteractions8=true;this.$VideoInlineChainingInteractions3&&this.$VideoInlineChainingInteractions3.remove();if(this.$VideoInlineChainingInteractions4){this.$VideoInlineChainingInteractions4.remove();this.getCurVPC().emit("changeProgressCircle","hide")}this.$VideoInlineChainingInteractions5&&this.$VideoInlineChainingInteractions5.remove();this.$VideoInlineChainingInteractions6=l;this.$VideoInlineChainingInteractions2.forEach(function(m,n){this.$VideoInlineChainingInteractions9(n)}.bind(this),this)};k.prototype.getTurnedOffAutoplay=function(){return this.$VideoInlineChainingInteractions7};f.exports=k}),null);
__d("VideoInlineChainingAutoplayUnit",["VideoAutoplayControllerX","VideoAutoplayPlayerBase","VideoInlineChainingInteractions","VideoPlayerLoggerEvent","VideoVisibilityCalculationUtils","getElementPosition","JSReliabilityFixesGatingConfig"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("VideoAutoplayPlayerBase"));i=h&&h.prototype;function j(k){i.constructor.call(this);this.$VideoInlineChainingAutoplayUnit2=k.rootNode;this.$VideoInlineChainingAutoplayUnit1=k.shouldAutoplay;this.$VideoInlineChainingAutoplayUnit3=k.videoInlineChainingInteractions}j.registerAutoplayUnit=function(k){var l=new j(k),m=c("VideoAutoplayControllerX").registerVideoUnit(l);return{videoInlineChainingAutoplayUnit:l,onVideoAutoplayUnitUnregister:m}};j.prototype.isVisible=function(){var k=this.getVideoPlayerController();if(!k)return false;return c("VideoVisibilityCalculationUtils").isVisible(k)};j.prototype.getDistanceToViewport=function(){return c("VideoVisibilityCalculationUtils").getDistanceToViewport(this.$VideoInlineChainingAutoplayUnit2)};j.prototype.getVideoPlayerController=function(){if(c("JSReliabilityFixesGatingConfig").should_get_fix)return this.$VideoInlineChainingAutoplayUnit3.getCurVPC()||null;return this.$VideoInlineChainingAutoplayUnit3.getCurVPC()};j.prototype.logDisplayed=function(){var k=this.getVideoPlayerController();k&&k.logEvent(c("VideoPlayerLoggerEvent").DISPLAYED)};j.prototype.playWithoutUnmute=function(k){var l=this.getVideoPlayerController();l&&l.play(k)};j.prototype.pause=function(k){var l=this.getVideoPlayerController();l&&l.pause(k)};j.prototype.preload=function(){var k=this.getVideoPlayerController();k&&k.preload()};j.prototype.isAutoplayable=function(){return this.$VideoInlineChainingAutoplayUnit1&&!this.$VideoInlineChainingAutoplayUnit3.getTurnedOffAutoplay()};j.prototype.getDOMPosition=function(){return c("getElementPosition")(this.$VideoInlineChainingAutoplayUnit2)};j.prototype.isLooping=function(){var k=this.getVideoPlayerController();return!!k&&!!k.getOption("Looping","isLooping")};j.prototype.isState=function(k){var l=this.getVideoPlayerController();return!!(l&&l.isState(k))};j.prototype.initialAutoplay=function(){this.$VideoInlineChainingAutoplayUnit1=true};j.prototype.pauseIfInvisible=function(){if(!this.isVisible())this.$VideoInlineChainingAutoplayUnit3.getCurVPC().pause()};f.exports=j}),null);
__d("VideoInlineChainingController",["VideoInlineChainingInteractions","VideoInlineChainingAutoplayUnit","EventEmitter"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k){i.constructor.call(this);var l={playNextVideo:k.playNextVideo,chainingVPCs:k.chainingVPCs,selectedPosition:k.selectedPosition},m=new(c("VideoInlineChainingInteractions"))(l),n={shouldAutoplay:k.shouldAutoplay,rootNode:k.rootNode,videoInlineChainingInteractions:m},o=c("VideoInlineChainingAutoplayUnit").registerAutoplayUnit(n);this.$VideoInlineChainingController1=m;this.$VideoInlineChainingController2=o.videoInlineChainingAutoplayUnit;this.$VideoInlineChainingController3=o.onVideoAutoplayUnitUnregister}j.registerChainingVPC=function(k){var l=new j(k);return l};j.prototype.updateSelectedPosition=function(k){this.$VideoInlineChainingController1.updateSelectedPosition(k);this.$VideoInlineChainingController2.initialAutoplay()};j.prototype.unregister=function(){this.$VideoInlineChainingController3()};j.prototype.pauseIfInvisible=function(){this.$VideoInlineChainingController2.pauseIfInvisible()};f.exports=j}),null);
__d("VideoReshareLink.react",["ix","cx","fbt","CenteredContainer.react","Image.react","Link.react","React","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l;k=babelHelpers.inherits(m,c("React").PureComponent);l=k&&k.prototype;m.prototype.render=function(){return c("React").createElement(c("Link.react"),{className:"_2pi9",href:this.props.shareURI,rel:"dialog",role:"link"},c("React").createElement("div",{className:"_2a_3"},c("React").createElement("div",{className:"_2a_5"}),c("React").createElement("div",{className:"_2a_c _2a_f"},c("React").createElement(c("Image.react"),{src:h("115553"),size:"24"}))),c("React").createElement("div",{className:"_63kv"},c("React").createElement(c("CenteredContainer.react"),{horizontal:false,fullHeight:true,vertical:true},j._("Share"))))};function m(){k.apply(this,arguments)}f.exports=m}),null);
__d("VideoComponentVideoChainingOverlay.react",["cx","EventListener","Image.react","ImageBlock.react","InlineBlock.react","LineClamp.react","Link.react","ProfileLink.react","React","URI","VideoChainingCaller","VideoComponent","VideoLink.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=24;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.state={mouseHover:false}}l.prototype.enable=function(m){this.vpc=m;var n=this.vpc.getRootNode();c("EventListener").listen(n,"mouseleave",function(){this.setState({mouseHover:false})}.bind(this));c("EventListener").listen(n,"mouseenter",function(){this.setState({mouseHover:true})}.bind(this))};l.prototype.disable=function(m){};l.prototype.render=function(){if(!this.vpc||!this.state.mouseHover)return null;var m=new(c("URI"))(this.props.videoPermalink),n=c("React").createElement(c("LineClamp.react"),{lines:1,fitHeightToShorterText:true,className:"_r7r"},this.props.title),o=this.props.isEmbedded?c("React").createElement(c("Link.react"),{href:m,className:"_r7q",target:"_blank"},n):c("React").createElement(c("VideoLink.react"),{channelID:this.props.channelID+":"+this.props.videoID,channelCaller:c("VideoChainingCaller").NEWSFEED_PIVOT_INLINE,videoID:this.props.videoID,href:m},c("React").createElement(c("Link.react"),{href:"#",className:"_r7q"},n)),p=c("React").createElement(c("Image.react"),{src:this.props.profilePhotoURI,width:k,className:"_r7s"}),q=this.props.isEmbedded?c("React").createElement(c("Link.react"),{href:"/"+this.props.authorID,target:"_blank"},c("React").createElement(c("ImageBlock.react"),{spacing:"none"},p,c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:k},c("React").createElement("span",{className:"_r7t"},this.props.author)))):c("React").createElement("div",null,c("React").createElement(c("ImageBlock.react"),{spacing:"none"},c("React").createElement(c("ProfileLink.react"),{uid:this.props.authorID,className:"_5pcq"},p),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",height:k},c("React").createElement(c("ProfileLink.react"),{uid:this.props.authorID,className:"_5pcq"},c("React").createElement("span",{className:"_r7t"},this.props.author)))));return c("React").createElement("div",{className:"_r7u"},c("React").createElement("div",{className:"_r7v"},o,q))};f.exports=c("VideoComponent").createContainer(l)}),null);
__d("VideoComponentVideoChainingPlayButton.react",["cx","React","Image.react","VideoChannelProgressCircle.react","VideoComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){__p&&__p();j.constructor.call(this,l);this.$VideoComponentVideoChainingPlayButton4=function(m){this.setState({shownButtonType:m==="show"?"progressCircle":"none"})}.bind(this);this.$VideoComponentVideoChainingPlayButton5=function(){if(this.$VideoComponentVideoChainingPlayButton1.isState("playing"))this.setState({shownButtonType:"none"});else this.setState({shownButtonType:"playButton"})}.bind(this);this.$VideoComponentVideoChainingPlayButton6=function(){this.$VideoComponentVideoChainingPlayButton1.emit("VideoComponentVideoChainingPlayButton/onClickPlayButton");this.props.onPlayingVideo()}.bind(this);this.$VideoComponentVideoChainingPlayButton2=null;this.$VideoComponentVideoChainingPlayButton3=null;this.state={shownButtonType:this.props.shouldShowProgressCircle?"progressCircle":"playButton"}}k.prototype.enable=function(l){this.$VideoComponentVideoChainingPlayButton1=l;if(this.props.shouldShowProgressCircle)this.$VideoComponentVideoChainingPlayButton2=this.$VideoComponentVideoChainingPlayButton1.addListener("VideoComponentVideoChainingPlayButton/changeProgressCircle",this.$VideoComponentVideoChainingPlayButton4);this.$VideoComponentVideoChainingPlayButton3=this.$VideoComponentVideoChainingPlayButton1.addListener("stateChange",this.$VideoComponentVideoChainingPlayButton5)};k.prototype.disable=function(l){this.$VideoComponentVideoChainingPlayButton3&&this.$VideoComponentVideoChainingPlayButton3.remove();this.$VideoComponentVideoChainingPlayButton2&&this.$VideoComponentVideoChainingPlayButton2.remove()};k.prototype.render=function(){if(this.state.shownButtonType==="none")return null;var l=this.state.shownButtonType==="progressCircle"?"_1tdt":"_1tdu",m=c("React").createElement(c("Image.react"),{className:l,src:"/images/marketing/video/play-small.png",onClick:this.$VideoComponentVideoChainingPlayButton6}),n=c("React").createElement("div",{className:"_1szy _61a8 _61a9",role:"link",onClick:this.$VideoComponentVideoChainingPlayButton6,tabIndex:0},c("React").createElement(c("VideoChannelProgressCircle.react"),{makeProgress:true,timeoutSec:4,onProgressDone:this.$VideoComponentVideoChainingPlayButton6,watchAndScroll:true},m)),o=this.state.shownButtonType==="progressCircle"?n:m;return c("React").createElement("div",{className:"_1td-"},o)};f.exports=c("VideoComponent").createContainer(k)}),null);
__d("VideoWithInlineChainingCarousel.react",["ix","cx","Image.react","React","VideoComponentEmbeddedControls.react","VideoComponentVideoChainingOverlay.react","VideoComponentVideoChainingPlayButton.react","VideoComponentWithClickToPermalink.react","VideoComponentWithClickToTahoe.react","VideoDataContainer.react","VideoInlineChainingController","VideoPlayer.react","VideoPlayerExperiments","VideoPlayerLoggerSource","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=302,m=172,n=302;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(p){__p&&__p();k.constructor.call(this,p);this.playNextVideo=function(){this.refs.carousel.next()}.bind(this);this.pauseIfInvisible=function(){if(this.props.isEmbedded)return;this.$VideoWithInlineChainingCarousel3.pauseIfInvisible()}.bind(this);this.state={selectedPosition:0};this.$VideoWithInlineChainingCarousel4=new Array(this.props.videoData.length);this.$VideoWithInlineChainingCarousel1=0}o.prototype.componentDidMount=function(){if(this.refs.carousel)this.$VideoWithInlineChainingCarousel2=this.refs.carousel.subscribe(["animation_start"],function(p,q){if(p==="animation_start")this.setState({selectedPosition:q})}.bind(this))};o.prototype.componentDidUpdate=function(p,q){if(this.$VideoWithInlineChainingCarousel3&&this.state.selectedPosition!==q.selectedPosition){var r=this.state.selectedPosition;this.$VideoWithInlineChainingCarousel5(r)}};o.prototype.componentWillUnmount=function(){this.$VideoWithInlineChainingCarousel3&&this.$VideoWithInlineChainingCarousel3.unregister()};o.prototype.$VideoWithInlineChainingCarousel6=function(){if(!this.$VideoWithInlineChainingCarousel3&&this.$VideoWithInlineChainingCarousel1===this.props.videoData.length){var p={playNextVideo:this.playNextVideo,chainingVPCs:this.$VideoWithInlineChainingCarousel4,selectedPosition:this.state.selectedPosition,shouldAutoplay:true,rootNode:this.props.rootNode};this.$VideoWithInlineChainingCarousel3=c("VideoInlineChainingController").registerChainingVPC(p)}};o.prototype.$VideoWithInlineChainingCarousel5=function(p){this.$VideoWithInlineChainingCarousel3.updateSelectedPosition(p)};o.prototype.$VideoWithInlineChainingCarousel7=function(){return c("React").createElement(c("XUICarouselArrow.react"),null,c("React").createElement("div",{className:"_1mse"},c("React").createElement(c("Image.react"),{src:h("114590")})))};o.prototype.$VideoWithInlineChainingCarousel8=function(){return c("React").createElement(c("XUICarouselArrow.react"),null,c("React").createElement("div",{className:"_1mse"},c("React").createElement(c("Image.react"),{src:h("114600")})))};o.prototype.$VideoWithInlineChainingCarousel9=function(p){if(this.props.isEmbedded&&c("VideoPlayerExperiments").embeddedPlayerInlineChaining)return c("React").createElement(c("VideoComponentWithClickToPermalink.react"),{isOfferVideo:false,openInNewTab:true,videoPermalink:this.props.videoData[p].permalink});return c("React").createElement(c("VideoComponentWithClickToTahoe.react"),{videoPermalink:this.props.videoData[p].permalink,videoChannelID:this.props.videoData[p].channelID,isOfferVideo:false})};o.prototype.render=function(){__p&&__p();var p,q=this,r=this.props.videoData.length>this.props.moveStep,s=this.props.isSquare?n:m,t=[],u=function u(v){t.push(c("React").createElement(c("XUICarouselItem.react"),{className:"_sc5",key:v},c("React").createElement(c("VideoDataContainer.react"),{videoID:q.props.videoData[v].relatedVideoID,renderLoading:function w(){return c("VideoDataContainer.react").renderSpinner(l,s)}},c("React").createElement(c("VideoPlayer.react"),{videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,width:l,height:s,playerOrigin:q.props.playerOrigin,disableClickPlayPause:true,startMuted:true,ref:function(w){if(w&&!this.$VideoWithInlineChainingCarousel4[v]){this.$VideoWithInlineChainingCarousel4[v]=w.vpc;this.$VideoWithInlineChainingCarousel1=this.$VideoWithInlineChainingCarousel1+1;if(this.$VideoWithInlineChainingCarousel1===this.props.videoData.length)this.$VideoWithInlineChainingCarousel6()}}.bind(q),subOrigin:c("VideoPlayerLoggerSource").VIDEO_INLINE_CHAINING},c("React").createElement(c("VideoComponentEmbeddedControls.react"),{hideControlsOnPause:true,showSettingsButton:false}),c("React").createElement(c("VideoComponentVideoChainingOverlay.react"),{author:q.props.videoData[v].author,authorID:q.props.videoData[v].authorID,channelID:q.props.videoData[v].channelID,isEmbedded:q.props.isEmbedded,profilePhotoURI:q.props.videoData[v].profilePhotoURI,title:q.props.videoData[v].title,videoID:q.props.videoData[v].relatedVideoID,videoPermalink:q.props.videoData[v].permalink}),c("React").createElement(c("VideoComponentVideoChainingPlayButton.react"),{onPlayingVideo:q.pauseIfInvisible,shouldShowProgressCircle:v===0}),q.$VideoWithInlineChainingCarousel9(v)))))};for(var v=0;v<this.props.videoData.length;v++)u(v);return c("React").createElement(c("XUICarousel.react"),{className:"_sc6",animator:new(c("XUICarouselAnimator"))({type:"horizontal"}),ref:"carousel",autoplay:false,autoplayInterval:2e3,initialIndex:0,resizeViewport:"disabled",wrapAround:false,initialAutoplay:false,stopAutoplayOnHover:false,viewportWidth:this.props.viewPortWidth,viewportHeight:s,arrows:r?[this.$VideoWithInlineChainingCarousel7(),this.$VideoWithInlineChainingCarousel8()]:null},t)};o.defaultProps={moveStep:1};f.exports=o}),null);
__d("VideoWithInlineChainingFollowUnit.react",["cx","fbt","AsyncRequest","Image.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){__p&&__p();k.constructor.call(this,m);this.$VideoWithInlineChainingFollowUnit5=function(){__p&&__p();if(this.$VideoWithInlineChainingFollowUnit2)return;this.$VideoWithInlineChainingFollowUnit2=true;var n=this.state.isFollowing?this.props.followUnitConfig.unfollowURI:this.props.followUnitConfig.followURI;this.setState({isFollowing:!this.state.isFollowing});this.$VideoWithInlineChainingFollowUnit1=new(c("AsyncRequest"))();this.$VideoWithInlineChainingFollowUnit1.setURI(n).setErrorHandler(function(){this.$VideoWithInlineChainingFollowUnit2=false}.bind(this)).setAbortHandler(function(){this.$VideoWithInlineChainingFollowUnit2=false}.bind(this)).setHandler(function(){this.$VideoWithInlineChainingFollowUnit2=false}.bind(this)).send()}.bind(this);this.state={isFollowing:this.props.followUnitConfig.isFollowing};this.$VideoWithInlineChainingFollowUnit1=null;this.$VideoWithInlineChainingFollowUnit2=false}l.prototype.componentWillUnmount=function(){this.$VideoWithInlineChainingFollowUnit1&&this.$VideoWithInlineChainingFollowUnit1.abort()};l.prototype.render=function(){if(!this.props.followUnitConfig.shouldShowFollowUnit)return null;return this.state.isFollowing?this.$VideoWithInlineChainingFollowUnit3():this.$VideoWithInlineChainingFollowUnit4()};l.prototype.$VideoWithInlineChainingFollowUnit4=function(){return c("React").createElement(c("ShimButton.react"),{className:"_61ov",onClick:this.$VideoWithInlineChainingFollowUnit5},c("React").createElement(c("Image.react"),{src:"/images/video/embed/follow.png"}),c("React").createElement("div",{className:"_1msh"},c("React").createElement("span",{className:"_3-91"},i._("Follow")),this.props.followUnitConfig.ownerName))};l.prototype.$VideoWithInlineChainingFollowUnit3=function(){return c("React").createElement(c("ShimButton.react"),{className:"_61ov",onClick:this.$VideoWithInlineChainingFollowUnit5},c("React").createElement(c("Image.react"),{src:"/images/video/embed/following.png"}),c("React").createElement("div",{className:"_1msh"},c("React").createElement("span",{className:"_3-91"},i._("Unfollow")),this.props.followUnitConfig.ownerName))};f.exports=l}),null);
__d("VideoWithInlineChainingThumbnailCarousel.react",["ix","cx","fbt","Image.react","LineClamp.react","ProfileLink.react","React","URI","VideoChainingCaller","VideoHomeThumbnailOverlayGradientContainer.react","VideoLink.react","VideoPlayerOrigins","XUICarousel.react","XUICarouselAnimator","XUICarouselArrow.react","XUICarouselItem.react","XUIText.react","fbglyph","formatDurationSeconds","intlSummarizeNumber"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=200,n=113,o=130,p=-1;k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(r){l.constructor.call(this,r);this.state={hoverIdx:p}}q.prototype.$VideoWithInlineChainingThumbnailCarousel1=function(){var r=j._("See Previous");return c("React").createElement(c("XUICarouselArrow.react"),null,c("React").createElement("div",{className:"_it-"},c("React").createElement("div",{className:"_it_ _iu0",title:r},c("React").createElement(c("Image.react"),{src:h("124201")}))))};q.prototype.$VideoWithInlineChainingThumbnailCarousel2=function(){var r=j._("See Previous");return c("React").createElement(c("XUICarouselArrow.react"),null,c("React").createElement("div",{className:"_it-"},c("React").createElement("div",{className:"_it_ _iu1",title:r},c("React").createElement(c("Image.react"),{src:h("124211")}))))};q.prototype.render=function(){__p&&__p();var r=this.props.videoData,s=r.length>this.props.moveStep,t=r.map(function(u,v){if(!u||!u.coverImageURI)return null;var w=c("React").createElement(c("ProfileLink.react"),{uid:u.authorID},c("React").createElement(c("XUIText.react"),{size:"small",className:"_2j6v"},u.author)),x=u.title||j._("Video by {author_name}",[j.param("author_name",u.author)]);return c("React").createElement(c("XUICarouselItem.react"),{className:"_sc5",key:v,onMouseEnter:function(){return this.setState({hoverIdx:v})}.bind(this),onMouseLeave:function(){return this.setState({hoverIdx:p})}.bind(this)},c("React").createElement(c("VideoLink.react"),{channelID:u.channelID,channelCaller:c("VideoChainingCaller").TAHOE,videoID:u.relatedVideoID,href:new(c("URI"))(u.permalink),playerOrigin:this.props.playerOrigin||c("VideoPlayerOrigins").UNKNOWN,playerSuborigin:"inline_chaining_endcard",useTahoe:true},c("React").createElement(c("Image.react"),{src:u.coverImageURI,className:"_ium"}),c("React").createElement(c("VideoHomeThumbnailOverlayGradientContainer.react"),{direction:"downward",className:"_3a2v",shadeAlpha:.65},c("React").createElement("div",{className:"_4wf2"},c("React").createElement(c("LineClamp.react"),{lines:2,fitHeightToShorterText:true},c("React").createElement(c("XUIText.react"),{size:"medium"},x))),this.props.source==="same_publisher"?c("React").createElement(c("XUIText.react"),{size:"small",className:"_2j6v"},j._({"*":"{number} Views","_1":"1 View"},[j.plural(u.playCount,"number",c("intlSummarizeNumber")(u.playCount))])):w),this.state.hoverIdx===v?c("React").createElement("div",{className:"_425y"},c("React").createElement("div",{className:"_iun"},c("React").createElement("div",{className:"_2a_5"}),c("React").createElement("div",{className:"_iuo"},c("React").createElement(c("Image.react"),{src:h("115397"),size:"24"})))):u.isLive?c("React").createElement("div",{className:"_5pe- _425z"},c("React").createElement("span",{className:"_5pf0"},j._("LIVE"))):c("React").createElement(c("XUIText.react"),{className:"_3a5j _425z",weight:"bold"},c("formatDurationSeconds")(u.durationInSec))))}.bind(this));t=t.filter(function(u){return u});if(!t||t.length<1)return null;t.push(c("React").createElement(c("XUICarouselItem.react"),{key:"filler"},c("React").createElement("div",{className:"_iuq"})));return c("React").createElement(c("XUICarousel.react"),{className:"_2t9v",animator:new(c("XUICarouselAnimator"))({type:"horizontal"}),ref:"carousel",autoplay:false,autoplayInterval:2e3,initialIndex:0,resizeViewport:"disabled",wrapAround:false,initialAutoplay:false,stopAutoplayOnHover:false,viewportWidth:this.props.viewPortWidth,viewportHeight:o,arrows:s?[this.$VideoWithInlineChainingThumbnailCarousel1(),this.$VideoWithInlineChainingThumbnailCarousel2()]:null},t)};q.defaultProps={moveStep:1};f.exports=q}),null);
__d("XVideoInlineChainingRelatedVideosController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/video_inline_chaining/related_videos/",{video_id:{type:"Int",required:true},source:{type:"String",required:true}})}),null);
__d("VideoWithInlineChaining.react",["cx","fbt","AsyncRequest","CenteredContainer.react","CSS","InlineBlock.react","List.react","React","ReactCSSTransitionGroup","Image.react","Set","ShimButton.react","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerLoggerSource","VideoPlayerReason","VideoReshareLink.react","VideoWatchAgainLink.react","VideoWithInlineChainingCarousel.react","VideoWithInlineChainingFollowUnit.react","VideoWithInlineChainingThumbnailCarousel.react","XVideoInlineChainingRelatedVideosController","setImmediate"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=.8,m=new(c("Set"))([c("VideoPlayerLoggerSource").EMBEDDED,c("VideoPlayerLoggerSource").EMBEDDED_VIDEO,c("VideoPlayerLoggerSource").EMBEDDED_VIDEO_PREVIEW,c("VideoPlayerLoggerSource").EMBEDDED_PAGE_PLUGIN,c("VideoPlayerLoggerSource").EMBEDDED_VIDEO_FROM_UFI]);j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){__p&&__p();k.constructor.call(this,o);this.$VideoWithInlineChaining6=function(){var p=this.props.vpc.getSource(),q=(m.has(p)||p===c("VideoPlayerLoggerSource").INLINE)&&this.props.vpc.isState("finished");if(q){this.$VideoWithInlineChaining11(this.props.videoID);c("CSS").addClass(this.$VideoWithInlineChaining3,"_3wx6");this.setState({videoIsFinished:true})}else{c("CSS").removeClass(this.$VideoWithInlineChaining3,"_3wx6");this.setState({videoIsFinished:false})}}.bind(this);this.$VideoWithInlineChaining7=function(p){if(this.$VideoWithInlineChaining5&&p.position>this.$VideoWithInlineChaining5*l)this.$VideoWithInlineChaining11(this.props.videoID)}.bind(this);this.$VideoWithInlineChaining8=function(){if(this.$VideoWithInlineChaining5===null)this.$VideoWithInlineChaining5=this.props.vpc.getPlaybackDuration()}.bind(this);this.$VideoWithInlineChaining10=function(){c("setImmediate")(function(){this.props.vpc.play(c("VideoPlayerReason").USER)}.bind(this))}.bind(this);this.$VideoWithInlineChaining1=null;this.$VideoWithInlineChaining2=false;this.$VideoWithInlineChaining3=this.props.vpc.getRootNode();this.$VideoWithInlineChaining4=null;this.$VideoWithInlineChaining5=null;this.state={videoData:null,videoIsFinished:false}}n.prototype.componentDidMount=function(){this.$VideoWithInlineChaining4=new(c("SubscriptionsHandler"))();this.$VideoWithInlineChaining4.addSubscriptions(this.props.vpc.addListener("stateChange",this.$VideoWithInlineChaining6),this.props.vpc.addListener("updateStatus",this.$VideoWithInlineChaining7),this.props.vpc.addListener("updateMetadata",this.$VideoWithInlineChaining8))};n.prototype.componentWillUnmount=function(){this.$VideoWithInlineChaining1&&this.$VideoWithInlineChaining1.abort();this.$VideoWithInlineChaining4&&this.$VideoWithInlineChaining4.release()};n.prototype.shouldComponentUpdate=function(o,p){return p.videoIsFinished!==this.state.videoIsFinished||p.videoData!==null&&this.state.videoData===null};n.prototype.render=function(){if(!this.state.videoIsFinished)return null;var o=this.state.videoData,p=!o||o.length===0,q=this.props.style==="image"?c("React").createElement(c("CenteredContainer.react"),{vertical:true,horizontal:true,fullHeight:true,className:!p?"_384g":""},c("React").createElement(c("InlineBlock.react"),null,c("React").createElement(c("VideoWatchAgainLink.react"),{vpc:this.props.vpc}),c("React").createElement(c("VideoReshareLink.react"),{vpc:this.props.vpc,shareURI:this.props.shareURI}))):null;if(!o||o.length<1)return c("React").createElement("div",{className:"_4fm0 _3wx6"},c("React").createElement(c("CenteredContainer.react"),{vertical:true,horizontal:true,fullHeight:true,className:!p?"_384g":""},c("React").createElement(c("List.react"),{border:"none"},c("React").createElement("li",{className:"_4tgt"},c("React").createElement(c("VideoWatchAgainLink.react"),{vpc:this.props.vpc})),c("React").createElement("li",{className:"_4tgt"},c("React").createElement(c("VideoReshareLink.react"),{vpc:this.props.vpc,shareURI:this.props.shareURI})))));if(!o||o.length==0)return null;var r=this.props.vpc.getVideoResolution().height>=this.props.vpc.getVideoResolution().width,s=m.has(this.props.vpc.getSource()),t=s&&c("VideoPlayerExperiments").embeddedPlayerInlineChaining?this.$VideoWithInlineChaining9():c("React").createElement(c("Image.react"),{className:"_4fly",src:"/images/video/inline_pivot/replay.png",onClick:this.$VideoWithInlineChaining10}),u=this.props.followUnitConfig&&c("VideoPlayerExperiments").embeddedPlayerInlineChaining?c("React").createElement(c("VideoWithInlineChainingFollowUnit.react"),{followUnitConfig:this.props.followUnitConfig}):null,v=c("React").createElement("div",{className:"_1msg"},t,u),w=c("React").createElement("div",{className:"_4flz"},this.props.source==="same_publisher"?i._("More Videos from {name}",[i.param("name",o[0].author)]):i._("More Videos")),x=this.props.style==="image"?c("React").createElement(c("VideoWithInlineChainingThumbnailCarousel.react"),{videoData:o,viewPortWidth:this.props.viewPortWidth,playerOrigin:this.props.playerOrigin,source:this.props.source}):c("React").createElement(c("VideoWithInlineChainingCarousel.react"),{videoData:o,viewPortWidth:this.props.viewPortWidth,isEmbedded:s,isSquare:r,rootNode:this.$VideoWithInlineChaining3,playerOrigin:this.props.playerOrigin});return c("React").createElement("div",{className:"_4fm0 _3wx6"+(this.props.style!=="video"?" _3-qk":"")},this.props.style==="video"?v:null,q,c("React").createElement(c("ReactCSSTransitionGroup"),{transitionAppear:true,transitionAppearTimeout:500,transitionEnter:false,transitionLeave:false,transitionName:{appear:"_61ey",appearActive:"_61ez"}},c("React").createElement("div",{className:"_4s1-"},w,x)))};n.prototype.$VideoWithInlineChaining9=function(){return c("React").createElement(c("ShimButton.react"),{className:"_4fly",onClick:this.$VideoWithInlineChaining10},c("React").createElement(c("Image.react"),{src:"/images/video/inline_pivot/replay.png"}),c("React").createElement("div",{className:"_1msh"},i._("Replay")))};n.prototype.$VideoWithInlineChaining11=function(o){__p&&__p();if(this.$VideoWithInlineChaining2||this.state.videoData)return;this.$VideoWithInlineChaining2=true;var p=c("XVideoInlineChainingRelatedVideosController").getURIBuilder().setInt("video_id",o).setString("source",this.props.source).getURI();this.$VideoWithInlineChaining1=new(c("AsyncRequest"))();this.$VideoWithInlineChaining1.setURI(p).setMethod("GET").setReadOnly(true).setErrorHandler(function(){this.$VideoWithInlineChaining2=false}.bind(this)).setAbortHandler(function(){this.$VideoWithInlineChaining2=false}.bind(this)).setHandler(function(q){var r=q.getPayload().videoData;r&&this.setState({videoData:r});this.$VideoWithInlineChaining2=false}.bind(this)).send()};f.exports=n}),null);