if (self.CavalryLogger) { CavalryLogger.start_js(["1oxX3"]); }

__d("NotificationSeenFilter",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ALL:"all",SEEN_ONLY:"seen_only",UNSEEN_ONLY:"unseen_only",READ_ONLY:"read_only",UNREAD_ONLY:"unread_only",SEEN_BUT_UNREAD_ONLY:"seen_unread_only"})}),null);
__d("NotificationSeenState",["NotificationConstants","NotificationSeenFilter","NotificationUpdates","createObjectFrom","ifRequired","objectValues"],(function a(b,c,d,e,f,g){__p&&__p();var h=1,i=2,j=0,k=h,l=3,m=c("NotificationConstants").PayloadSourceType.INITIAL_LOAD,n={SEEN_AND_READ:l,SEEN_BUT_UNREAD:k,UNSEEN_AND_UNREAD:j},o={};c("ifRequired")("NotificationStore",function(t){var u=t.getAllForAllEndpoints(),v=c("objectValues")(u),w=q(v);Object.keys(w).forEach(function(x){var y=w[x];o[x]=y})});function p(t){__p&&__p();var u=[],v=[];Object.keys(t).forEach(function(w){__p&&__p();var x=t[w],y=o[w];o[w]=x;if(y===undefined){u.push(w);v.push(w);return}var z=y^x;if(z&h)u.push(w);if(z&i)v.push(w)});u.length&&c("NotificationUpdates").didUpdateSeenState(u);v.length&&c("NotificationUpdates").didUpdateReadState(v)}c("NotificationUpdates").subscribe("update-notifications",function(t,u){var v=u.nodes;if(!v||!v.length)return;var w=u.payloadsource,x=c("NotificationConstants").PayloadSourceType,y=w==x.ENDPOINT,z=v.filter(function(B){var C=B.alert_id;return!y||o[C]===undefined}),A=q(z);p(A)});function q(t){var u={};t.forEach(function(v){if(v.seen_state)u[v.alert_id]=n[v.seen_state]});return u}c("NotificationUpdates").subscribe("update-seen",function(t,u){__p&&__p();if(!u.seenState)return;var v=[],w={};Object.keys(u.seenState).forEach(function(y){if(!u.seenState||!u.seenState[y]){v.push(y);return}var z=o[y];if(z!==undefined)w[y]=z|h});var x=babelHelpers["extends"]({},c("createObjectFrom")(v,j),w);p(x)});c("NotificationUpdates").subscribe("update-read",function(t,u){__p&&__p();if(!u.readState)return;var v=[],w={};Object.keys(u.readState).forEach(function(y){__p&&__p();if(!u.readState)return;var z=u.readState[y];if(z){v.push(y);return}var A=o[y];if(A!==undefined)w[y]=A&~i;else if(u.payloadsource==m)w[y]=k});var x=babelHelpers["extends"]({},c("createObjectFrom")(v,l),w);p(x)});function r(t){var u=o[t];return u}var s={isRead:function t(u){return r(u)===l},isSeen:function t(u){return r(u)!==j},getUnseenCount:function t(){return s.getUnseenIDs().length},getUnseenIDs:function t(){return Object.keys(o).filter(function(u){return o[u]===j})},getUnreadCount:function t(){return s.getUnreadIDs().length},getUnreadIDs:function t(){return Object.keys(o).filter(function(u){return o[u]!==l})},validateFilter:function t(u,v){switch(v){case c("NotificationSeenFilter").SEEN_ONLY:return s.isSeen(u);case c("NotificationSeenFilter").UNSEEN_ONLY:return!s.isSeen(u);case c("NotificationSeenFilter").READ_ONLY:return s.isRead(u);case c("NotificationSeenFilter").UNREAD_ONLY:return!s.isRead(u);case c("NotificationSeenFilter").SEEN_BUT_UNREAD_ONLY:return s.isSeen(u)&&!s.isRead(u);default:return true}}};f.exports=s}),6);
__d("NotificationJewelControllerModuleLoader",["JSResource","NotificationSeenState","NotificationStore","NotificationUpdates"],(function a(b,c,d,e,f,g){c("NotificationSeenState");c("NotificationStore");c("NotificationUpdates");f.exports=c("JSResource")("NotificationJewelController").__setRef("NotificationJewelControllerModuleLoader")}),null);
__d("NotificationJewelHeaderController",["DOM","Event","NotificationSeenState","NotificationUpdates","NotificationUserActions"],(function a(b,c,d,e,f,g){function h(i,j){"use strict";c("Event").listen(i,"click",function(){c("NotificationUserActions").markAllNotificationsAsRead()});c("NotificationUpdates").subscribe("read-state-updated",function(){if(j)c("DOM").setContent(j,c("NotificationSeenState").getUnreadCount())})}f.exports=h}),null);
__d("NotificationUpNext",["Bootloader","DOMQuery","NotificationsDefaultEndpointURI","QE2Logger","React","ReactDOM","Toggler","ge","ifRequired"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h="fbNotificationsJewel",i={initialize:function j(k){__p&&__p();var l=arguments.length<=1||arguments[1]===undefined?{endpointURI:c("NotificationsDefaultEndpointURI")}:arguments[1];c("Bootloader").loadModules(["NotificationUpNextStore","NotificationUpNextDialog.react"],function(m,n){__p&&__p();if(k.shouldExpose&&k.universeName)m.subscribe(function(){c("QE2Logger").logExposureForUser(k.universeName)});m.setTriggerAction(k.triggerAction);m.setSupportedBucketType(k.supportedBucket);m.setLooping(k.loop);var o=k.data;if(!o)return;m.setMaxAge(o.maxAgeInSecs);var p=c("ge")(h),q=c("DOMQuery").scry(p,".jewelButton")[0];c("ReactDOM").render(c("React").createElement(n,{context:q,endpointConfig:l,footer:o.footerText,hideDelay:o.hideDelayInMs,hideOnBlur:o.hideOnBlur,maxImpressions:o.maxImpressions,onFooterClick:function r(){c("Toggler").show(p);c("ifRequired")("ClientChromeStore",function(s){s.dispatch({type:"UPDATE_ACTIVE_FLYOUT",data:"notification"})})},showDelay:o.showDelayInMs,title:o.titleText}),document.createElement("div"))},"NotificationUpNext")}};f.exports=i}),null);
__d("NotificationJewelListController",["NotificationComponentsBootloader","NotificationListConfig","NotificationUpNext","React","ReactDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("NotificationListConfig").numNotificationsPerPage,i=c("NotificationListConfig").upNextConfig,j=null,k=null,l=null,m=false;function n(o,p){"use strict";this.$NotificationJewelListController1=false;this.$NotificationJewelListController2=false;this.$NotificationJewelListController3=o;this.$NotificationJewelListController4=p;this.$NotificationJewelListController5()}n.prototype.open=function(){"use strict";this.$NotificationJewelListController1=true;this.$NotificationJewelListController6()};n.prototype.pause=function(){"use strict";this.$NotificationJewelListController2=true;this.$NotificationJewelListController6()};n.prototype.unpause=function(){"use strict";this.$NotificationJewelListController2=false;this.$NotificationJewelListController6()};n.prototype.$NotificationJewelListController5=function(){"use strict";if(m)return;m=true;if(i)c("NotificationUpNext").initialize(i,{endpointURI:this.$NotificationJewelListController4.endpoint})};n.prototype.$NotificationJewelListController6=function(){"use strict";if(!j||!k)c("NotificationComponentsBootloader").load().done(function(o){var p=o[0],q=o[1],r=o[2];j=p;k=q;l=r;this.$NotificationJewelListController7()}.bind(this));else this.$NotificationJewelListController7()};n.prototype.$NotificationJewelListController7=function(){"use strict";if(!j||!k||!l)return;c("ReactDOM").render(c("React").createElement(l,null,c("React").createElement(j,{hasEverBeenOpened:this.$NotificationJewelListController1,paused:this.$NotificationJewelListController2,tracking:this.$NotificationJewelListController4.tracking,shortenTimestamp:this.$NotificationJewelListController4.shortenTimestamp,businessID:this.$NotificationJewelListController4.businessID,maxHeight:this.$NotificationJewelListController4.maxHeight,useChevron:this.$NotificationJewelListController4.useChevron,chevronType:this.$NotificationJewelListController4.chevronType,numPerPage:h,listRenderer:k,upsell:this.$NotificationJewelListController4.upsell||null,endpoint:this.$NotificationJewelListController4.endpoint})),this.$NotificationJewelListController3)};f.exports=n}),null);
__d("XBrowserPushDisabledController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XServiceWorkerSessionChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/service_workers/session/persist/",{})}),null);
__d("BrowserPushSessionChange.react",["cx","fbt","ix","AsyncRequest","BanzaiLogger","Image.react","ImageBlock.react","LayerFadeOnHide","React","ReloadPage","XBrowserPushDisabledController","XBrowserPushXOutController","XServiceWorkerSessionChangeController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={dialogShown:true,spin:false},this.$BrowserPushSessionChange1=function(t){if(t)return;this.setState({dialogShown:false});this.$BrowserPushSessionChange2("session_keep");var u=c("XServiceWorkerSessionChangeController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(u).setMethod("POST").setData({app_id:this.props.push.appID}).setAllowCrossPageTransition(true).setHandler(function(v){this.props.onHide()}.bind(this)).send()}.bind(this),this.$BrowserPushSessionChange3=function(){this.setState({spin:true});this.$BrowserPushSessionChange2("session_uninstall");this.$BrowserPushSessionChange2("xout");var t=c("XBrowserPushXOutController").getURIBuilder().getURI(),u=function(){this.props.push.unregisterPushAndSW(c("XBrowserPushDisabledController"),c("AsyncRequest")).done(function(v){c("ReloadPage").now()})}.bind(this);new(c("AsyncRequest"))().setURI(t).setMethod("POST").setHandler(u).setAllowCrossPageTransition(true).send()}.bind(this),p}n.prototype.$BrowserPushSessionChange2=function(event){"use strict";var o={event:event,appid:this.props.push.appID,surface:"session_change"};c("BanzaiLogger").log("BrowserPushLoggerConfig",o)};n.prototype.componentDidMount=function(){"use strict";this.$BrowserPushSessionChange2("session_change_prompt")};n.prototype.render=function(){"use strict";if(!this.state.dialogShown)return null;var o=j("92724");return c("React").createElement(c("XUIDialog.react"),{shown:true,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},onToggle:this.$BrowserPushSessionChange1,width:445,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),null,i._("Desktop Notifications Are On")),c("React").createElement(c("XUIDialogBody.react"),null,this.state.spin?c("React").createElement(c("XUISpinner.react"),{size:"large"}):c("React").createElement(c("ImageBlock.react"),{spacing:"medium"},c("React").createElement(c("Image.react"),{src:o,alt:i._("Desktop Notifications Are On")}),c("React").createElement("div",null,c("React").createElement("div",{className:"_3-8h"},c("React").createElement(c("XUIText.react"),{size:"large"},i._("When you get a new notification, you'll see it in the corner of your screen."))),c("React").createElement("div",{className:"_3-8h"},c("React").createElement(c("XUIText.react"),{size:"small"},i._("To be sure you get notifications, you'll now stay logged into Facebook on this computer. If you're using a public computer or don't want to stay logged in, click Undo to turn off desktop notifications.")))))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("Undo"),onClick:this.$BrowserPushSessionChange3}),c("React").createElement(c("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})))};n.propTypes={onHide:m.func.isRequired,push:m.object.isRequired};f.exports=n}),null);
__d("MockChromeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("isNode")(this.props.message)?c("React").createElement(c("DOMContainer.react"),null,this.props.message):this.props.message,o=!this.props.image&&c("WorkModeConfig").is_work_user,p=this.props.image?this.props.image:this.props.defaultImage;return c("React").createElement("section",{className:c("joinClasses")(this.props.className,"_257o")},c("React").createElement("span",{className:"_61kd"}),c("React").createElement(c("Image.react"),{className:(!o?"_ega":"")+(o?" _2rk4":""),draggable:false,src:p}),c("React").createElement("div",{className:"_egb"},c("React").createElement("h3",null,c("BrowserPushStrings").title),c("React").createElement("p",null,n),c("React").createElement("cite",null,window.location.hostname)))};function m(){k.apply(this,arguments)}m.defaultProps={message:c("WorkModeConfig").work_chat_as_home?i._("You have new messages."):i._("You have new notifications."),defaultImage:c("WorkModeConfig").is_work_user?c("WorkModeConfig").work_chat_as_home?j("277478"):j("351290"):j("76304")};f.exports=m}),null);
__d("MockEdgeBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("isNode")(this.props.message)?c("React").createElement(c("DOMContainer.react"),null,this.props.message):this.props.message,o=i._("Microsoft Edge");return c("React").createElement("section",{className:c("joinClasses")(this.props.className,"_2eed")},c("React").createElement(c("Image.react"),{className:(!c("WorkModeConfig").is_work_user?"_2eee":"")+(c("WorkModeConfig").is_work_user?" _3_qv":""),draggable:false,src:this.props.image}),c("React").createElement("div",{className:"_2eef"},c("React").createElement("h3",{className:"_2eeg"},c("BrowserPushStrings").title),c("React").createElement("p",{className:"_2eeh"},n),c("React").createElement("div",{className:"_2eei"},o," \xb7 ",window.location.hostname)))};function m(){k.apply(this,arguments)}m.defaultProps={message:c("WorkModeConfig").work_chat_as_home?i._("You have new messages."):i._("You have new notifications."),image:c("WorkModeConfig").is_work_user?c("WorkModeConfig").work_chat_as_home?j("277478"):j("351290"):j("363137")};f.exports=m}),null);
__d("MockFirefoxBrowserNotification.react",["cx","fbt","ix","BrowserPushStrings","DOMContainer.react","Image.react","React","WorkModeConfig","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.render=function(){var n=c("isNode")(this.props.message)?c("React").createElement(c("DOMContainer.react"),null,this.props.message):this.props.message,o=this.props.isWindows;return c("React").createElement("section",{className:c("joinClasses")(this.props.className,"_g5o")},o?this.$MockFirefoxBrowserNotification1(n):this.$MockFirefoxBrowserNotification2(n))};m.prototype.$MockFirefoxBrowserNotification2=function(n){return c("React").createElement("div",{className:"_g5p"},c("React").createElement("div",{className:"_g5q"},c("React").createElement(c("Image.react"),{draggable:false,src:j("355144")})),c("React").createElement("div",{className:"_g5r"},c("React").createElement("h3",null,c("BrowserPushStrings").title),c("React").createElement("cite",null,window.location.hostname),c("React").createElement("p",null,n)),c("React").createElement(c("Image.react"),{className:(!c("WorkModeConfig").is_work_user?"_g5u":"")+(c("WorkModeConfig").is_work_user?" _gcl":""),draggable:false,src:this.props.image}))};m.prototype.$MockFirefoxBrowserNotification1=function(n){return c("React").createElement("div",{className:"_g5w"},c("React").createElement("h3",null,c("BrowserPushStrings").title),c("React").createElement("div",{className:"_g5x"},c("React").createElement("span",{className:"_g5z"}),c("React").createElement("span",{className:"_g7w"})),c("React").createElement("div",{className:"_g5r"},c("React").createElement(c("Image.react"),{className:(!c("WorkModeConfig").is_work_user?"_g5u":"")+(c("WorkModeConfig").is_work_user?" _gcl":""),draggable:false,src:this.props.image}),c("React").createElement("div",{className:"_g7x"},c("React").createElement("p",null,n),c("React").createElement("cite",null,window.location.hostname))))};function m(){k.apply(this,arguments)}m.defaultProps={message:c("WorkModeConfig").work_chat_as_home?i._("You have new messages."):i._("You have new notifications."),image:c("WorkModeConfig").is_work_user?c("WorkModeConfig").work_chat_as_home?j("277478"):j("351290"):j("363137"),isWindows:false};f.exports=m}),null);
__d("MockBrowserNotification.react",["MockChromeBrowserNotification.react","MockEdgeBrowserNotification.react","MockFirefoxBrowserNotification.react","React","UserAgent"],(function a(b,c,d,e,f,g){"use strict";f.exports=function h(i){var j=c("UserAgent").isPlatform("Windows");if(c("UserAgent").isBrowser("Firefox"))return c("React").createElement(c("MockFirefoxBrowserNotification.react"),babelHelpers["extends"]({},i,{isWindows:j}));else if(c("UserAgent").isBrowser("Edge"))return c("React").createElement(c("MockEdgeBrowserNotification.react"),i);return c("React").createElement(c("MockChromeBrowserNotification.react"),babelHelpers["extends"]({},i,{isWindows:j}))}}),null);
__d("NotificationPermissionNotice.react",["cx","fbt","Event","Keys","React","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=[],m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.componentDidMount=function(){"use strict";l.push(c("Event").listen(window,"mousedown",this.props.onHide));l.push(c("Event").listen(window,"keydown",function(event){if(event.keyCode===c("Keys").ESC)this.props.onHide()}.bind(this)))};n.prototype.componentWillUnmount=function(){"use strict";while(l.length>0){var o=l.pop();o.remove()}};n.prototype.renderLayers=function(){"use strict";var o=this.props.shortText?i._("Click the lock to give {browser_name} permission to send you desktop notifications.",[i.param("browser_name",this.props.browserName)]):i._("If you change your mind, click the lock to give {browser_name} permission to send you desktop notifications.",[i.param("browser_name",this.props.browserName)]);return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.noticeAnchor}.bind(this),shown:true,position:"below",onCloseButtonClick:this.props.onHide,key:"nux"},o)};n.prototype.render=function(){"use strict";return c("React").createElement("span",null,c("React").createElement("span",{ref:"noticeAnchor",className:"_1_i1"}),this.renderLayers())};function n(){"use strict";j.apply(this,arguments)}n.propTypes={onHide:m.func.isRequired,shortText:m.bool,browserName:m.string.isRequired};f.exports=n}),null);
__d("Spotlight",["csx","cx","Arbiter","ArbiterMixin","DOM","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerTabIsolation","ModalLayer","Vector","classWithMixins","joinClasses","mixin"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("classWithMixins")(c("Layer"),c("mixin")(c("ArbiterMixin"))));k=j&&j.prototype;function l(n,o){"use strict";k.constructor.call(this,n,o);this.stageMinSize=new(c("Vector"))(0,0);this.stagePadding=new(c("Vector"))(0,0)}l.prototype._buildWrapper=function(n,o){"use strict";var p=c("joinClasses")("_n8"+(n.wash==="dark"||!n.wash?" _3qx":"")+(n.wash==="xui"?" _4-hy":""),n.rootClassName);return c("JSXDOM").div({className:p},c("JSXDOM").div({className:"_n9"},o))};l.prototype._getDefaultBehaviors=function(){"use strict";return k._getDefaultBehaviors.call(this).concat([m,c("LayerAutoFocus"),c("LayerButtons"),c("LayerTabIsolation"),c("ModalLayer")])};l.prototype.getContentRoot=function(){"use strict";if(!this._content)this._content=c("DOM").find(this.getRoot(),"div._n3");return this._content};l.prototype.configure=function(n){"use strict";if(n.stageMinSize)this.stageMinSize=n.stageMinSize;if(n.stagePadding)this.stagePadding=n.stagePadding};l.prototype.onContentLoaded=function(){"use strict";this.inform("content-load")};l.prototype.updatePermalink=function(n){"use strict";this.inform("permalinkchange",n)};Object.assign(l.prototype,{stageMinSize:null,stagePadding:null});function m(n){"use strict";this._layer=n}m.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(["show","hide"],function(n,o){if(n==="show")c("Arbiter").inform("layer_shown",{type:"Spotlight"});else c("Arbiter").inform("layer_hidden",{type:"Spotlight"})})};m.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};Object.assign(m.prototype,{_subscription:null});f.exports=l}),null);
__d("Spotlight.react",["LayerAutoFocusReact","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","ReactLayer","Spotlight","React"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("ReactLayer").createClass({propTypes:{causalElement:h.instanceOf(HTMLElement),onHide:h.func,rootClassName:h.string,shown:h.bool,wash:h.oneOf(["light","xui","dark"])},getDefaultEnabledBehaviors:function j(){return{hideOnBlur:c("LayerHideOnBlur"),hideOnEscape:c("LayerHideOnEscape"),refocusOnHide:c("LayerRefocusOnHide"),autoFocus:c("LayerAutoFocusReact")}},createLayer:function j(k){var l=this.enumerateBehaviors(this.props.behaviors),m={addedBehaviors:l,rootClassName:this.props.rootClassName,wash:this.props.wash},n=new(c("Spotlight"))(m,k);n.setCausalElement(this.props.causalElement);n.conditionShow(this.props.shown);if(this.props.onBeforeHide)n.subscribe("beforehide",this.props.onBeforeHide);if(this.props.onHide)n.subscribe("hide",this.props.onHide);return n},receiveProps:function j(k){if(this.layer){this.layer.setCausalElement(k.causalElement);this.layer.conditionShow(k.shown)}}});f.exports=i}),null);
__d("NotificationPermissionRequest.react",["cx","React","Spotlight.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";return c("React").createElement(c("Spotlight.react"),{shown:true,onHide:this.props.onHide,key:"spotlight"},c("React").createElement("div",{className:"_n3"}))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={onHide:k.func};f.exports=l}),null);
__d("NotificationPermissionRequestWithPreview.react",["cx","fbt","ix","BrowserPushStrings","Image.react","ImageBlock.react","MockBrowserNotification.react","React","Spotlight.react","XUIAmbientNUX.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=function m(o){var p=void 0;return c("React").createElement(c("Spotlight.react"),{onHide:o.onHide,shown:o.shown,wash:"xui"},c("React").createElement("span",{ref:function q(r){return p=r},className:"_m4w"}),c("React").createElement("div",{className:"_n3"},c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function q(){return p},key:"nux",shown:o.shown,onCloseButtonClick:o.onHide,position:"below"},c("React").createElement("strong",null,i._("Almost Done!")),c("React").createElement("br",null),i._("Now, click \"Allow\" to finish activating notifications."))))};k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={acceptPromptShown:false,dialogShown:true,spinnerShown:false},this.$NotificationPermissionRequestWithPreview2=function(t){this.setState({dialogShown:t})}.bind(this),this.$NotificationPermissionRequestWithPreview3=function(){this.setState({acceptPromptShown:!this.props.showSpinnerWhileRequesting,dialogShown:this.props.showSpinnerWhileRequesting,spinnerShown:this.props.showSpinnerWhileRequesting});this.props.onAccept&&this.props.onAccept(this.$NotificationPermissionRequestWithPreview4)}.bind(this),this.$NotificationPermissionRequestWithPreview4=function(){if(this.$NotificationPermissionRequestWithPreview1)this.setState({acceptPromptShown:false,dialogShown:false})}.bind(this),this.$NotificationPermissionRequestWithPreview5=function(){this.setState({acceptPromptShown:false})}.bind(this),p}n.prototype.componentWillMount=function(){this.$NotificationPermissionRequestWithPreview1=true};n.prototype.componentWillUnmount=function(){this.$NotificationPermissionRequestWithPreview1=false};n.prototype.render=function(){var o=this.props,p=o.notificationImage,q=o.notificationMessage,r=o.showFixedTopDialog,s=o.showTurnOffMessage,t=c("React").createElement(c("MockBrowserNotification.react"),{className:"_m4x",image:p,message:q}),u=this.state.spinnerShown?c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{draggable:false,src:j("287648"),width:40,height:40}),c("React").createElement("div",null,c("React").createElement("strong",null,i._("Almost Done!")),c("React").createElement("p",null,i._("Now, click \"Allow\" to finish activating notifications.")))),s?c("React").createElement(c("ImageBlock.react"),{spacing:"large",className:"_1k1v"},c("React").createElement(c("Image.react"),{draggable:false,src:j("420120"),width:40,height:40}),c("React").createElement("div",null,c("React").createElement("strong",null,i._("Change Your Mind?")),c("React").createElement("p",null,i._("You can mute or turn off notifications later by visiting {=Notifications Settings}.",[i.param("=Notifications Settings",c("React").createElement("strong",null,i._("Notifications Settings")))])))):null):c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("ImageBlock.react"),{spacing:"large"},c("React").createElement(c("Image.react"),{draggable:false,src:j("287648")}),c("React").createElement("div",null,this.props.isWebNotifications?c("BrowserPushStrings").explanation_web_notifications:c("BrowserPushStrings").explanation)),t),v=this.state.spinnerShown?null:c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{action:"cancel",label:i._("Not Now"),onClick:this.props.onClose}),c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("Turn On"),onClick:this.$NotificationPermissionRequestWithPreview3,use:"special"})),w=r?40:null;return c("React").createElement("div",{className:"_m4y"},c("React").createElement(c("XUIDialog.react"),{layerHideOnBlur:false,onToggle:this.$NotificationPermissionRequestWithPreview2,shown:this.state.dialogShown,titleID:"notification-permission-title",width:445,fixedTopPosition:w},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},c("React").createElement("span",{id:"notification-permission-title"},c("BrowserPushStrings").turn_on)),u,v),c("React").createElement(m,{shown:this.state.acceptPromptShown,onHide:this.$NotificationPermissionRequestWithPreview5}))};f.exports=n}),null);
__d("incognito",["regeneratorRuntime","Promise","UserAgent","WebStorage"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){__p&&__p();var i;return c("regeneratorRuntime").async(function j(k){__p&&__p();while(1)switch(k.prev=k.next){case 0:i=window.RequestFileSystem||window.webkitRequestFileSystem;if(!i){k.next=3;break}return k.abrupt("return",new(c("Promise"))(function(l){return i(window.TEMPORARY,10,function(){return l(false)},function(){return l(true)})}));case 3:if(!(c("UserAgent").isBrowser("IE >= 10")||c("UserAgent").isBrowser("Edge"))){k.next=5;break}return k.abrupt("return",!window.indexedDB);case 5:if(!c("UserAgent").isBrowser("Firefox >= 16")){k.next=7;break}return k.abrupt("return",new(c("Promise"))(function(l){var m=window.indexedDB.open("__test__");m.onsuccess=function(){return l(false)};m.onerror=function(n){n.preventDefault();l(true)}}));case 7:if(!c("UserAgent").isBrowser("Safari")){k.next=9;break}return k.abrupt("return",!c("WebStorage").getLocalStorage());case 9:return k.abrupt("return",false);case 10:case"end":return k.stop()}},null,this)}f.exports=h}),null);
__d("JewelBadgeCountRecorder",["invariant","Arbiter","performanceNow"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=Object.create(null),j={onCountUpdated:function k(l,m){if(i[m.jewel]==null)i[m.jewel]=[];var n=i[m.jewel];n.push({timestamp:c("performanceNow")(),count:m.count});if(n.length>1e3)n.shift()},getCountAtTimestamp:function k(l,m){var n=i[l];n!=null||h(0);n.length>0||h(0);var o=n.find(function(p,q){var r=n[q+1];return q===0&&m<p.timestamp||m>p.timestamp&&(r==null||m<r.timestamp)});o||h(0);return o.count}};c("Arbiter").subscribe("jewel/count-updated",j.onCountUpdated);f.exports=j}),null);
__d("FriendingSurfaceVisitationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:FriendingSurfaceVisitationLoggerConfig",this.$FriendingSurfaceVisitationTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:FriendingSurfaceVisitationLoggerConfig",this.$FriendingSurfaceVisitationTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$FriendingSurfaceVisitationTypedLogger1={};return this};h.prototype.updateData=function(j){this.$FriendingSurfaceVisitationTypedLogger1=babelHelpers["extends"]({},this.$FriendingSurfaceVisitationTypedLogger1,j);return this};h.prototype.setAppVersion=function(j){this.$FriendingSurfaceVisitationTypedLogger1.app_version=j;return this};h.prototype.setBadgeCount=function(j){this.$FriendingSurfaceVisitationTypedLogger1.badge_count=j;return this};h.prototype.setClientTimestamp=function(j){this.$FriendingSurfaceVisitationTypedLogger1.client_timestamp=j;return this};h.prototype.setRawRefTab=function(j){this.$FriendingSurfaceVisitationTypedLogger1.raw_ref_tab=j;return this};h.prototype.setRawTab=function(j){this.$FriendingSurfaceVisitationTypedLogger1.raw_tab=j;return this};h.prototype.setRefPage=function(j){this.$FriendingSurfaceVisitationTypedLogger1.ref_page=j;return this};h.prototype.setSurface=function(j){this.$FriendingSurfaceVisitationTypedLogger1.surface=j;return this};h.prototype.setTargetProfileID=function(j){this.$FriendingSurfaceVisitationTypedLogger1.target_profile_id=j;return this};h.prototype.setVC=function(j){this.$FriendingSurfaceVisitationTypedLogger1.vc=j;return this};var i={app_version:true,badge_count:true,client_timestamp:true,raw_ref_tab:true,raw_tab:true,ref_page:true,surface:true,target_profile_id:true,vc:true};f.exports=h}),null);
__d("JewelCountSideLoader",["invariant","CSS"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={},j={},k={},l={queueInstances:function m(n,o,p){i[n]={badge:o,root:p}},updateCountAndQueueArgs:function m(n,o,p){__p&&__p();var q=j[n];if(q){q.updateCountAndArgs(p,o);return}var r=i[n];r||h(0);k[n]={count:o,args:p};c("CSS").conditionClass(r.root,"hasNew",!!o);r.badge.setLegacyContent(o);return},getOverwritesForJewel:function m(n){if(k[n.name])return k[n.name];j[n.name]=n;return null}};f.exports=l}),null);
__d("NotificationJewelFunnelLoggingConstants",[],(function a(b,c,d,e,f,g){"use strict";f.exports={FUNNEL_LOGGING_NAME:"WWW_NOTIFICATION_FUNNEL",FUNNEL_LOGGING_EVENT:{FETCH_NOTIFICATIONS:"fetch_notifications",OPEN_JEWEL:"open_jewel",CLOSE_JEWEL:"close_jewel",MOUSE_OVER_ON_JEWEL:"mouse_over_on_jewel",SCROLL_TO_FETCH:"scroll_to_fetch",FETCH_NEXT_SET:"fetch_next_set",CLEAR_BADGE_COUNT:"clear_badge_count"}}}),null);
__d("normalizedEventTimestamp",["performance"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){if(i!=null)if(c("performance")&&c("performance").timing&&c("performance").timing.navigationStart&&i>c("performance").timing.navigationStart)return i-=c("performance").timing.navigationStart;else return i;else if(c("performance").now)return c("performance").now();return null}f.exports=h}),null);
__d("JewelBase",["csx","invariant","Promise","Arbiter","ArbiterMixin","CrossWindowEventEmitter","CSS","DOM","Event","FriendingSurfaceVisitationTypedLogger","NotificationJewelFunnelLoggingConstants","FunnelLogger","HTML","JewelCountSideLoader","Keys","JewelLogger","Run","TabIsolation","TimeSlice","JewelBadgeCountRecorder","Toggler","TooltipData","firstClickTimestamp","killswitch","mixin","normalizedEventTimestamp","reportData"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_EVENT,m=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_NAME,n=c("JewelLogger").logFirstJewelClick,o=new(c("CrossWindowEventEmitter"))("JewelBase"),p={};j=babelHelpers.inherits(q,c("mixin")(c("ArbiterMixin")));k=j&&j.prototype;function q(r,s){"use strict";__p&&__p();k.constructor.call(this);this.name=s.name;this.label=s.label;this.loggedFirstClick=false;this.root=r;this.badge=s.badge;this.countNew=0;this.fastTogglerShow=Boolean(s.fastTogglerShow);this.initialCount=s.count||0;this.escHandler=null;this.bootload_module=s.bootload_module;this.bootload_args=s.bootload_args;this.bootload_eager_modules=s.bootload_eager_modules;this.bootload_conf=s.bootload_conf;this.bootloading=null;this.togglerInstance=c("Toggler").getInstance(r).setSticky(false);c("JewelBadgeCountRecorder").onCountUpdated("jewel/initial-count",{jewel:this.name,count:this.initialCount});if(this.bootload_conf&&this.bootload_conf.eagerLoadingOnInteraction)this.$JewelBase3();else c("Run").onAfterLoad(function(){return this.$JewelBase4()}.bind(this));if(this.bootload_conf&&this.bootload_conf.eagerLoadingOnInteraction)this.$JewelBase5();if(s.keepOpenForSnowlift)this.togglerInstance.setPrePageTransitionCallback(this.$JewelBase6.bind(this));p[this.name]=this;this.$JewelBase7();var t=this.getFlyout();t||i(0);var u=new(c("TabIsolation"))(t);if(c("killswitch")("JEWEL_TOGGLER_INSTANCE_FIXES"))c("Toggler").createInstance(t).setSticky(false);else c("Toggler").createInstance(this.root).setFastShow(this.fastTogglerShow).setSticky(false);this.$JewelBase8();c("Toggler").listen("show",this.root,function(v){__p&&__p();c("FunnelLogger").appendAction(m,l.OPEN_JEWEL);this.inform("open");this.$JewelBase9();this.hasNew()&&this.markSeen();this.reset();c("Arbiter").inform("layer_shown",{type:"Jewel"});u.enable();this.setupEvents();this.$JewelBase10();if(this.bootload_conf&&this.bootload_conf.eagerLoadingOnInteraction)this.$JewelBase11();else this.$JewelBase4().then(function(){return this.inform("opened")}.bind(this)).done()}.bind(this));c("Toggler").listen("hide",this.root,function(v,w){c("FunnelLogger").appendAction(m,l.CLOSE_JEWEL);c("FunnelLogger").endFunnel(m);this.hasNew()&&this.markSeen();this.reset();this.inform("closed");c("Arbiter").inform("layer_hidden",{type:"Jewel"});u.disable();this.removeEvents();this.$JewelBase8()}.bind(this));c("Arbiter").subscribe("jewel/count-updated",function(v,w){w.jewel==this.name&&this.update(w)}.bind(this));c("Arbiter").subscribe("jewel/hide",function(v,w){this.hide()}.bind(this));o.addListener("count-updated",function(v){v.jewel==this.name&&this.update(v)}.bind(this))}q.prototype.getRoot=function(){"use strict";return this.root};q.prototype.hide=function(){"use strict";if(this.isOpen())c("Toggler").hide(this.root)};q.prototype.getFlyout=function(){"use strict";if(this.$JewelBase1==null)this.$JewelBase1=c("DOM").find(this.root,".__tw");return this.$JewelBase1};q.prototype.hasNew=function(){"use strict";return c("CSS").hasClass(this.root,"hasNew")};q.prototype.isOpen=function(){"use strict";return c("CSS").hasClass(this.root,"openToggler")};q.prototype.reset=function(){"use strict";c("FunnelLogger").appendAction(m,l.CLEAR_BADGE_COUNT);c("CSS").removeClass(this.root,"hasNew")};q.prototype.setContent=function(r){"use strict";var s=c("DOM").find(this.root,"ul.jewelItemList");c("DOM").setContent(s,c("HTML")(r))};q.prototype.update=function(r){"use strict";__p&&__p();if(r.animation&&this.badge.setAnimation)this.badge.setAnimation(r.animation);this.countNew=r.count;if(typeof this.countNew==="number"&&this.countNew<0)this.countNew=0;this.badge.setLegacyContent(this.countNew);var s=isNaN(this.countNew)||this.countNew>0;c("CSS").conditionClass(this.root,"hasNew",s);this.inform("updated",r,c("Arbiter").BEHAVIOR_STATE)};q.prototype.setupEvents=function(){"use strict";this.escHandler=c("Event").listen(document.documentElement,"keydown",function(r){if(r.keyCode===c("Keys").ESC)this.hide()}.bind(this))};q.prototype.removeEvents=function(){"use strict";if(this.escHandler){this.escHandler.remove();this.escHandler=null}};q.prototype.markSeen=function(){"use strict";var r=function(){c("Arbiter").inform("jewel/count-updated",{jewel:this.name,count:0},c("Arbiter").BEHAVIOR_STATE);o.emitRemote("count-updated",{jewel:this.name,count:0});this.inform("marked-seen")}.bind(this);if(this.bootload_conf&&this.bootload_conf.fixContinuation)c("TimeSlice").guard(r,"JewelOpen markSeen",{isContinuation:false})();else r()};q.prototype.getButton=function(){"use strict";if(this.$JewelBase2==null)this.$JewelBase2=c("DOM").find(this.root,"a.jewelButton");return this.$JewelBase2};q.prototype.$JewelBase8=function(){"use strict";var r=this.getButton();c("TooltipData").set(r,this.label);r.setAttribute("data-tooltip-delay","500")};q.prototype.$JewelBase10=function(){"use strict";c("TooltipData").remove(this.getButton())};q.prototype.$JewelBase6=function(r,s){"use strict";if(!this.$JewelBase12(s.from)&&!this.$JewelBase12(s.to))this.togglerInstance&&this.togglerInstance.hide()};q.prototype.$JewelBase12=function(r){"use strict";return r&&Object.prototype.hasOwnProperty.call(r.getQueryData(),"theater")};q.prototype.$JewelBase9=function(){"use strict";__p&&__p();if(!this.loggedFirstClick){this.loggedFirstClick=true;var r=this.getButton(),s=c("firstClickTimestamp").get(r);if(s){s=c("normalizedEventTimestamp")(s);if(s)n({jewelName:this.name,timestamp:s,badgeCurrentCount:c("JewelBadgeCountRecorder").getCountAtTimestamp(this.name,s),badgeInitialCount:this.initialCount})}}c("reportData")("jewel_click",{gt:{count:this.countNew,initial:this.initialCount,jewel:this.name}});if(this.name==="requests")new(c("FriendingSurfaceVisitationTypedLogger"))().setSurface("jewel").setBadgeCount(this.countNew).log()};q.prototype.$JewelBase4=function(){"use strict";if(!this.bootload_module)return c("Promise").resolve();if(!this.bootloading)this.bootloading=new(c("Promise"))(function(r,s){this.bootload_module.load().then(function(t){new t(this,this.bootload_args);r()}.bind(this))["catch"](s)}.bind(this));return this.bootloading};q.prototype.$JewelBase3=function(){"use strict";if(this.bootload_eager_modules)if(this.bootload_conf.eagerloadAfterDD)this.bootload_eager_modules.loadModules(this);else c("Run").onAfterLoad(function(){return this.bootload_eager_modules.loadModules(this)}.bind(this));else c("Run").onAfterLoad(function(){return this.$JewelBase4()}.bind(this))};q.prototype.$JewelBase5=function(){"use strict";this.bootload_eager_modules&&this.bootload_eager_modules.mount(this)};q.prototype.$JewelBase11=function(){"use strict";if(this.bootload_eager_modules)this.bootload_eager_modules.load(this);else this.$JewelBase4().then(function(){return this.inform("opened")}.bind(this)).done()};q.prototype.$JewelBase7=function(){"use strict";if(this.bootloading)return;var r=c("JewelCountSideLoader").getOverwritesForJewel(this);if(!r)return;this.updateCountAndArgs(r.args,r.count)};q.prototype.updateCountAndArgs=function(r,s){"use strict";for(var t in r)if(r[t])this.bootload_args[t]=r[t];if(s)c("Arbiter").inform("jewel/count-updated",{jewel:this.name,count:s},c("Arbiter").BEHAVIOR_STATE)};f.exports=q}),null);
__d("ModalMask",["DOM"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=0,j={show:function k(){i++;if(!h){h=c("DOM").create("div",{id:"modalMaskOverlay"});c("DOM").appendContent(document.body,h)}},hide:function k(){if(i){i--;if(!i&&h){c("DOM").remove(h);h=null}}},getNode:function k(){return h}};f.exports=j}),null);
__d("LitestandChromeHomeBadge",["cx","Arbiter","AsyncRequest","CSS","DOM","Event","LitestandMessages","UserAgent","formatNumber"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=3e5,j={},k=void 0,l=void 0;function m(){l&&clearTimeout(l);if(k)return;l=setTimeout(n,i)}function n(){if(k||j.disableClientBadging)return;new(c("AsyncRequest"))().setURI("/ajax/litestand/newsfeed_count").setHandler(function(q){if(k)return;p.setCount(q.getPayload());m()}).setAllowCrossPageTransition(true).send()}function o(q){if(!j.badgeNode)return;var r=j.countNode===null?"_2527":"_461d";c("CSS").conditionClass(j.badgeNode,r,q>0);if(j.countNode!==null&&q>0){var s=c("formatNumber").withMaxLimit(q,j.maxCount);c("DOM").setContent(j.countNode,s)}}var p={init:function q(r){__p&&__p();j=r;c("Event").listen(j.homeNode,"click",function(event){var s=event.getModifiers(),t=s.shift,u=s.meta,v=s.control;if(t||c("UserAgent").isPlatform("Mac OS X")&&u||c("UserAgent").isPlatform("Windows")&&v)o(0)});c("Arbiter").subscribe(c("LitestandMessages").NEWSFEED_LOAD,function(){k=true;this.setCount(0)}.bind(this));c("Arbiter").subscribe(c("LitestandMessages").LEAVE_HOME,function(){k=false;m()});m()},setCount:function q(r){o(k?0:r)}};f.exports=p}),null);
__d("DetectedHardwareSpecificationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:DetectedHardwareSpecificationLoggerConfig",this.$DetectedHardwareSpecificationTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:DetectedHardwareSpecificationLoggerConfig",this.$DetectedHardwareSpecificationTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$DetectedHardwareSpecificationTypedLogger1={};return this};h.prototype.updateData=function(j){this.$DetectedHardwareSpecificationTypedLogger1=babelHelpers["extends"]({},this.$DetectedHardwareSpecificationTypedLogger1,j);return this};h.prototype.setGpuRenderer=function(j){this.$DetectedHardwareSpecificationTypedLogger1.gpu_renderer=j;return this};h.prototype.setGpuVendor=function(j){this.$DetectedHardwareSpecificationTypedLogger1.gpu_vendor=j;return this};h.prototype.setLogicalCpuCount=function(j){this.$DetectedHardwareSpecificationTypedLogger1.logical_cpu_count=j;return this};h.prototype.setVC=function(j){this.$DetectedHardwareSpecificationTypedLogger1.vc=j;return this};var i={gpu_renderer:true,gpu_vendor:true,logical_cpu_count:true,vc:true};f.exports=h}),null);
__d("DetectedHardwareLogger",["DetectedHardwareSpecificationTypedLogger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={init:function i(){__p&&__p();var j=document.createElement("canvas");if(!j)return;var k=j.getContext("webgl")||j.getContext("experimental-webgl");if(!k)return;var l=k.getExtension("WEBGL_debug_renderer_info");if(!l)return;var m="unknown",n="unknown";if(l!=null){m=k.getParameter(l.UNMASKED_RENDERER_WEBGL);n=k.getParameter(l.UNMASKED_VENDOR_WEBGL)}new(c("DetectedHardwareSpecificationTypedLogger"))().setGpuRenderer(m).setGpuVendor(n).setLogicalCpuCount(window.navigator.hardwareConcurrency).log()}};f.exports=h}),null);
__d("BootloadOnInteraction",["Event","JSResource","emptyFunction"],(function a(b,c,d,e,f,g){var h={mount:function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2],m=arguments.length<=3||arguments[3]===undefined?c("emptyFunction"):arguments[3],n=[c("Event").listen(j,"mouseover",o),c("Event").listen(j,"focus",o)];function o(){n.forEach(function(p){return p.remove()});m();c("JSResource").loadAll(k,l)}}};f.exports=h}),null);
__d("MercuryJewelBootloadModules",["BootloadOnInteraction","JSResource","MercuryMessengerJewelPerfConfig","JewelLogger","emptyFunction","performanceNowNoFallback","gkx"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("JewelLogger").logJsBootload,i=null,j=[c("JSResource")("MercuryJewel").__setRef("MercuryJewelBootloadModules")].concat(c("MercuryMessengerJewelPerfConfig").bundleBootloader?[c("JSResource")("MercuryOrderedThreadlist").__setRef("MercuryJewelBootloadModules"),c("JSResource")("MercuryThreadInformer").__setRef("MercuryJewelBootloadModules"),c("JSResource")("MercuryThreads").__setRef("MercuryJewelBootloadModules"),c("JSResource")("Toggler").__setRef("MercuryJewelBootloadModules")].concat(c("gkx")("AT5_2Vq7DkonMlwkytsgYLrDGVd2sxXJFDvitKn3S1lIaLXhOJ7PaaI-N2_k1bOxbVQyDWBIbJ85JSnUy78Dwfby")?[c("JSResource")("messengerGraphQLThreadlistFetcherRe").__setRef("MercuryJewelBootloadModules")]:[]):[]);function k(p,q){i=i||new p(q,q.bootload_args)}function l(p,q){k(p,q);q.inform("opened")}function m(){c("MercuryMessengerJewelPerfConfig").logJewelData&&c("performanceNowNoFallback")&&h({jewelName:"mercurymessages",eventName:"js_bootload_start",timestamp:c("performanceNowNoFallback")()})}function n(){c("MercuryMessengerJewelPerfConfig").logJewelData&&c("performanceNowNoFallback")&&h({jewelName:"mercurymessages",eventName:"js_bootload_end",timestamp:c("performanceNowNoFallback")()})}var o={mount:function p(q){var r=arguments.length<=1||arguments[1]===undefined?c("emptyFunction"):arguments[1],s=q.getButton();c("BootloadOnInteraction").mount(s,j,function(t){n();l(t,q)},function(){m();r()})},load:function p(q){m();c("JSResource").loadAll(j,function(r){n();l(r,q)})},loadModules:function p(q){m();c("JSResource").loadAll(j,function(r){n();if(c("MercuryMessengerJewelPerfConfig").eagerFlyoutOnAfterLoad)l(r,q);else k(r,q)})}};f.exports=o}),null);
__d("CSSClassTransition",[],(function a(b,c,d,e,f,g){__p&&__p();var h=[];function i(){}Object.assign(i,{go:function j(k,l,m,n){var o;for(var p=0;p<h.length;p++)if(h[p](k,l,m,n)===true)o=true;if(!o)k.className=l},registerHandler:function j(k){h.push(k);return{remove:function l(){var m=h.indexOf(k);if(m>=0)h.splice(m,1)}}}});f.exports=i}),null);
__d("QuicklingAugmenter",["URI"],(function a(b,c,d,e,f,g){__p&&__p();var h=[],i={addHandler:function j(k){h.push(k)},augmentURI:function j(k){var l=[],m=new(c("URI"))(k);h.forEach(function(n){var o=n(m);if(!o)return m;l.push(n);m=m.addQueryData(o)});h=l;return m}};f.exports=i}),null);
__d("Quickling",["ArtilleryOnUntilOffLogging","AjaxPipeRequest","Arbiter","BigPipe","ContextualComponent","CSSClassTransition","DocumentTitle","DOM","HTML","PageHooks","PageEvents","PageNavigationStageLogger","PageTransitionsRegistrar","QuicklingAugmenter","QuicklingConfig","QuicklingFetchStreamConfig","RoyalBluebar","RoyalBluebarTransitions","Run","URI","UserAgent_DEPRECATED","PHPQuerySerializer","TimerStorage","cancelAnimationFrame","cancelIdleCallback","clearImmediate","clearInterval","clearTimeout","ge","goOrReplace","isEmpty","requireWeak","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j;c("requireWeak")("PageTransitions",function(w){j=w});var k=c("QuicklingConfig").version,l=c("QuicklingConfig").sessionLength,m=new RegExp(c("QuicklingConfig").inactivePageRegex),n=0,o,p="",q={isActive:function w(){return true},isPageActive:function w(x){__p&&__p();if(x=="#")return false;x=new(c("URI"))(x);if(x.getDomain()&&x.getDomain()!=new(c("URI"))(window.location.href).getDomain())return false;if(x.getPath()=="/l.php"){var y=x.getQueryData().u;if(y){y=new(c("URI"))(unescape(y)).getDomain();if(y&&y!=new(c("URI"))(window.location.href).getDomain())return false}}var z=x.getPath(),A=x.getQueryData();if(!c("isEmpty")(A))z+="?"+c("PHPQuerySerializer").serialize(A);if(Object.keys(A).reduce(function(B,C){return B||c("QuicklingConfig").badRequestKeys.includes(C)},false))return false;return!m.test(z)},getLoadCount:function w(){return n}};function r(w){__p&&__p();w=w||"Facebook";c("DocumentTitle").set(w);if(c("UserAgent_DEPRECATED").ie()){p=w;if(!o)o=window.setInterval(function(){var x=p,y=c("DocumentTitle").get();if(x!=y)c("DocumentTitle").set(x)},5e3,false)}}h=babelHelpers.inherits(s,c("AjaxPipeRequest"));i=h&&h.prototype;function s(w){"use strict";var x={version:k};i.constructor.call(this,w,{quickling:x});this._isQuickling=true}s.prototype._preBootloadFirstResponse=function(w){"use strict";return true};s.prototype._fireDomContentCallback=function(){"use strict";this._request.cavalry&&this._request.cavalry.setTimeStamp("t_domcontent");if(j)j.transitionComplete();this._onPageDisplayed&&this._onPageDisplayed(this.pipe);i._fireDomContentCallback.call(this)};s.prototype._fireOnloadCallback=function(){"use strict";if(this._request.cavalry){this._request.cavalry.setTimeStamp("t_hooks");this._request.cavalry.setTimeStamp("t_layout");this._request.cavalry.setTimeStamp("t_onload")}i._fireOnloadCallback.call(this)};s.prototype.isPageActive=function(w){"use strict";return q.isPageActive(w)};s.prototype._versionCheck=function(w){"use strict";if(w.version==k)return true;var x=["quickling","ajaxpipe","ajaxpipe_token"];c("PageNavigationStageLogger").setCookieForNavigation(w.uri);c("PageNavigationStageLogger").setNote("quickling_version");c("PageNavigationStageLogger").updateCookie();c("goOrReplace")(window.location,new(c("URI"))(w.uri).removeQueryData(x),true);return false};s.prototype._processFirstResponse=function(w){"use strict";var x=w.getPayload();r(x.title);window.scrollTo(0,0);c("CSSClassTransition").go(document.body,x.body_class||"",j.getMostRecentURI(),w.getRequest().getURI());c("Arbiter").inform("quickling/response");c("ArtilleryOnUntilOffLogging").onNewPageLoad()};s.prototype.getSanitizedParameters=function(){"use strict";return["quickling"]};s.prototype._getAsyncRequestType=function(){"use strict";if(c("QuicklingFetchStreamConfig").experimentName!==c("RoyalBluebarTransitions").OFF)return"useFetchWithIframeFallback";return"useIframeTransport"};function t(){n++;return n>=l}function u(w){__p&&__p();c("AjaxPipeRequest").setCurrentRequest(null);if(t()){c("PageNavigationStageLogger").setNote("quickling_refresh");return false}w=c("QuicklingAugmenter").augmentURI(w);if(!q.isPageActive(w)){c("PageNavigationStageLogger").setNote("quickling_inactive");return false}c("TimerStorage").clearAll(c("TimerStorage").ANIMATION_FRAME,c("cancelAnimationFrame"));c("TimerStorage").clearAll(c("TimerStorage").IDLE_CALLBACK,c("cancelIdleCallback"));c("TimerStorage").clearAll(c("TimerStorage").IMMEDIATE,c("clearImmediate"));c("TimerStorage").clearAll(c("TimerStorage").INTERVAL,c("clearInterval"));c("TimerStorage").clearAll(c("TimerStorage").TIMEOUT,c("clearTimeout"));window.ExitTime=Date.now();c("Run").__removeHook(c("PageHooks").ONLOAD_HOOK);c("Run").__removeHook(c("PageHooks").DOMREADY_HOOK);c("Arbiter").inform(c("PageEvents").AJAXPIPE_ONUNLOAD,{transition_type:"quickling"});var x="content";v(x);c("RoyalBluebar").startTransitionAnimation();var y=new s(w).setCanvasId(x).setResetHandler(c("RoyalBluebar").stopTransitionAnimation).setFinallyHandler(c("RoyalBluebar").stopTransitionAnimation).send();y.getArbiter().subscribeOnce(c("BigPipe").Events.displayed,c("RoyalBluebar").stopTransitionAnimation);var z=window.__bodyWrapper;if(z.getCodeUsage)z.clearCodeUsage();return c("PageTransitionsRegistrar").DELAY_HISTORY}function v(w){var x=function x(){var y=c("ge")(w),z=c("ContextualComponent").forNode(y);if(z)z.cleanup();c("PageHooks").runHooks("onleavehooks")};if(c("QuicklingConfig").useAsyncLeaveHooks)c("setTimeoutAcrossTransitions")(x,0);else x()}c("Run").onAfterLoad(function w(){c("PageTransitionsRegistrar").registerHandler(u,1)});f.exports=b.Quickling=q}),null);
__d("BrowserPushCommands",[],(function a(b,c,d,e,f,g){var h="browser_push_ack",i="browser_push_redirect",j="browser_push_window_visible",k={ACK:h,REDIRECT:i,WINDOW_VISIBLE:j};f.exports=k}),null);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],(function a(b,c,d,e,f,g){var h=function h(i){var j="(messages)(.*?)(?:(tid=))([^&]*)",k=i.match(j);if(!k)return true;var l=k.pop();c("Bootloader").loadModules(["FantaTabActions"],function(m){m.openTab(l)},"BrowserPushMessageRedirectUtil");return false};f.exports=h}),null);
__d("BrowserPushMessageHandler",["BrowserPushCommands","BrowserPushMessageRedirectUtil","EventListener","URI","URISchemes","isFacebookURI"],(function a(b,c,d,e,f,g){__p&&__p();function h(event){__p&&__p();if(event.data.command&&event.data.command===c("BrowserPushCommands").REDIRECT){if(window.onbeforeunload()===undefined)event.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:true});else{event.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:false});return}var j=event.data.uri;if(/^([^.:/?#]+):/.test(j)&&!c("URISchemes").isAllowed(/^([^.:/?#]+):/.exec(j)[1])||!c("isFacebookURI")(new(c("URI"))(j)))throw new Error("goURI: URI scheme rejected, URI: "+j);if(c("BrowserPushMessageRedirectUtil")(j))window.location.href=j}}var i={registerRedirectHandler:function j(){c("EventListener").listen(window,"message",function(event){if(event.origin==="")h(event)});if(navigator.serviceWorker&&navigator.serviceWorker.addEventListener)navigator.serviceWorker.addEventListener("message",function(event){if(navigator.serviceWorker&&navigator.serviceWorker.controller&&event.target&&event.target.controller&&event.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(event.origin))h(event)})}};f.exports=i}),null);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function a(b,c,d,e,f,g){function h(){new(c("ClientServiceWorkerMessage"))(c("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}var i={listenForVisibility:function j(){if(!c("Visibility").isHidden())h();c("Visibility").addListener(c("Visibility").VISIBLE,h)}};f.exports=i}),null);
__d("PushRegistration",["Promise","BrowserPushMessageHandler","BrowserPushVisibilityChanger","Map","ServiceWorkerRegistration","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();var h=window.Notification,i=new(c("Map"))();j.get=function(k,l){"use strict";if(i.has(l))return i.get(l);var m=new j(k,l);i.set(l,m);return m};function j(k,l){"use strict";this.$PushRegistration3=k;this.appID=l;if(!j.$PushRegistration1&&!j.$PushRegistration2){j.$PushRegistration1=false;j.$PushRegistration2=false}}j.prototype.getPushSubscription=function(){"use strict";__p&&__p();return new(c("Promise"))(function(k,l){if(j.pushPermissionIsDenied())l(new Error("No permission or not supported"));c("ServiceWorkerRegistration").getWorkerRegistration(this.$PushRegistration3).then(function(m){if(!m){k(null);return}m.pushManager.getSubscription().then(function(n){k(n)})["catch"](l)})["catch"](l)}.bind(this))};j.prototype.$PushRegistration4=function(k){"use strict";var l=k.endpoint;if("subscriptionId"in k&&!new RegExp("/"+k.subscriptionId+"$").test(l))l+="/"+k.subscriptionId;return l};j.prototype.$PushRegistration5=function(k,l,m,n){"use strict";__p&&__p();var o=this.$PushRegistration4(m),p=k.getURIBuilder().getURI(),q=new l(p),r=null;if(m.toJSON)r=m.toJSON().keys;else if(m.keys)r=m.keys;q.setData({app_id:this.appID,push_endpoint:o,subscription_keys:JSON.stringify(r)});q.setMethod("post");if(q.setHandler)q.setHandler(function(s){if(s.payload&&s.payload.session_change)n()});q.send()};j.prototype.getSubscription=function(){"use strict";return new(c("Promise"))(function(k,l){this.getPushSubscription().then(function(m){if(m)k(this.$PushRegistration4(m));else k(null)}.bind(this))["catch"](l)}.bind(this))};j.prototype.maybeRegisterPushAgain=function(k,l,m){"use strict";return new(c("Promise"))(function(n,o){this.getPushSubscription().then(function(p){if(p){this.$PushRegistration5(k,l,p,m);n(this.$PushRegistration4(p))}else n(null)}.bind(this))["catch"](function(){n(null)})}.bind(this))};j.prototype.$PushRegistration6=function(k,l,m){"use strict";__p&&__p();return new(c("Promise"))(function(n,o){__p&&__p();if(j.$PushRegistration2&&!m){o(new Error("sending disable info already"));return}j.$PushRegistration2=true;var p=k.getURIBuilder().getURI(),q=new l(p.toString());q.setData({appid:this.appID,from_browser_settings:m});q.setMethod("post");if(q.listen){q.listen("finally",n);q.listen("fail",function(){j.$PushRegistration2=false;o()})}else if(q.setErrorHandler&&q.setHandler){q.setErrorHandler(function(){j.$PushRegistration2=false;o()});q.setHandler(n)}else n();q.send()}.bind(this))};j.prototype.isPushRegistered=function(k,l,m,n){__p&&__p();var o=arguments.length<=4||arguments[4]===undefined?false:arguments[4],p=arguments.length<=5||arguments[5]===undefined?c("emptyFunction"):arguments[5],q=arguments.length<=6||arguments[6]===undefined?false:arguments[6];"use strict";c("BrowserPushMessageHandler").registerRedirectHandler();return new(c("Promise"))(function(r,s){__p&&__p();this.getPushSubscription().then(function(t){r(!!t||k&&!j.pushPermissionIsPending());if(t)if(o)self.$PushRegistration5(l,n,p,q);else c("BrowserPushVisibilityChanger").listenForVisibility();else if(!t&&k)if(j.pushPermissionIsOn())this.registerPush(l,n,p,q)["catch"](function(){});else this.$PushRegistration6(m,n,false)}.bind(this))["catch"](function(){if(k)this.$PushRegistration6(m,n,false);if(q)c("ServiceWorkerRegistration").unregisterControllingWorker();s()}.bind(this))}.bind(this))};j.prototype.$PushRegistration7=function(){"use strict";return new(c("Promise"))(function(k,l){h.requestPermission(k)})};j.prototype.registerPushAndWaitForEndpoint=function(k,l,m,n){"use strict";return new(c("Promise"))(function(o,p){this.$PushRegistration8(k,l,m,true,null,n).then(function(q){if(typeof q!=="string"){p(new Error("registerPushImpl did not return an endpoint"));return}o(q)})["catch"](p)}.bind(this))};j.prototype.registerPushOnKaiOS=function(k,l,m){"use strict";return new(c("Promise"))(function(n,o){m.waitForKaiOS().done(function(){m.registerPush(function(p){var q=JSON.parse(p.get("push_endpoint"));this.$PushRegistration5(k,l,q,c("emptyFunction"));n(this.$PushRegistration4(q))}.bind(this))}.bind(this))}.bind(this))};j.prototype.registerPush=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?c("emptyFunction"):arguments[2],n=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";return this.registerPushWithFinishedCallBack(k,l,m,null,n)};j.prototype.registerPushWithFinishedCallBack=function(k,l,m,n,o){"use strict";return new(c("Promise"))(function(p,q){this.$PushRegistration8(k,l,m,false,n,o).then(function(r){if(typeof r!=="boolean"){q(new Error("registerPushImpl did not return a boolean"));return}p(r)})["catch"](q)}.bind(this))};j.prototype.$PushRegistration8=function(k,l,m,n,o,p){"use strict";__p&&__p();if(j.$PushRegistration1)return new(c("Promise"))(function(q,r){r(new Error("registering already"))});if(!self.PushManager)return c("Promise").reject(new Error("PushManager not found."));j.$PushRegistration1=true;return new(c("Promise"))(function(q,r){__p&&__p();var s=c("ServiceWorkerRegistration").registerWorkerIfUnregistered(this.$PushRegistration3),t=this.$PushRegistration7();c("Promise").all([s,t]).then(function(u){__p&&__p();var v=u[0];if(!j.pushPermissionIsOn()){if(p)v.unregister();throw new Error("Push permission was denied")}if(!n)q(true);v.pushManager.subscribe({userVisibleOnly:true}).then(function(w){if(n)q(this.$PushRegistration4(w));this.$PushRegistration5(k,l,w,m);if(o)o();c("BrowserPushVisibilityChanger").listenForVisibility()}.bind(this))["catch"](function(w){j.$PushRegistration1=false;if(p)v.unregister();r(w)})}.bind(this))["catch"](function(u){j.$PushRegistration1=false;r(u)})}.bind(this))};j.prototype.unregisterPushAndSWOnKaiOS=function(k,l,m,n){"use strict";return new(c("Promise"))(function(o,p){this.$PushRegistration6(k,l,n).then(function(){m.unregisterPush();o()})["catch"](p)}.bind(this))};j.prototype.unregisterPushAndSW=function(k,l){"use strict";return new(c("Promise"))(function(m,n){this.$PushRegistration6(k,l,true).then(function(){c("ServiceWorkerRegistration").unregisterControllingWorker().done(m)})["catch"](n)}.bind(this))};j.prototype.unregisterPushOnly=function(k,l){"use strict";return new(c("Promise"))(function(m,n){this.getPushSubscription().then(function(o){if(o)o.unsubscribe().then(this.$PushRegistration6(k,l,true)).then(function(){m(true)})["catch"](n);else n()}.bind(this))["catch"](n)}.bind(this))};j.pushPermissionIsPending=function(){"use strict";return window.Notification&&window.Notification.permission==="default"};j.pushPermissionIsOn=function(){"use strict";return window.Notification&&window.Notification.permission==="granted"};j.pushPermissionIsDenied=function(){"use strict";return window.Notification&&window.Notification.permission==="denied"};f.exports=j}),null);
__d("XBrowserWebNotificationsEnableController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/web_notifications/enable/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/push/register/service_worker/",{})}),null);
__d("BrowserPushDirectPromptInstaller",["Promise","Arbiter","AsyncRequest","BanzaiLogger","BrowserPushSessionChange.react","Bootloader","CrossWindowEventEmitter","DOM","NotificationPermissionNotice.react","NotificationPermissionRequest.react","NotificationPermissionRequestWithPreview.react","PushRegistration","QE2Logger","React","ReactDOM","XBrowserPushDisabledController","XBrowserPushXOutController","XBrowserWebNotificationsEnableController","XPushRegisterServiceWorkerController","emptyFunction","incognito"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=window.Notification,i=new(c("CrossWindowEventEmitter"))("BrowserPushInstall"),j={},k,l=false;function m(event,u){var v=babelHelpers["extends"]({event:event,appid:u,surface:"prompt"},j);c("BanzaiLogger").log("BrowserPushLoggerConfig",v)}function n(){if(j.xout_count===0&&k)c("QE2Logger").logExposureForUser(k)}function o(u){var v=c("XBrowserPushXOutController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(v).setMethod("POST").send();m("xout",u)}function p(u){var v=c("XBrowserWebNotificationsEnableController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(v).setMethod("POST").send();c("Arbiter").inform("WebNotifications/enabled");i.emitRemote("complete");c("Bootloader").loadModules(["WebNotificationsPresenter"],function(w){w.init(u.toString())},"BrowserPushDirectPromptInstaller")}function q(u){if(!l){l=true;c("ReactDOM").unmountComponentAtNode(u)}}function r(u,v){var w=c("DOM").insertBefore(u,c("DOM").create("span")),x=w.pop();c("ReactDOM").render(c("React").createElement(c("BrowserPushSessionChange.react"),{onHide:function y(){c("ReactDOM").unmountComponentAtNode(u)},push:v}),x)}function s(u,v,w,x,y){__p&&__p();var z=c("PushRegistration").get(u,v);m("turn_on",v);return z.registerPushWithFinishedCallBack(c("XPushRegisterServiceWorkerController"),c("AsyncRequest"),function(){r(w,z)},function(){c("Arbiter").inform("BrowserPushInstall/installed")},y).then(function(){q(w);m("install",v)})["catch"](function(A){q(w);if(c("PushRegistration").pushPermissionIsDenied()){c("ReactDOM").render(c("React").createElement(c("NotificationPermissionNotice.react"),{onHide:function B(){c("ReactDOM").unmountComponentAtNode(w)},browserName:x}),w);m("deny",v)}else m("install_ignore",v);o(v)})}var t={setLogExtraData:function u(v){j=v},setQEUniverseName:function u(v){k=v},requestThenInstallWebNotifications:function u(v,w,x,y,z,A){__p&&__p();n();this._showRequestPermissions({appID:v,baseElement:w,browserName:x,hasEnoughFriendsToRequestPush:y,sampleNotificationAvatarURI:A,sampleNotificationMessage:z,showSpinnerWhileRequesting:true,isWebNotifications:true,onAcceptCallback:this._getOnWebNotificationsDialogAccept({appID:v,callback:function B(C){if(C==="granted"){m("install",v);i.emitRemote("complete");q(w);p(v)}else{m("deny",v);o(v)}}})})},requestThenInstallPush:function u(v,w,x,y,z,A,B,C,D,E,F,G,H,I){__p&&__p();var J=c("PushRegistration").get(v,w),K=J.isPushRegistered(y,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!A,function(){r(x,J)},C);c("Promise").all([K,c("incognito")()]).then(function(L){var M=L[0],N=L[1];if(M||N)return;n();if(c("PushRegistration").pushPermissionIsPending())this._showRequestPermissions({appID:w,baseElement:x,hasEnoughFriendsToRequestPush:D,isWebNotifications:false,onAcceptCallback:this._getOnPushNotificationsAccept({appID:w,baseElement:x,browserName:B,path:v,workerIsForPushOnly:C}),sampleNotificationAvatarURI:F,sampleNotificationMessage:E,showSpinnerWhileRequesting:G,wasXOuted:z,showFixedTopDialog:H,showTurnOffMessage:I});else if(!z&&c("PushRegistration").pushPermissionIsOn())s(v,w,x,B,C)}.bind(this))["catch"](function(){if(c("PushRegistration").pushPermissionIsDenied())n()})},installPush:function u(v,w,x,y,z,A,B,C,D){__p&&__p();var E=c("PushRegistration").get(v,w),F=E.isPushRegistered(y,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!A,function(){r(x,E)},C);c("Promise").all([F,c("incognito")()]).then(function(G){__p&&__p();var H=G[0],I=G[1];if(H||I)return;n();if(c("PushRegistration").pushPermissionIsPending()){if(!D||z)return;c("ReactDOM").render(c("React").createElement(c("NotificationPermissionRequest.react"),{onHide:function J(){q(x)}}),x);s(v,w,x,B,C)}else if(!z)s(v,w,x,B,C)})["catch"](function(){if(c("PushRegistration").pushPermissionIsDenied())n()})},_showRequestPermissions:function u(v){__p&&__p();var w=v.appID,x=v.baseElement,y=v.hasEnoughFriendsToRequestPush,z=v.isWebNotifications,A=v.onAcceptCallback,B=v.sampleNotificationAvatarURI,C=v.sampleNotificationMessage,D=v.showSpinnerWhileRequesting,E=v.wasXOuted,F=v.showFixedTopDialog,G=v.showTurnOffMessage;i.once("complete",function(H){q(x);m("twostep_suppressed",w)});if(!y||E)return;m("twostep_request",w);c("ReactDOM").render(c("React").createElement(c("NotificationPermissionRequestWithPreview.react"),{isWebNotifications:z,notificationImage:B||undefined,notificationMessage:C||undefined,onAccept:A,onClose:function H(){m("twostep_notnow",w);i.emitRemote("complete");o(w);q(x)},showSpinnerWhileRequesting:D,showFixedTopDialog:F,showTurnOffMessage:G}),x)},_getOnPushNotificationsAccept:function u(v){var w=v.appID,x=v.baseElement,y=v.browserName,z=v.callback,A=v.path,B=v.workerIsForPushOnly;return function(){m("twostep_accept",w);i.emitRemote("complete");s(A,w,x,y,B).then(z,z).done()}},_getOnWebNotificationsDialogAccept:function u(v){var w=v.appID,x=v.callback;return function(){m("twostep_accept",w);this._requestWebNotificationsFromBrowser(w,x)}.bind(this)},_requestWebNotificationsFromBrowser:function u(v,w){m("turn_on",v);h.requestPermission(w)}};f.exports=t}),null);
__d("XBrowserPushMuteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/notifications/client/push/mute/",{appid:{type:"Int",required:true},push_endpoint:{type:"String",required:true},surface:{type:"Enum",required:true,enumType:1},mute_for:{type:"Enum",enumType:0},__asyncDialog:{type:"Int"}})}),null);
__d("BrowserPushMuteOptions",["fbt","AsyncRequest","PushRegistration","React","ReactDOM","XBrowserPushMuteController"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k,l,m){var n=c("PushRegistration").get(l,m);n.getPushSubscription().done(function(o){if(o){var p=c("XBrowserPushMuteController").getURIBuilder().setEnum("surface","jewel").setString("push_endpoint",o.endpoint).setInt("appid",m).getURI();new(c("AsyncRequest"))().setURI(p).setRelativeTo(k).send()}})}var j={showMuteOptions:function k(l,m,n){if(!c("PushRegistration").pushPermissionIsOn())return;c("ReactDOM").render(c("React").createElement("a",{href:"#",onClick:function o(){i(l,m,n)}},h._("Mute")),l)}};f.exports=j}),null);
__d("ViewasChromeBar",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","Focus","ModalMask","PageTransitionsRegistrar","Parent"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="ViewasChromeBar/initialized",k=null,l=false;function m(p){c("Arbiter").subscribe(j,p)}function n(p){c("CSS").addClass(p,"_7g7");var q=c("DOM").find(p,"._7g0");c("Focus").set(c("DOM").find(q,".textInput"))}var o={initChromeBar:function p(q){if(l)return;k=q;l=true;c("Arbiter").inform(j,null,c("Arbiter").BEHAVIOR_STATE)},update:function p(q,r){m(function(){c("DOM").setContent(k,q);if(r)new(c("AsyncRequest"))("/ajax/privacy/glasgow/viewas_bar_flyout_open").send()})},registerSpecificModeOnClick:function p(q){c("Event").listen(q,"click",function(){var r=c("Parent").bySelector(q,"._7f-");if(r instanceof HTMLElement)n(r)})},registerFlyoutModalMask:function p(){c("ModalMask").show();c("PageTransitionsRegistrar").registerHandler(c("ModalMask").hide,10)}};f.exports=o}),null);