if (self.CavalryLogger) { CavalryLogger.start_js(["sM5Bx"]); }

__d("XBrowseLoggerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/browse/logger/",{data:{type:"HackType",required:true}})}),null);
__d("BrowseLogger",["AsyncRequest","Banzai","Run","XBrowseLoggerController","mapObject"],(function a(b,c,d,e,f,g){__p&&__p();var h="browse",i="browse_aggr",j=null,k={},l={},m=function m(v){if(v==null)return"undefined";var w=v.tagName.toLowerCase(),x=v.id,y=v.className;if(x)w+="#"+x;if(y)w+="."+y;return w};function n(){j=null;k={};l={}}function o(v){return Object.assign(v,{clientSessionID:j})}function p(v){c("Banzai").post(h,o(v))}function q(v){var w=c("XBrowseLoggerController").getURIBuilder().setHackType("data",o(v)).getURI();new(c("AsyncRequest"))().setURI(w).send()}function r(){if(j===null)return;l.aggregated=k;c("Banzai").post(i,o(l));n()}function s(v){k[v]=(k[v]||0)+1}function t(v){Object.assign(l,v)}c("Run").onUnload(r);var u={newSession:function v(){r();j=Math.random().toString();if(!l.start_time)l.start_time=Math.round(Date.now()/1e3)},logResultClick:function v(w,x,y,z,A){__p&&__p();var B=arguments.length<=5||arguments[5]===undefined?null:arguments[5],C={action:"result_click",click_type:w.ct||"result",section:w.section||"unknown",id:w.id||-1,path:w.path||"unknown",rank:w.rank||0,referrer:w.referrer||"unknown",result_type:w.result_type||"unknown",session_id:w.session_id||0,query_time:w.query_time||null,abtest_version:w.abtest_version||"NONE",abtest_params:w.abtest_params||null,typeahead_sid:w.typeahead_sid||"",source_module_role:w.source_module_role||"",result_title:w.result_title||"unknown",result_href:w.result_href||"unknown",result_semantic:w.result_semantic||"unknown",type:w.experience_type||"unknown",click_action:y||null,sub_id:w.sub_id||null,owner_id:w.owner_id||null,browse_location:w.browse_location||"unknown",query_data:w.query_data||"unknown",is_headline:w.is_headline||false,qid:x.qid||0,mf_story_key:x.mf_story_key||0,module:w.module||"NONE",view:w.view||null,clicked_href:A||null,bt_key:B};if(x.tn)C.tn=x.tn;if(w.cst)C.click_subtype=w.cst;s("result_click_"+C.click_type);t({path:C.path,referrer:C.referrer,result_type:C.result_type,session_id:C.session_id,abtest_version:C.abtest_version,abtest_params:C.abtest_params,typeahead_sid:C.typeahead_sid});if(B)q(C);else p(C);if(!w.id&&w.browse_location!=="browse_location:mf_trending"&&!B)p({action:"logging_error",click_action:y,click_type:C.click_type,attributes:JSON.stringify(w),element:c("mapObject")({srcElement:z.srcElement,target:z.target,toElement:z.toElement},m),event:{button:z.button,clientX:z.clientX,clientY:z.clientY,ctrlKey:z.ctrlKey,layerX:z.layerX,layerY:z.layerY,offsetX:z.offsetX,offsetY:z.offsetY,pageX:z.pageX,pageY:z.pageY,screenX:z.screenX,screenY:z.screenY,shiftKey:z.shiftKey,type:z.type,x:z.x,y:z.y}})},logControlsClick:function v(w,x){var y={action:"controls_click",click_type:x,path:w.path||"unknown",referrer:w.referrer||"unknown",session_id:w.session_id||0,query_time:w.query_time,filter_name:w.name||"unknown",typeahead_sid:w.typeahead_sid||"",result_type:w.result_type||"unknown",type:w.experience_type||"unknown"};if(w.cst)y.click_subtype=w.cst;s("controls_click_"+x);t({path:y.path,referrer:y.referrer,session_id:y.session_id,typeahead_sid:y.typeahead_sid});p(y)},logResultHover:function v(w,x){var y=arguments.length<=2||arguments[2]===undefined?null:arguments[2],z={action:"result_hover",id:w.id||0,path:w.path||"unknown",rank:w.rank||null,result_type:w.result_type||"unknown",session_id:w.session_id||0,query_time:w.query_time||null,time_elapsed:x||null,typeahead_sid:w.typeahead_sid||0,type:w.experience_type||"unknown",module:w.module||"NONE",view:w.view||null,bt_key:y};s("result_hover");t({path:z.path,session_id:z.session_id,typeahead_sid:z.typeahead_sid});if(y)q(z);else p(z)},logScroll:function v(w,x,y,z){var A={action:"scroll",encoded_query:w,fragments:x,position:y,session_id:z||0};p(A)},logNUXStep:function v(w){var x={action:"nux_step",step:w};p(x)},logDisambiguationImpression:function v(w,x,y,z,A){var B={action:"disambiguation_imp",ids:z,name:w,path:y,type:x,typeahead_sid:A};p(B)},logDisambiguationClick:function v(w,x,y,z,A,B){var C={action:"disambiguation_clk",id:A,index:z,name:w,path:y,type:x,typeahead_sid:B};p(C)},logDYMLinkClick:function v(w,x,y,z){var A={action:"dym_click",path:w.path||"unknown",referrer:w.referrer||"unknown",session_id:w.session_id||0,query_time:w.query_time,abtest_version:w.abtest_version||"NONE",abtest_params:w.abtest_params,typeahead_sid:w.typeahead_sid||"",type:w.experience_type||"unknown",click_action:y,sub_id:w.sub_id,owner_id:w.owner_id,browse_location:w.browse_location||"unknown",query_data:w.query_data||"unknown",module:w.module||"NONE",view:w.view,dym_confidence:w.dym_confidence||"NONE",dym_query:w.dym_query||"",dym_correction:w.dym_correction||"",dym_clicked:w.dym_clicked||""};p(A)}};f.exports=u}),null);
__d("BrowseClickLogger",["BrowseClientEventLogger","BrowseLogger","DOMQuery","Event","Parent","collectDataAttributes"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){__p&&__p();var l=j.target,m=c("collectDataAttributes")(l,["bt","ft","gt"],["data-bt-key"]);if(m.bt&&m.bt.path)m.bt.path+=document.location.search;m.gt.tn=m.ft.tn;m.gt.click_type=m.bt.ct||"result";var n=c("Parent").byAttribute(l,"href"),o=n!=null?n.href:null;m.gt.clicked_href=o;c("BrowseClientEventLogger").logClick(m);if(m.bt==null||m.ft==null)return;if(c("DOMQuery").scry(l,"^.recourse-link").length>0){if(k==="left_click")c("BrowseLogger").logDYMLinkClick(m.bt,m.ft,k,j)}else c("BrowseLogger").logResultClick(m.bt,m.ft,k,j,o,m.normal["data-bt-key"])}var i={init:function j(k){c("Event").listen(k,"mousedown",function(l){var m=l.button===2||l.which===3?"right_click":"left_click";if(l.shiftKey)m+="_shift";if(l.altKey)m+="_alt";if(l.metaKey||l.ctrlKey)m+="_ctrl";h(l,m)}.bind(this))},logClick:h};f.exports=i}),null);