if (self.CavalryLogger) { CavalryLogger.start_js(["pNbHI"]); }

__d("XUISidebar",["csx","DirectionalDockingElement","DOMDimensions","DOMQuery","Event","SubscriptionsHandler","Run","ViewportBounds","getElementPosition","getViewportDimensions","throttle"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="._2yaa";function j(k){"use strict";this.$XUISidebar1=new(c("DirectionalDockingElement"))(k);this.$XUISidebar3=k;this.$XUISidebar4();var l=c("throttle")(this.$XUISidebar4.bind(this));this.$XUISidebar2=new(c("SubscriptionsHandler"))();this.$XUISidebar2.addSubscriptions(c("Event").listen(window,"resize",l),c("Event").listen(this.$XUISidebar3,"resize",l),c("Run").onLeave(this.$XUISidebar5.bind(this)))}j.prototype.$XUISidebar5=function(){"use strict";if(this.$XUISidebar2)this.$XUISidebar2.release();this.$XUISidebar2=null};j.prototype.$XUISidebar4=function(){__p&&__p();var k,l=this;"use strict";var m=c("DOMDimensions").getElementDimensions(this.$XUISidebar3).height,n=c("getElementPosition")(this.$XUISidebar3).y,o=c("ViewportBounds").getTop(),p=c("getViewportDimensions")().height-o,q=p-m;if(m<p)q=o;else(function(){__p&&__p();var r=[];c("DOMQuery").scry(l.$XUISidebar3,i).forEach(function(v){r.push(c("getElementPosition")(v).y)});r.sort(function(v,w){return v-w});for(var s=0,t=r.length;s<t;s++){var u=r[s]-n;if(m-u<p){q=o-u;break}}})();this.$XUISidebar1.setOffset(q)};f.exports=j}),null);
__d("LeftNavScrollable",["Event","LeftNavFitToHeight","Parent","Run","XUISidebar"],(function a(b,c,d,e,f,g){__p&&__p();var h=void 0,i=void 0,j={init:function l(m){__p&&__p();if(h){c("Event").fire(window,"resize");return}i=c("Parent").bySelector(m,"#leftCol");if(!(i instanceof HTMLElement))return;h=i.appendChild(document.createElement("div"));while(h!==i.firstChild&&i.firstChild)h.appendChild(i.firstChild);h.style.paddingTop="12px";i.style.marginTop="-12px";new(c("XUISidebar"))(h);c("LeftNavFitToHeight").destroy();c("Event").fire(window,"resize");c("Run").onLeave(k)}};function k(){i=null;h=null}f.exports=j}),null);
__d("Popup",[],(function a(b,c,d,e,f,g){var h={open:function i(j,k,l,m){var n=document.body,o="screenX"in window?window.screenX:window.screenLeft,p="screenY"in window?window.screenY:window.screenTop,q="outerWidth"in window?window.outerWidth:n.clientWidth,r="outerHeight"in window?window.outerHeight:n.clientHeight-22,s=Math.floor(o+(q-k)/2),t=Math.floor(p+(r-l)/2.5),u=["width="+k,"height="+l,"left="+s,"top="+t,"scrollbars"];return window.open(j,m||"_blank",u.join(","))}};f.exports=h}),null);
__d("PopupWindow",["DOMDimensions","DOMQuery","Layer","Popup","getViewportDimensions"],(function a(b,c,d,e,f,g){__p&&__p();var h={_opts:{allowShrink:true,strategy:"vector",timeout:100,widthElement:null},init:function i(j){Object.assign(h._opts,j);setInterval(h._resizeCheck,h._opts.timeout)},_resizeCheck:function i(){__p&&__p();var j=c("getViewportDimensions")(),k=h._getDocumentSize(),l=c("Layer").getTopmostLayer();if(l){var m=l.getRoot().firstChild,n=c("DOMDimensions").getElementDimensions(m);n.height+=c("DOMDimensions").measureElementBox(m,"height",true,true,true);n.width+=c("DOMDimensions").measureElementBox(m,"width",true,true,true);k.height=Math.max(k.height,n.height);k.width=Math.max(k.width,n.width)}var o=k.height-j.height,p=k.width-j.width;if(p<0&&!h._opts.widthElement)p=0;p=p>1?p:0;if(!h._opts.allowShrink&&o<0)o=0;if(o||p)try{window.console&&window.console.firebug;window.resizeBy(p,o);if(p)window.moveBy(p/-2,0)}catch(q){}},_getDocumentSize:function i(){__p&&__p();var j=c("DOMDimensions").getDocumentDimensions();if(h._opts.strategy==="offsetHeight")j.height=document.body.offsetHeight;if(h._opts.widthElement){var k=c("DOMQuery").scry(document.body,h._opts.widthElement)[0];if(k)j.width=c("DOMDimensions").getElementDimensions(k).width}var l=b.Dialog;if(l&&l.max_bottom&&l.max_bottom>j.height)j.height=l.max_bottom;return j},open:function i(j,k,l,m){return c("Popup").open(j,l,k,m)}};f.exports=h}),null);
__d("HubsTypeaheadView",["fbt","Arbiter","AsyncRequest","ContextualTypeaheadView","CSS","DOM","Event","$"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("ContextualTypeaheadView"));j=i&&i.prototype;function k(l,m){"use strict";j.constructor.call(this,l,m);if(m.allowDedupe)this.subscribe("select",this.selectDuplicates.bind(this))}k.prototype.hide=function(){"use strict";return this.canHide?j.hide.call(this):null};k.prototype.reset=function(){"use strict";return this.canHide?j.reset.call(this):null};k.prototype._createFreeFormNode=function(l){"use strict";var m=l;if(this.showCreatePrompt)m=h._("Add \"{partial_name}\"",[h.param("partial_name",l)]);else if(this.showAltCreatePrompt)m=h._("Create \"{partial_name}\"",[h.param("partial_name",l)]);return{text:m,orig_text:l,type:"addnew calltoaction",uid:"0"}};k.prototype.validateQuery=function(l){"use strict";return this.minQueryLength?l.length>=this.minQueryLength:true};k.prototype.render=function(l,m,n){"use strict";__p&&__p();var o=[],p=Math.max(1,Math.floor(m.length/10));for(var q=p;q<m.length;q++)if(!!m[q].already_added){o.push(m[q]);m.splice(q,1);q--}m=m.concat(o);if(this.alwaysRender&&l!=="")if(this.allowFreeformEntry){if(this.validateQuery(l))m.push(this._createFreeFormNode(l))}else{var r=l.toLowerCase().trim(),s=false;for(var t=0;t<m.length;t++)if(r==m[t].text.toLowerCase().trim()){s=true;break}if(!s&&this.validateQuery(l))m.push(this._createFreeFormNode(l))}var u=m.length;for(var v=0;v<m.length;v++)if(m[v].uid==false)u--;if(this.allowDedupe&&u>1&&l.length>=3)m.push({text:h._("Mark Duplicate Results"),type:"dupelink calltoaction"});return j.render.call(this,l,m,n)};k.prototype.selectDuplicates=function(l,m){"use strict";__p&&__p();if(!m.selected.type.match("dupelink"))return;var n=[];for(var o=0;o<this.results.length;o++){if(this.results[o].uid==false)continue;n.push(this.results[o].uid)}var p=c("Arbiter").subscribe("typeahead/"+this.collectionID+"/confirmDupes",function(q,r){var s=this.results.map(function(v){return v.uid});for(var t=0;t<r.dupe_ids.length;t++){var u=s.indexOf(r.dupe_ids[t]);c("CSS").hide(this.items[u])}this.hasHiddenDupes=r.dupe_ids.length>0}.bind(this));c("Arbiter").subscribe("typeahead/"+this.collectionID+"/finishDupes",function(q,r){c("Arbiter").unsubscribe(p);this.canHide=true;this.hasHiddenDupes&&c("CSS").hide(c("DOM").find(this.content,".dupelink"));this.hasHiddenDupes=false}.bind(this));this.canHide=false;new(c("AsyncRequest"))("/ajax/typeahead/quality/duplicates").setData({ids:n,surface:c("$")("collections_surface").value,collection_id:this.collectionID}).send()};k.initFreeformBoxes=function(){"use strict";var l=c("DOM").scry(document,"div.fbAddFormDialog")[0];if(!l)return;var m=c("DOM").find(l,"form");c("Event").listen(m,"submit",function(){c("DOM").scry(m,"div.fbFreeformInput").forEach(function(n){if(c("DOM").find(n,"input.inputtext").value)c("CSS").addClass(n.firstChild,"selected")})})};Object.assign(k.prototype,{canHide:true,hasHiddenDupes:false});f.exports=k}),null);
__d("ClearableTypeahead",["Event"],(function a(b,c,d,e,f,g){var h={resetOnCloseButtonClick:function i(j,k){c("Event").listen(k,"click",function(){var l=j.getCore();l.getElement().focus();l.reset()})}};f.exports=h}),null);
__d("TypeaheadSetPhotoOnSelect",["CSS","DOM","Event"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._typeahead=i}h.prototype.enable=function(){"use strict";__p&&__p();var i=c("DOM").scry(this._typeahead.getElement(),".photo")[0];if(i){if(!c("DOM").isNodeOfType(i,"img")){var j=c("DOM").create("img",{className:i.className});c("DOM").replace(i,j);i=j}var k=c("CSS").hide.bind(null,i),l=c("CSS").show.bind(null,i);this._eventListener=c("Event").listen(i,{load:l,error:k,abort:k});this._subscription=this._typeahead.subscribe("select",function(m,n){var o=n.selected.photo||this._typeahead.view.fallbackPhoto;o?i.setAttribute("src",o):k()}.bind(this))}};h.prototype.disable=function(){"use strict";this._eventListener.remove();this._eventListener=null;this._typeahead.unsubscribe(this._subscription);this._subscription=null};Object.assign(h.prototype,{_eventListener:null,_subscription:null});f.exports=h}),null);
__d("legacy:SetPhotoOnSelectTypeaheadBehavior",["TypeaheadSetPhotoOnSelect"],(function a(b,c,d,e,f,g){if(!b.TypeaheadBehaviors)b.TypeaheadBehaviors={};b.TypeaheadBehaviors.setPhotoOnSelect=function(h){h.enableBehavior(c("TypeaheadSetPhotoOnSelect"))}}),3);
__d("WorkLoginState",["Cookie"],(function a(b,c,d,e,f,g){var h={hasLoginStateChanged:function i(j){var k=c("Cookie").get("c_user");if(!k)return false;return j!==k}};f.exports=h}),null);
__d("WorkLoginStatePoller",["Cookie","WorkLoginState"],(function a(b,c,d,e,f,g){var h={init:function i(){this._start()},_start:function i(){setInterval(this._checkState(),1e3)},_checkState:function i(){var j=c("Cookie").get("c_user")||"";return function(){if(c("WorkLoginState").hasLoginStateChanged(j))window.location.reload()}}};f.exports=h}),null);
__d("XWorkInstallContentAppOnUserController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/work/content_apps/",{shared_url:{type:"String"}})}),null);