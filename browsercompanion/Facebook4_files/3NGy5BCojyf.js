if (self.CavalryLogger) { CavalryLogger.start_js(["7cfGG"]); }

__d("FacebarStructuredFragment",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(k,l){if(k&&l)return k.toLowerCase()==l.toLowerCase();else return!k&&!l}var i=new RegExp("[\\u0590-\\u07bf\\u08a0-\\u08ff\\ufb1d-\\ufb4f\\ufb50-\\ufefc\\u200e-\\u200f\\u202a-\\u202e]");function j(k){this._text=String(k.text);this._uid=k.uid?String(k.uid):null;this._type=k.type?String(k.type):null;this._typeParts=null;this._isLocal=Boolean(k.isLocal);this._categoryName=k.categoryName?k.categoryName:null}j.prototype.getText=function(){return this._text};j.prototype.getUID=function(){return this._uid};j.prototype.getType=function(){return this._type};j.prototype.getTypePart=function(k){return this._getTypeParts()[k]};j.prototype.getLength=function(){return this._text.length};j.prototype.isType=function(k){for(var l=0;l<arguments.length;l++)if(!h(arguments[l],this.getTypePart(l)))return false;return true};j.prototype.isLocal=function(){return this._isLocal};j.prototype.getCategoryName=function(){return this._categoryName};j.prototype.isWhitespace=function(){return/^\s*$/.test(this._text)};j.prototype.hasRTL=function(){return i.test(this._text)};j.prototype.toStruct=function(){return{text:this._text,type:this._type,uid:this._uid,isLocal:this._isLocal,categoryName:this._categoryName}};j.prototype.getHash=function(k){var l=k!=null?this._getTypeParts().slice(0,k).join(":"):this._type;return String(l)+"::"+this._text};j.prototype._getTypeParts=function(){var k=this._typeParts;if(k==null){k=this._type!=null?this._type.split(":"):[];this._typeParts=k}return k};f.exports=j}),null);
__d("FacebarStructuredText",["FacebarStructuredFragment","createArrayFromMixed"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=/\s+$/;function i(m){if(!m)return[];else if(m instanceof l)return m.toArray();else return c("createArrayFromMixed")(m).map(function(n){return new(c("FacebarStructuredFragment"))(n)})}function j(m){return new(c("FacebarStructuredFragment"))({text:m,type:"text"})}function k(m,n,o){var p=m.getText(),q=p.replace(n,o);if(p!=q)return new(c("FacebarStructuredFragment"))({text:q,type:m.getType(),uid:m.getUID()});else return m}function l(m){this._fragments=m||[];this._hash=null}l.prototype.matches=function(m,n){__p&&__p();if(m){var o=this._fragments,p=m._fragments;return o.length==p.length&&!o.some(function(q,r){var s=void 0;if(!n&&q.getUID())s=q.getUID()!=p[r].getUID();else s=q.getText()!=p[r].getText()||q.getType()!=p[r].getType();return s||q.isLocal()!=p[r].isLocal()})}return false};l.prototype.trim=function(){__p&&__p();var m=null,n=null;this.forEach(function(p,q){if(!p.isWhitespace()){if(m===null)m=q;n=q}});if(n!==null){var o=this._fragments.slice(m,n+1);o.push(k(o.pop(),h,""));return new l(o)}else return new l([])};l.prototype.pad=function(){var m=this.getFragment(-1);if(m&&!h.test(m.getText())&&m.getText()!=="")return new l(this._fragments.concat(j(" ")));else return this};l.prototype.forEach=function(m){this._fragments.forEach(m);return this};l.prototype.matchType=function(m){var n=null;for(var o=0;o<this._fragments.length;o++){var p=this._fragments[o],q=p.isType.apply(p,arguments);if(q&&!n)n=p;else if(q||!p.isWhitespace())return null}return n};l.prototype.hasType=function(m){var n=arguments;return this._fragments.some(function(o){return!o.isWhitespace()&&o.isType.apply(o,n)})};l.prototype.isLocal=function(){return this._fragments.some(function(m){return m.isLocal()})};l.prototype.getCategoryName=function(){var m=this._fragments.filter(function(n){return n.getCategoryName()});if(m.length>0)return m[0].getCategoryName();return null};l.prototype.endsOnType=function(m){var n=arguments,o=this._fragments[this._fragments.length-1];return!!o&&!o.isWhitespace()&&o.isType.apply(o,n)};l.prototype.isEmptyOrWhitespace=function(){return!this._fragments.some(function(m){return!m.isWhitespace()})};l.prototype.hasRTL=function(){return this._fragments.some(function(m){return m.hasRTL()})};l.prototype.isEmpty=function(){return this.getLength()===0};l.prototype.getFragment=function(m){return this._fragments[m>=0?m:this._fragments.length+m]};l.prototype.getCount=function(){return this._fragments.length};l.prototype.getLength=function(){return this._fragments.reduce(function(m,n){return m+n.getLength()},0)};l.prototype.toStruct=function(){return this._fragments.map(function(m){return m.toStruct()})};l.prototype.toArray=function(){return this._fragments.slice()};l.prototype.toString=function(){return this._fragments.map(function(m){return m.getText()}).join("")};l.prototype.getHash=function(){if(this._hash===null)this._hash=this._fragments.map(function(m){if(m.getUID())return"[["+m.getHash(1)+"]]";else return m.getText()}).join("");return this._hash};l.fromStruct=function(m){return new l(i(m))};l.fromString=function(m){return new l([j(m.toString())])};f.exports=l}),null);
__d("FacebarNavigation",["csx","Arbiter","DOMQuery","FacebarBootloader","FacebarStructuredText","FlipDirection","Input","QueryHistory","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=null,j=null,k=null,l=false,m=true,n=false;function o(r,s){if(!n)k=r;n=false;l=s;m=false;p()}function p(){__p&&__p();if(m)return;else if(j){l&&j.pageTransition();j.setPageQuery(k);m=true}else if(i&&k&&!c("Input").getValue(i))c("Input").setValue(i,k.structure.toString()+" ");if(i!=null){c("FlipDirection").setDirection(i);i.blur()}}c("Arbiter").subscribe("page_transition",function(r,s){if(!q.isTopControlTransition(s.uri)&&!q.isTimelineAbout(s.uri))o(c("QueryHistory").get(s.uri),true)});c("Arbiter").subscribe("save_facebar_query",function(r,s){n=true});var q={registerInput:function r(s){i=c("DOMQuery").scry(s,"._586f")[0];if(i==null)i=c("DOMQuery").scry(s,"._1frb")[0];p()},registerBehavior:function r(s){j=s;p()},setPageQuery:function r(s){c("QueryHistory").set(c("URI").getNextURI(),s);if(!(s.structure instanceof c("FacebarStructuredText")))s.structure=c("FacebarStructuredText").fromStruct(s.structure);o(s,false);c("FacebarBootloader").requestSearch()},isTopControlTransition:function r(s){return String(s.getPath()).startsWith("/search/")&&s.getQueryData().ref==="top_filter"&&!s.getQueryData().hard_refresh},isTimelineAbout:function r(s){return/\/about$/.test(s.getPath())&&!s.getQueryData().hard_refresh}};f.exports=q}),null);
__d("XUIPageNavigationShim",["DOMContainer.react","React","isNode"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=function(){var m=0;return function(){return"XUIPageNavigationShim-"+m++}}();function k(m){__p&&__p();var n;if(m.children){n=m.children.map(function(p){if(typeof p==="object"&&typeof p.ctor==="function")return k(p);else if(c("isNode")(p))return c("React").createElement(c("DOMContainer.react"),{key:j()},p);else return p});if(n.length===1)n=n[0]}var o=m.ctor;return c("React").createElement(o,babelHelpers["extends"]({key:j()},m.props),n)}h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;l.prototype.render=function(){"use strict";return k(this.props)};function l(){"use strict";h.apply(this,arguments)}f.exports=l}),null);
__d("NodeHighlighter",["DOM","TokenizeUtil","concatMap","escapeRegex","getElementText","isTextNode"],(function a(b,c,d,e,f,g){__p&&__p();var h={};function i(l,m){var n=c("getElementText")(l).split(m),o=n.map(function(p){if(m.test(p))return j(p);return p||""});return n.length>1?o:null}function j(l){var m=c("DOM").create("span",{"class":"highlightNode",className:"highlightNode"},l);return m}var k={getTextNodes:function l(m){if(this.isLeafNode(m)||this.isStopNode(m))return m;else if(this.isDiscardNode(m))return[];return c("concatMap")(this.getTextNodes.bind(this),Array.from(m.childNodes))},getHighlightCandidates:function l(){return[]},isLeafNode:function l(m){return c("isTextNode")(m)},isStopNode:function l(m){return false},isDiscardNode:function l(m){return false},createSegmentedRegex:function l(m){var n=c("TokenizeUtil").getPunctuation();m=this.escapeAndAddBidirectionalCharsToTokens(m);m=m.map(function(o){o=o.split(/\s+/).join("(?:"+n+"|\\s)+");return o});return"(^|\\s|"+n+")("+m.join("|")+")(?=(?:$|\\s|"+n+"))"},createNonSegmentedRegex:function l(m){return"("+m.map(c("escapeRegex")).join("|")+")"},escapeAndAddBidirectionalCharsToTokens:function l(m){var n="[\\u200E\\u200F\\u202A\\u202B\\u202C\\u202D\\u202E]*";return m.map(function(o){return n+String(o).split("").map(c("escapeRegex")).join(n)+n})},createRegex:function l(m){__p&&__p();m=m.filter(function(t){return t});if(!m||m.length===0)return new RegExp(null);var n=m.join("|");if(h[n])return h[n];var o=/[\u0E00-\u109F\u2000-\uFFFF]/,p=[],q=[];m.forEach(function(t){if(o.test(t))q.push(t);else p.push(t)});var r="";if(p.length){r+=this.createSegmentedRegex(p);r+=q.length?"|":""}if(q.length)r+=this.createNonSegmentedRegex(q);var s=new RegExp(r,"i");h[n]=s;return s},searchNodes:function l(m,n){return c("DOM").scry(m,n)},highlight:function l(m,n){__p&&__p();n=n.filter(function(q){return q});if(!n||n.length===0||!m)return;var o=c("concatMap")(function(q){return c("concatMap")(this.getTextNodes.bind(this),this.searchNodes(m,q))}.bind(this),this.getHighlightCandidates()),p=this.createRegex(n);o.forEach(function(q){var r=i(q,p);if(r)if(this.isStopNode(q))c("DOM").setContent(q,r);else c("DOM").replace(q,r)}.bind(this))}};f.exports=k}),null);