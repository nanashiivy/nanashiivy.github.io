if (self.CavalryLogger) { CavalryLogger.start_js(["Ubb42"]); }

__d("CameraEventGroupPostOwnerInfo.react",["cx","fbt","React","formatDate","Timestamp.react"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=function j(k){var l=k.bucketOwnerName,m=k.threadOwnerName,n=k.time,o=c("React").createElement(c("Timestamp.react"),{autoUpdate:true,time:n,text:c("formatDate")(n,"M j, Y",{utc:true})}),p=i._("by {story_poster}",[i.param("story_poster",m)]);return c("React").createElement("div",{className:"_60x1"},c("React").createElement("div",null,c("React").createElement("p",{className:"_2in7"},l)),c("React").createElement("div",{className:"_2in8"},p," \u2022 ",o))};f.exports=j}),null);
__d("CameraEventGroupPostOwnerPic.react",["cx","CameraPostTypes","React","idx","Image.react","Tooltip.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=function i(j){var k,l=j.bucketOwnerName,m=j.bucketProfilePicture,n=j.threadProfilePicture,o=j.cameraPostType;if(!n)return null;var p=(k=m)!=null?k.uri:k,q=null;if(p)q=c("React").createElement(c("Image.react"),{src:p,className:"_116u"});else q=c("React").createElement("div",{className:(o===c("CameraPostTypes").EVENT_STORY?"_24ex":"")+(o===c("CameraPostTypes").GROUP_STORY?" _64ag":"")+" _116u"});return c("React").createElement("span",null,c("React").createElement(c("Tooltip.react"),{tooltip:l,position:"left"},q),c("React").createElement(c("Image.react"),{src:n.uri,className:"_24ey"}))};f.exports=i}),null);
__d("CameraPostDirectMarkSeenMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1644150182303893"};j.getQueryID=function(){"use strict";return"171816796723339"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostLoggingEvents",[],(function a(b,c,d,e,f,g){"use strict";f.exports={SEND_REPLY_ATTEMPT:"send_direct_reply_attempted",SEND_REPLY_SUCCESS:"send_direct_reply_success",SEND_REPLY_FAILURE:"send_direct_reply_failure",THREAD_VIEWED:"view",THREAD_MARK_SEEN_ATTEMPT:"mark_thread_seen_attempted",THREAD_MARK_SEEN_SUCCESS:"mark_thread_seen_success",THREAD_MARK_SEEN_FAILURE:"mark_thread_seen_failure",DIRECT_VIEWER_CLICKOUT:"clickout"}}),null);
__d("CameraPostQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"860699360721426"};j.getQueryID=function(){"use strict";return"1311047782354100"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostRepliesQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1494166853955273"};j.getQueryID=function(){"use strict";return"1468697053209427"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostReplyMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1459763854077111"};j.getQueryID=function(){"use strict";return"1849675045338105"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("CameraPostUserQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports=function(){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return"1652248708148952"};j.getQueryID=function(){"use strict";return"143159039576179"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("DirectMessagingTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:DirectMessagingLoggerConfig",this.$DirectMessagingTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:DirectMessagingLoggerConfig",this.$DirectMessagingTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$DirectMessagingTypedLogger1={};return this};h.prototype.updateData=function(j){this.$DirectMessagingTypedLogger1=babelHelpers["extends"]({},this.$DirectMessagingTypedLogger1,j);return this};h.prototype.setAccountstatus=function(j){this.$DirectMessagingTypedLogger1.accountstatus=j;return this};h.prototype.setActionSource=function(j){this.$DirectMessagingTypedLogger1.action_source=j;return this};h.prototype.setAppID=function(j){this.$DirectMessagingTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$DirectMessagingTypedLogger1.appversion=j;return this};h.prototype.setBackstagePostID=function(j){this.$DirectMessagingTypedLogger1.backstage_post_id=j;return this};h.prototype.setBackstageThreadID=function(j){this.$DirectMessagingTypedLogger1.backstage_thread_id=j;return this};h.prototype.setBadgingNumber=function(j){this.$DirectMessagingTypedLogger1.badging_number=j;return this};h.prototype.setBlacklistedStoriesUsersCount=function(j){this.$DirectMessagingTypedLogger1.blacklisted_stories_users_count=j;return this};h.prototype.setCameraPostType=function(j){this.$DirectMessagingTypedLogger1.camera_post_type=j;return this};h.prototype.setCameraStoryPromotionID=function(j){this.$DirectMessagingTypedLogger1.camera_story_promotion_id=j;return this};h.prototype.setClientCameraPostTrackingKey=function(j){this.$DirectMessagingTypedLogger1.client_camera_post_tracking_key=j;return this};h.prototype.setClientIsReplay=function(j){this.$DirectMessagingTypedLogger1.client_is_replay=j;return this};h.prototype.setClientMediaContentID=function(j){this.$DirectMessagingTypedLogger1.client_media_content_id=j;return this};h.prototype.setClientMediaID=function(j){this.$DirectMessagingTypedLogger1.client_media_id=j;return this};h.prototype.setClientMediaIdsStrings=function(j){this.$DirectMessagingTypedLogger1.client_media_ids_strings=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setClientSessionID=function(j){this.$DirectMessagingTypedLogger1.client_session_id=j;return this};h.prototype.setClientSessionTime=function(j){this.$DirectMessagingTypedLogger1.client_session_time=j;return this};h.prototype.setClientShareSheetID=function(j){this.$DirectMessagingTypedLogger1.client_share_sheet_id=j;return this};h.prototype.setClientViewerSessionID=function(j){this.$DirectMessagingTypedLogger1.client_viewer_session_id=j;return this};h.prototype.setClienttime=function(j){this.$DirectMessagingTypedLogger1.clienttime=j;return this};h.prototype.setContainermodule=function(j){this.$DirectMessagingTypedLogger1.containermodule=j;return this};h.prototype.setCount=function(j){this.$DirectMessagingTypedLogger1.count=j;return this};h.prototype.setCountry=function(j){this.$DirectMessagingTypedLogger1.country=j;return this};h.prototype.setDeviceid=function(j){this.$DirectMessagingTypedLogger1.deviceid=j;return this};h.prototype.setDirectDataSessionID=function(j){this.$DirectMessagingTypedLogger1.direct_data_session_id=j;return this};h.prototype.setDirectGroup=function(j){this.$DirectMessagingTypedLogger1.direct_group=j;return this};h.prototype.setDirectRecipients=function(j){this.$DirectMessagingTypedLogger1.direct_recipients=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setDirectRecipientsSize=function(j){this.$DirectMessagingTypedLogger1.direct_recipients_size=j;return this};h.prototype.setDirectSessionID=function(j){this.$DirectMessagingTypedLogger1.direct_session_id=j;return this};h.prototype.setDirectSpaces=function(j){this.$DirectMessagingTypedLogger1.direct_spaces=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setEventStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.event_stories_in_tray=j;return this};h.prototype.setEventname=function(j){this.$DirectMessagingTypedLogger1.eventname=j;return this};h.prototype.setExtraClientData=function(j){this.$DirectMessagingTypedLogger1.extra_client_data=j;return this};h.prototype.setFirstView=function(j){this.$DirectMessagingTypedLogger1.first_view=j;return this};h.prototype.setFolloweeStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.followee_stories_in_tray=j;return this};h.prototype.setFriendStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.friend_stories_in_tray=j;return this};h.prototype.setGesture=function(j){this.$DirectMessagingTypedLogger1.gesture=j;return this};h.prototype.setGroupRecipients=function(j){this.$DirectMessagingTypedLogger1.group_recipients=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setGroupRecipientsSize=function(j){this.$DirectMessagingTypedLogger1.group_recipients_size=j;return this};h.prototype.setHasMyStory=function(j){this.$DirectMessagingTypedLogger1.has_my_story=j;return this};h.prototype.setHasNewContent=function(j){this.$DirectMessagingTypedLogger1.has_new_content=j;return this};h.prototype.setHasNewReactions=function(j){this.$DirectMessagingTypedLogger1.has_new_reactions=j;return this};h.prototype.setHasNewViews=function(j){this.$DirectMessagingTypedLogger1.has_new_views=j;return this};h.prototype.setHasNuxStory=function(j){this.$DirectMessagingTypedLogger1.has_nux_story=j;return this};h.prototype.setInspirationGroupSession=function(j){this.$DirectMessagingTypedLogger1.inspiration_group_session=j;return this};h.prototype.setInstagramMediaID=function(j){this.$DirectMessagingTypedLogger1.instagram_media_id=j;return this};h.prototype.setInstagramUserID=function(j){this.$DirectMessagingTypedLogger1.instagram_user_id=j;return this};h.prototype.setInterface=function(j){this.$DirectMessagingTypedLogger1["interface"]=j;return this};h.prototype.setIsCamera=function(j){this.$DirectMessagingTypedLogger1.is_camera=j;return this};h.prototype.setIsFromStory=function(j){this.$DirectMessagingTypedLogger1.is_from_story=j;return this};h.prototype.setIsStory=function(j){this.$DirectMessagingTypedLogger1.is_story=j;return this};h.prototype.setIsemployee=function(j){this.$DirectMessagingTypedLogger1.isemployee=j;return this};h.prototype.setLiveStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.live_stories_in_tray=j;return this};h.prototype.setLiveVideoID=function(j){this.$DirectMessagingTypedLogger1.live_video_id=j;return this};h.prototype.setMediaIndex=function(j){this.$DirectMessagingTypedLogger1.media_index=j;return this};h.prototype.setMediaOwner=function(j){this.$DirectMessagingTypedLogger1.media_owner=j;return this};h.prototype.setMediaOwnerTypeString=function(j){this.$DirectMessagingTypedLogger1.media_owner_type_string=j;return this};h.prototype.setMediaType=function(j){this.$DirectMessagingTypedLogger1.media_type=j;return this};h.prototype.setMessageID=function(j){this.$DirectMessagingTypedLogger1.message_id=j;return this};h.prototype.setMessageLength=function(j){this.$DirectMessagingTypedLogger1.message_length=j;return this};h.prototype.setMessageType=function(j){this.$DirectMessagingTypedLogger1.message_type=j;return this};h.prototype.setMobileNetworkType=function(j){this.$DirectMessagingTypedLogger1.mobile_network_type=j;return this};h.prototype.setMontageMessageID=function(j){this.$DirectMessagingTypedLogger1.montage_message_id=j;return this};h.prototype.setMutationID=function(j){this.$DirectMessagingTypedLogger1.mutation_id=j;return this};h.prototype.setName=function(j){this.$DirectMessagingTypedLogger1.name=j;return this};h.prototype.setNumParticipants=function(j){this.$DirectMessagingTypedLogger1.num_participants=j;return this};h.prototype.setNumberBadges=function(j){this.$DirectMessagingTypedLogger1.number_badges=j;return this};h.prototype.setNumberLiveStories=function(j){this.$DirectMessagingTypedLogger1.number_live_stories=j;return this};h.prototype.setNumberMedia=function(j){this.$DirectMessagingTypedLogger1.number_media=j;return this};h.prototype.setNumberNewRows=function(j){this.$DirectMessagingTypedLogger1.number_new_rows=j;return this};h.prototype.setNumberNewStories=function(j){this.$DirectMessagingTypedLogger1.number_new_stories=j;return this};h.prototype.setNumberReactions=function(j){this.$DirectMessagingTypedLogger1.number_reactions=j;return this};h.prototype.setNumberRows=function(j){this.$DirectMessagingTypedLogger1.number_rows=j;return this};h.prototype.setNumberStories=function(j){this.$DirectMessagingTypedLogger1.number_stories=j;return this};h.prototype.setNumberViewers=function(j){this.$DirectMessagingTypedLogger1.number_viewers=j;return this};h.prototype.setOtherParticipant=function(j){this.$DirectMessagingTypedLogger1.other_participant=j;return this};h.prototype.setPageStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.page_stories_in_tray=j;return this};h.prototype.setPrivacyMode=function(j){this.$DirectMessagingTypedLogger1.privacy_mode=j;return this};h.prototype.setProductSurface=function(j){this.$DirectMessagingTypedLogger1.product_surface=j;return this};h.prototype.setPromotionStoriesInTray=function(j){this.$DirectMessagingTypedLogger1.promotion_stories_in_tray=j;return this};h.prototype.setRawclienttime=function(j){this.$DirectMessagingTypedLogger1.rawclienttime=j;return this};h.prototype.setReactionID=function(j){this.$DirectMessagingTypedLogger1.reaction_id=j;return this};h.prototype.setReactionType=function(j){this.$DirectMessagingTypedLogger1.reaction_type=j;return this};h.prototype.setReadStories=function(j){this.$DirectMessagingTypedLogger1.read_stories=j;return this};h.prototype.setReason=function(j){this.$DirectMessagingTypedLogger1.reason=j;return this};h.prototype.setReplaysLeft=function(j){this.$DirectMessagingTypedLogger1.replays_left=j;return this};h.prototype.setReplyCount=function(j){this.$DirectMessagingTypedLogger1.reply_count=j;return this};h.prototype.setRowIndex=function(j){this.$DirectMessagingTypedLogger1.row_index=j;return this};h.prototype.setRowStatus=function(j){this.$DirectMessagingTypedLogger1.row_status=j;return this};h.prototype.setSendKey=function(j){this.$DirectMessagingTypedLogger1.send_key=j;return this};h.prototype.setServerPostSource=function(j){this.$DirectMessagingTypedLogger1.server_post_source=j;return this};h.prototype.setServertime=function(j){this.$DirectMessagingTypedLogger1.servertime=j;return this};h.prototype.setSoftDeletedStoryThreadIds=function(j){this.$DirectMessagingTypedLogger1.soft_deleted_story_thread_ids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setSource=function(j){this.$DirectMessagingTypedLogger1.source=j;return this};h.prototype.setSourceThreadID=function(j){this.$DirectMessagingTypedLogger1.source_thread_id=j;return this};h.prototype.setStoryIndex=function(j){this.$DirectMessagingTypedLogger1.story_index=j;return this};h.prototype.setStoryMediaIds=function(j){this.$DirectMessagingTypedLogger1.story_media_ids=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setStoryOwner=function(j){this.$DirectMessagingTypedLogger1.story_owner=j;return this};h.prototype.setStoryOwnerFbids=function(j){this.$DirectMessagingTypedLogger1.story_owner_fbids=c("GeneratedLoggerUtils").serializeVector(j);return this};h.prototype.setStoryOwnerType=function(j){this.$DirectMessagingTypedLogger1.story_owner_type=j;return this};h.prototype.setStoryRankingScores=function(j){this.$DirectMessagingTypedLogger1.story_ranking_scores=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setStoryThreadIds=function(j){this.$DirectMessagingTypedLogger1.story_thread_ids=c("GeneratedLoggerUtils").serializeMap(j);return this};h.prototype.setTargetID=function(j){this.$DirectMessagingTypedLogger1.target_id=j;return this};h.prototype.setThreadCount=function(j){this.$DirectMessagingTypedLogger1.thread_count=j;return this};h.prototype.setThreadID=function(j){this.$DirectMessagingTypedLogger1.thread_id=j;return this};h.prototype.setThreadViewIdentifier=function(j){this.$DirectMessagingTypedLogger1.thread_view_identifier=j;return this};h.prototype.setTrackingString=function(j){this.$DirectMessagingTypedLogger1.tracking_string=j;return this};h.prototype.setTraySessionID=function(j){this.$DirectMessagingTypedLogger1.tray_session_id=j;return this};h.prototype.setTriggerSource=function(j){this.$DirectMessagingTypedLogger1.trigger_source=j;return this};h.prototype.setTruePromptID=function(j){this.$DirectMessagingTypedLogger1.true_prompt_id=j;return this};h.prototype.setUnifiedPrivacyMode=function(j){this.$DirectMessagingTypedLogger1.unified_privacy_mode=j;return this};h.prototype.setUnreadStories=function(j){this.$DirectMessagingTypedLogger1.unread_stories=j;return this};h.prototype.setVC=function(j){this.$DirectMessagingTypedLogger1.vc=j;return this};h.prototype.setWhitelistedStoriesUsersCount=function(j){this.$DirectMessagingTypedLogger1.whitelisted_stories_users_count=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$DirectMessagingTypedLogger1=babelHelpers["extends"]({},this.$DirectMessagingTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={accountstatus:true,action_source:true,appid:true,appversion:true,backstage_post_id:true,backstage_thread_id:true,badging_number:true,blacklisted_stories_users_count:true,camera_post_type:true,camera_story_promotion_id:true,client_camera_post_tracking_key:true,client_is_replay:true,client_media_content_id:true,client_media_id:true,client_media_ids_strings:true,client_session_id:true,client_session_time:true,client_share_sheet_id:true,client_viewer_session_id:true,clienttime:true,containermodule:true,count:true,country:true,deviceid:true,direct_data_session_id:true,direct_group:true,direct_recipients:true,direct_recipients_size:true,direct_session_id:true,direct_spaces:true,event_stories_in_tray:true,eventname:true,extra_client_data:true,first_view:true,followee_stories_in_tray:true,friend_stories_in_tray:true,gesture:true,group_recipients:true,group_recipients_size:true,has_my_story:true,has_new_content:true,has_new_reactions:true,has_new_views:true,has_nux_story:true,inspiration_group_session:true,instagram_media_id:true,instagram_user_id:true,"interface":true,is_camera:true,is_from_story:true,is_story:true,isemployee:true,live_stories_in_tray:true,live_video_id:true,media_index:true,media_owner:true,media_owner_type_string:true,media_type:true,message_id:true,message_length:true,message_type:true,mobile_network_type:true,montage_message_id:true,mutation_id:true,name:true,num_participants:true,number_badges:true,number_live_stories:true,number_media:true,number_new_rows:true,number_new_stories:true,number_reactions:true,number_rows:true,number_stories:true,number_viewers:true,other_participant:true,page_stories_in_tray:true,privacy_mode:true,product_surface:true,promotion_stories_in_tray:true,rawclienttime:true,reaction_id:true,reaction_type:true,read_stories:true,reason:true,replays_left:true,reply_count:true,row_index:true,row_status:true,send_key:true,server_post_source:true,servertime:true,soft_deleted_story_thread_ids:true,source:true,source_thread_id:true,story_index:true,story_media_ids:true,story_owner:true,story_owner_fbids:true,story_owner_type:true,story_ranking_scores:true,story_thread_ids:true,target_id:true,thread_count:true,thread_id:true,thread_view_identifier:true,tracking_string:true,tray_session_id:true,trigger_source:true,true_prompt_id:true,unified_privacy_mode:true,unread_stories:true,vc:true,whitelisted_stories_users_count:true};f.exports=h}),null);
__d("CameraPostGraphQLAPI",["CameraPostDirectMarkSeenMutationWebGraphQLMutation","CameraPostLoggingEvents","CameraPostQueryWebGraphQLQuery","CameraPostRepliesQueryWebGraphQLQuery","CameraPostReplyMutationWebGraphQLMutation","CameraPostUserQueryWebGraphQLQuery","DirectMessagingTypedLogger","FBStoriesLoggingConstants","WebGraphQL","idx","uniqueID"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={sendDirectReply:function h(i,j,k,l,m){__p&&__p();var n=c("uniqueID")(),o={client_mutation_id:n,actor_id:i,thread_id:j,message:k},p=k.length,q=void 0,r=void 0,s=void 0;if(m){q=c("FBStoriesLoggingConstants").ACTION_SEND_REPLY_ATTEMPT;r=c("FBStoriesLoggingConstants").ACTION_SEND_REPLY_SUCCESS;s=c("FBStoriesLoggingConstants").ACTION_SEND_REPLY_FAILURE}else{q=c("CameraPostLoggingEvents").SEND_REPLY_ATTEMPT;r=c("CameraPostLoggingEvents").SEND_REPLY_SUCCESS;s=c("CameraPostLoggingEvents").SEND_REPLY_FAILURE}new(c("DirectMessagingTypedLogger"))().setCameraPostType(l).setProductSurface("www").setName(q).setMessageLength(p).setThreadID(j).log();return c("WebGraphQL").exec(new(c("CameraPostReplyMutationWebGraphQLMutation"))({input:o})).then(function(t){new(c("DirectMessagingTypedLogger"))().setCameraPostType(l).setProductSurface("www").setName(r).setMessageLength(p).setThreadID(j).log();return t},function(t){new(c("DirectMessagingTypedLogger"))().setCameraPostType(l).setProductSurface("www").setName(s).setMessageLength(p).setThreadID(j).log();return t})},loadThreadFullInformation:function h(i,j){return c("WebGraphQL").exec(new(c("CameraPostQueryWebGraphQLQuery"))({thread_id:j})).then(function(k){var l,m,n=(l=k)!=null?(l=l.node)!=null?l.camera_post_type:l:l,o=(m=k)!=null?(m=m.node)!=null?m.viewer_replays_left:m:m;new(c("DirectMessagingTypedLogger"))().setCameraPostType(n).setName(c("CameraPostLoggingEvents").THREAD_VIEWED).setProductSurface("www").setReplaysLeft(o).setThreadID(j).log();return k},function(k){return k})},loadUserInfo:function h(){return c("WebGraphQL").exec(new(c("CameraPostUserQueryWebGraphQLQuery"))())},loadRepliesForThread:function h(i){return c("WebGraphQL").exec(new(c("CameraPostRepliesQueryWebGraphQLQuery"))({thread_id:i}))},markThreadSeen:function h(i,j,k,l,m){var n={client_mutation_id:c("uniqueID")(),actor_id:i,thread_id:j,last_message_seen_id:k},o=new(c("DirectMessagingTypedLogger"))().setCameraPostType(l).setName(c("CameraPostLoggingEvents").THREAD_MARK_SEEN_ATTEMPT).setProductSurface("www").setThreadID(j);if(m)o=o.setReplaysLeft(m);o.log();return c("WebGraphQL").exec(new(c("CameraPostDirectMarkSeenMutationWebGraphQLMutation"))({input:n})).then(function(p){new(c("DirectMessagingTypedLogger"))().setCameraPostType(l).setProductSurface("www").setName(c("CameraPostLoggingEvents").THREAD_MARK_SEEN_SUCCESS).setReplaysLeft(m).setThreadID(j).log();return p},function(p){new(c("DirectMessagingTypedLogger"))().setCameraPostType(l).setProductSurface("www").setName(c("CameraPostLoggingEvents").THREAD_MARK_SEEN_FAILURE).setReplaysLeft(m).setThreadID(j).log();return p})},_getLogger:function h(){return new(c("DirectMessagingTypedLogger"))()}}}),null);
__d("CameraPostMuteButton.react",["ix","cx","AbstractButton.react","Event","Image.react","Keys","React","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$CameraPostMuteButton2=function(r){r.preventDefault();r.stopPropagation();this.props.onMouseUp()}.bind(this),this.$CameraPostMuteButton3=function(r){var s=c("Event").getKeyCode(r);switch(s){case c("Keys").SPACE:case c("Keys").ENTER:this.props.onMouseUp()}}.bind(this),n}l.prototype.$CameraPostMuteButton1=function(m){m.preventDefault();m.stopPropagation()};l.prototype.render=function(){var m=h("115742"),n=h("115739");return c("React").createElement(c("AbstractButton.react"),{className:"_tqj",tabIndex:"0",onKeyUp:this.$CameraPostMuteButton3,onMouseDown:this.$CameraPostMuteButton1,onMouseUp:this.$CameraPostMuteButton2,image:c("React").createElement(c("Image.react"),{src:this.props.muted?m:n}),labelIsHidden:true,label:this.props.muted?"Muted":"Unmuted"})};f.exports=l}),null);
__d("CameraPostSATPComponent.react",["cx","React","TextWithEmoticons.react","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.componentDidMount=function(){var l,m,n=(l=this.props.satpData)!=null?(l=l.wwwTextFormatMetadata)!=null?l.body_style:l:l,o=(m=this.props.satpData)!=null?(m=m.wwwTextFormatMetadata)!=null?m.text_input_style:m:m;this.$CameraPostSATPComponent1&&this.$CameraPostSATPComponent1.setAttribute("style",n||"");this.$CameraPostSATPComponent2&&this.$CameraPostSATPComponent2.setAttribute("style",o||"")};k.prototype.render=function(){return c("React").createElement("div",{className:this.props.className},c("React").createElement("div",{className:"_zre"},c("React").createElement("div",{className:"_zrf",ref:function(l){return this.$CameraPostSATPComponent1=l}.bind(this)},c("React").createElement("div",{className:"_zrg",ref:function(l){return this.$CameraPostSATPComponent2=l}.bind(this)},c("React").createElement(c("TextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:this.props.satpData.rootMessageText,size:30})))))};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("FBStoriesActionsHelper",["FBStoriesPrefetcher","FBStoriesStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={checkAllBucketsViewed:function i(j){var k=c("FBStoriesStore").getBucketCount();return j>=k||j<0},getNextBucketAndThreadIndex:function i(j,k){__p&&__p();var l=k?j+1:j-1,m=0;if(c("FBStoriesStore").isUnseenMode()){var n=false;while(n===false&&!h.checkAllBucketsViewed(l)){m=c("FBStoriesStore").getUnseenThreadIndex(l);n=m>=0;if(!n)l=k?l+1:l-1}}else if(!k)m=c("FBStoriesStore").getLastSeenThreadIndexForBucket(l);return{nextBucketIndex:l,nextThreadIndex:m}},prefetchForCurrentThreadAndBucket:function i(){var j=new(c("FBStoriesPrefetcher"))(c("FBStoriesStore").getVideoPerfTestsEnabled());j.prefetch(c("FBStoriesStore").getSelectedBucketIndex(),c("FBStoriesStore").getCurrentThreadIndexForSelectedBucket())}};f.exports=h}),null);
__d("FBStoriesPrefetcher",["Bootloader","FBStoriesActionsHelper","FBStoriesBucketHelper","FBStoriesStore","QE2Logger"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$FBStoriesPrefetcher1=i}h.prototype.prefetch=function(i,j){this.$FBStoriesPrefetcher2(i,j)};h.prototype.$FBStoriesPrefetcher2=function(i,j){this.$FBStoriesPrefetcher3(i,j);this.$FBStoriesPrefetcher4(i,j);this.$FBStoriesPrefetcher5(i,j)};h.prototype.$FBStoriesPrefetcher4=function(i,j){this.$FBStoriesPrefetcher6(true,i,j)};h.prototype.$FBStoriesPrefetcher5=function(i,j){this.$FBStoriesPrefetcher6(false,i,j)};h.prototype.$FBStoriesPrefetcher6=function(i,j,k){__p&&__p();var l=c("FBStoriesStore").getThreadCount(j),m=i?k+1:k-1;while(m>=0&&m<l){if(this.$FBStoriesPrefetcher3(j,m))return true;m=i?m+1:m-1}var n=j;while(!c("FBStoriesActionsHelper").checkAllBucketsViewed(n)){var o=c("FBStoriesActionsHelper").getNextBucketAndThreadIndex(n,i),p=o.nextBucketIndex,q=o.nextThreadIndex;if(this.$FBStoriesPrefetcher3(p,q))return true;n=p}return false};h.prototype.$FBStoriesPrefetcher3=function(i,j){__p&&__p();var k=c("FBStoriesStore").getVideoMediaIdForBucketIndexAndThreadIndex(i,j);if(!k)return false;var l=c("FBStoriesStore").getBucketByIndex(i);if(!c("FBStoriesBucketHelper").isLive(l)){c("QE2Logger").logExposureForUser("www_fb_stories_tray_universe");if(!this.$FBStoriesPrefetcher1)return true}c("Bootloader").loadModules(["VideoPlayerMetaData"],function(m){m.genVideoData(k,{})},"FBStoriesPrefetcher");return true};f.exports=h}),null);
__d("FBStoriesWWWPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:FBStoriesWWWPerfLoggerConfig",this.$FBStoriesWWWPerfTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:FBStoriesWWWPerfLoggerConfig",this.$FBStoriesWWWPerfTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$FBStoriesWWWPerfTypedLogger1={};return this};h.prototype.updateData=function(j){this.$FBStoriesWWWPerfTypedLogger1=babelHelpers["extends"]({},this.$FBStoriesWWWPerfTypedLogger1,j);return this};h.prototype.setEventTotalTime=function(j){this.$FBStoriesWWWPerfTypedLogger1.event_total_time=j;return this};h.prototype.setEventType=function(j){this.$FBStoriesWWWPerfTypedLogger1.event_type=j;return this};h.prototype.setVC=function(j){this.$FBStoriesWWWPerfTypedLogger1.vc=j;return this};var i={event_total_time:true,event_type:true,vc:true};f.exports=h}),null);
__d("FBStoriesLoggingHelper",["BackstageMediaType","DirectMessagingTypedLogger","FBStoriesWWWPerfTypedLogger","FBStoriesBucketHelper","FBStoriesLoggingConstants","FBStoriesStore","JSLog"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={_eventStartTimes:{},logStoryTrayLoad:function i(j){__p&&__p();var k=j.userBucketData,l=j.friendsBucketData,m=c("FBStoriesBucketHelper").hasData(k),n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=new Map();if(c("FBStoriesBucketHelper").isLive(k))p++;l.forEach(function(w){__p&&__p();n++;if(c("FBStoriesBucketHelper").getUnseenCount(w)>0)o++;if(c("FBStoriesBucketHelper").isLive(w))p++;var x=c("FBStoriesBucketHelper").getLoggingType(w);switch(x){case c("FBStoriesLoggingConstants").PAGE_STORY:q++;break;case c("FBStoriesLoggingConstants").EVENT_STORY:r++;break;case c("FBStoriesLoggingConstants").STORY_PROMOTION:s++;break;case c("FBStoriesLoggingConstants").FOLLOWEE_STORY:t++;break;case c("FBStoriesLoggingConstants").FRIEND_STORY:u++;break;default:c("JSLog").error("storyOwnerType not found",x)}var y=c("FBStoriesBucketHelper").getOwnerId(w),z=c("FBStoriesBucketHelper").getThreadIDs(w);v.set(y,z)});this._getLogger().setName(c("FBStoriesLoggingConstants").ACTION_TRAY_LOAD).setHasMyStory(m).setNumberStories(n).setNumberNewStories(o).setNumberLiveStories(p).setPageStoriesInTray(q).setEventStoriesInTray(r).setFolloweeStoriesInTray(t).setFriendStoriesInTray(u).setPromotionStoriesInTray(s).setStoryThreadIds(v).log()},storyLog:function i(j,k){var l=c("FBStoriesStore").getSelectedBucketCameraPostType(),m=c("FBStoriesStore").getSelectedBucketOwnerID(),n=c("FBStoriesStore").getSelectedBucketOwnerType(),o=c("FBStoriesStore").getThreadCountForSelectedBucket(),p=c("FBStoriesStore").getSelectedBucketUnseenCount()>0,q=c("FBStoriesStore").getSelectedBucketIndex();this._getLogger().setCameraPostType(l).setName(j).setActionSource(k).setStoryOwner(m).setStoryOwnerType(n).setThreadCount(o).setHasNewContent(p).setStoryIndex(q).log()},mediaLog:function i(j){var k=c("FBStoriesStore").getCurrentThreadCameraPostTypeForSelectedBucket(),l=c("FBStoriesStore").getSelectedBucketOwnerID(),m=c("FBStoriesStore").getSelectedBucketOwnerType(),n=c("FBStoriesStore").getCurrentThreadMediaIDForSelectedBucket(),o=c("FBStoriesStore").getCurrentThreadMediaTypeForSelectedBucket(),p=c("FBStoriesStore").getCurrentThreadMediaViewerCountForSelectedBucket(),q=c("FBStoriesStore").getSelectedBucketIndex(),r=c("FBStoriesStore").getCurrentThreadIDForSelectedBucket(),s=c("BackstageMediaType").UNKNOWN;if(o==="Photo")s=c("BackstageMediaType").PHOTO;else if(o==="Video")s=c("BackstageMediaType").VIDEO;else if(o===c("BackstageMediaType").LIVE)s=c("BackstageMediaType").LIVE;this._getLogger().setCameraPostType(k).setName(j).setStoryOwner(l).setStoryOwnerType(m).setMediaType(s).setClientMediaID(n).setNumberViewers(p).setThreadID(r).setStoryIndex(q).log()},logEventStart:function i(j){if(Object.prototype.hasOwnProperty.call(this._eventStartTimes,j))return;this._eventStartTimes[j]=Date.now();this._getPerfLogger().setEventType(j).setEventTotalTime(0).log()},logEventEnd:function i(j){if(Object.prototype.hasOwnProperty.call(this._eventStartTimes,j)===false)return;var k=Object.prototype.hasOwnProperty.call(this._eventStartTimes,j)?Date.now()-this._eventStartTimes[j]:-1;this._getPerfLogger().setEventType(j).setEventTotalTime(k).log();delete this._eventStartTimes[j]},_getLogger:function i(){return new(c("DirectMessagingTypedLogger"))()},_getPerfLogger:function i(){return new(c("FBStoriesWWWPerfTypedLogger"))()}};f.exports=h}),null);
__d("FBStoriesActions",["FBStoriesActionTypes","AsyncRequest","CameraPostGraphQLAPI","CameraPostTypesHelper","FBStoriesDispatcher","FBStoriesActionsHelper","FBStoriesGraphQLAPI","FBStoriesLoggingConstants","FBStoriesLoggingHelper","FBStoriesStore","XPageFollowMutatorController","XUnfollowAllProfileController","JSResource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("FBStoriesDispatcher").dispatch,i={nextThread:function j(k){__p&&__p();var l=c("FBStoriesStore").isSelectedBucketLive();if(l){i.nextBucket();return}var m=c("FBStoriesStore").getThreadsForSelectedBucket(),n=c("FBStoriesStore").getCurrentThreadIndexForSelectedBucket(),o=k!==undefined?k:n+1;if(m.length===0)i.nextBucket();else if(o<=m.length-1)i.currentThreadIndexChanged(o);else i.nextBucket()},prevThread:function j(k){__p&&__p();var l=c("FBStoriesStore").isSelectedBucketLive();if(l){i.prevBucket();return}var m=c("FBStoriesStore").getThreadsForSelectedBucket(),n=c("FBStoriesStore").getCurrentThreadIndexForSelectedBucket(),o=k!==undefined?k:n-1;if(m.length===0)i.prevBucket();else if(o>=0)i.currentThreadIndexChanged(o,true);else i.prevBucket()},nextBucket:function j(){return i._transitionBucket(true)},prevBucket:function j(){return i._transitionBucket(false)},userSelectedBucket:function j(k){__p&&__p();var l=c("FBStoriesStore").getBucketIndexByBucketId(k);if(l===-1)return false;var m=c("FBStoriesStore").getUnseenThreadIndex(l),n=Math.max(0,m),o=c("FBStoriesStore").isOwnBucket(k);h({type:c("FBStoriesActionTypes").RESET_LOCAL_SEEN_HISTORY});h({type:c("FBStoriesActionTypes").SET_UNSEEN_MODE,value:!o&&m>=0});h({type:c("FBStoriesActionTypes").SET_ALL_BUCKETS_VIEWED,value:false});h({type:c("FBStoriesActionTypes").SELECTED_BUCKET_IDX_CHANGED,bucketIndex:l});i.currentThreadIndexChanged(n);return true},currentThreadIndexChanged:function j(k){__p&&__p();var l,m=arguments.length<=1||arguments[1]===undefined?false:arguments[1],n=c("FBStoriesStore").getCurrentThreadData(),o=c("FBStoriesStore").isOwnBucket();if(o&&n&&!n.isLive)i.markThreadViewersSeen(n.threadID);h({type:c("FBStoriesActionTypes").SELECTED_THREAD_IDX_CHANGED,index:k});var p=c("FBStoriesStore").getUserInfo().userID,q=c("FBStoriesStore").getCurrentThreadData();if(q){if(!q.isLive)(function(){var r=q.threadID,s=q.latestMessageID;if(o)c("FBStoriesGraphQLAPI").loadViewerListForThread(r).done(function(t){return h({type:c("FBStoriesActionTypes").VIEWER_LIST_LOADED_FOR_THREAD,threadID:r,data:t})});else{h({type:c("FBStoriesActionTypes").UPDATE_THREAD_SEEN_OPTIMISTIC,threadID:r});c("CameraPostGraphQLAPI").markThreadSeen(p,r,s,q.cameraPostType)}})();c("FBStoriesActionsHelper").prefetchForCurrentThreadAndBucket()}else if(m)i.prevThread();else i.nextThread()},markThreadViewersSeen:function j(k){h({type:c("FBStoriesActionTypes").UPDATE_THREAD_VIEWERS_SEEN_OPTIMISTIC,threadID:k});c("FBStoriesGraphQLAPI").updateThreadSeenReciept(k)},_transitionBucket:function j(k,l){__p&&__p();var m=c("FBStoriesStore").getCurrentThreadData(),n=c("FBStoriesStore").isOwnBucket();if(n&&m&&!m.isLive)i.markThreadViewersSeen(m.threadID);l=l!==undefined?l:c("FBStoriesStore").getSelectedBucketIndex();var o=c("FBStoriesActionsHelper").getNextBucketAndThreadIndex(l,k),p=o.nextBucketIndex,q=o.nextThreadIndex,r=c("FBStoriesActionsHelper").checkAllBucketsViewed(p);h({type:c("FBStoriesActionTypes").SET_ALL_BUCKETS_VIEWED,value:r});if(r){if(n&&m&&!m.isLive)return i.markThreadViewersSeen(m.threadID);return undefined}i.removeEndedLiveVideo();h({type:c("FBStoriesActionTypes").SELECTED_BUCKET_IDX_CHANGED,bucketIndex:p});if(!c("FBStoriesStore").hasDataInSelectedBucket()&&!c("FBStoriesStore").isSelectedBucketLive()){if(k)return i.nextBucket();return i.prevBucket()}i.currentThreadIndexChanged(q);c("FBStoriesLoggingHelper").storyLog(c("FBStoriesLoggingConstants").ACTION_OPEN_STORY,c("FBStoriesLoggingConstants").SOURCE_OPEN_FROM_PRIOR_STORY);return undefined},deleteThreadFromBucket:function j(k,l){if(!c("FBStoriesStore").isUserManagedThread(k,l))return;c("FBStoriesGraphQLAPI").deleteStory(c("FBStoriesStore").getUserInfo().userID,k);h({type:c("FBStoriesActionTypes").DELETE_THREAD_FROM_BUCKET,threadID:k,bucketID:l});i.nextThread(c("FBStoriesStore").getCurrentThreadIndexForSelectedBucket())},unFollowBucketOwner:function j(k,l,m){__p&&__p();if(!k||!m)return;var n=0;if(c("CameraPostTypesHelper").isPageStory(k)){var o=c("XPageFollowMutatorController").getURIBuilder().setInt("page_id",l).setBool("status",false).setEnum("location",n).getURI();new(c("AsyncRequest"))().setURI(o).send()}else if(c("CameraPostTypesHelper").isStory(k)){var p=c("XUnfollowAllProfileController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(p).setData({profile_ids:[l],location:n}).send()}h({type:c("FBStoriesActionTypes").REMOVE_BUCKET,bucketID:m});i._transitionBucket(true,c("FBStoriesStore").getSelectedBucketIndex()-1)},removeEndedLiveVideo:function j(){if(!c("FBStoriesStore").isSelectedBucketLiveAndEnded())return;var k=c("FBStoriesStore").getSelectedBucketId();if(c("FBStoriesStore").getThreadsForSelectedBucket().length>0)h({type:c("FBStoriesActionTypes").REMOVE_ENDED_LIVE_VIDEO_FROM_BUCKET,bucketID:k});else h({type:c("FBStoriesActionTypes").REMOVE_BUCKET,bucketID:k})},setIsCommercialBreakRunning:function j(k,l){h({type:c("FBStoriesActionTypes").SET_IS_COMMERCIAL_BREAK_RUNNING,isCommercialBreakRunning:l,videoID:k})},toggleViewer:function j(k){h({type:c("FBStoriesActionTypes").SET_VIEWER_OPEN,value:k});return c("JSResource")("FBStoriesViewer").__setRef("FBStoriesActions").load().then(function(l){return l.getInstance().toggle(k)})},unselectBucket:function j(){h({type:c("FBStoriesActionTypes").UNSELECT_BUCKET})}};f.exports=i}),null);
__d("FBStoriesTimer",["EventEmitter","VideoPlayerController"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=30,k=1e3;h=babelHelpers.inherits(l,c("EventEmitter"));i=h&&h.prototype;function l(m){__p&&__p();i.constructor.call(this);this.$FBStoriesTimer8=function(){__p&&__p();if(this.$FBStoriesTimer7){this.$FBStoriesTimer5=this.$FBStoriesTimer7.getCurrentTimePosition()*k;this.$FBStoriesTimer1=this.$FBStoriesTimer7.getPlaybackDuration()*k}else this.$FBStoriesTimer5+=j;var r=this.$FBStoriesTimer2+(this.$FBStoriesTimer3-this.$FBStoriesTimer2)*(this.$FBStoriesTimer5/this.$FBStoriesTimer1),s=Math.min(this.$FBStoriesTimer3,r);this.emit("tick",s);if(s===this.$FBStoriesTimer3){this.emit("done");if(this.$FBStoriesTimer6)clearTimeout(this.$FBStoriesTimer6)}else{var t=this.$FBStoriesTimer1-this.$FBStoriesTimer5,u=Math.min(t,j);this.$FBStoriesTimer6=setTimeout(this.$FBStoriesTimer8,u)}}.bind(this);var n=m.duration,o=m.vpc,p=m.start,q=m.end;this.$FBStoriesTimer1=n;this.$FBStoriesTimer2=p===undefined?0:p;this.$FBStoriesTimer3=q===undefined?100:q;this.$FBStoriesTimer7=o;this.$FBStoriesTimer4=false;this.$FBStoriesTimer5=0}l.prototype.getTimeElapsed=function(){return this.$FBStoriesTimer5};l.prototype.setTimeElapsed=function(m){this.$FBStoriesTimer5=m};l.prototype.onDone=function(m){return this.addListener("done",m)};l.prototype.onTick=function(m){return this.addListener("tick",function(n){return m(n)})};l.prototype.pause=function(){clearTimeout(this.$FBStoriesTimer6)};l.prototype.play=function(){this.$FBStoriesTimer8()};l.prototype.stop=function(){clearTimeout(this.$FBStoriesTimer6)};f.exports=l}),null);
__d("VideoComponentLiveAudioAnimation.react",["cx","fbt","LiveAudioAnimation","LiveAudioAnimationExperiments","React","ReactDOM","RelayClassic","VideoComponent"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={visible:false};this.initialized=false}l.prototype.disable=function(){};l.prototype.componentWillReceiveProps=function(m){if(m&&m.video&&m.video!==this.props.video)if(m.video.isLiveAudioFormat){if(!this.initialized&&c("LiveAudioAnimationExperiments").liveWwwAudioAnimation){new(c("LiveAudioAnimation"))(c("ReactDOM").findDOMNode(this.refs.container),this.vpc);this.initialized=true}this.setState({visible:true})}else this.setState({visible:false})};l.prototype.enable=function(m){this.vpc=m};l.prototype.render=function(){var m=null;if(!c("LiveAudioAnimationExperiments").liveWwwAudioAnimation)m=c("React").createElement("div",{className:"_1tzn"},i._("Audio Broadcast"));return c("React").createElement("div",{ref:"container",className:"_4tes _4ubd"+(!this.state.visible?" hidden_elem":"")},m)};f.exports=c("VideoComponent").createContainer(l,{relayVideoConfig:{fragments:{video:function m(){return function(){return{children:[{alias:"isLiveAudioFormat",fieldName:"is_live_audio_format",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentLiveAudioAnimation_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("CameraPostMedia.react",["cx","FBStoriesTimer","React","ReactCSSTransitionGroup","createCancelableFunction","emptyFunction","BackgroundImage.react","CameraPostTypes","CameraPostMediaHelper","CameraPostMuteButton.react","CameraPostSATPComponent.react","EventListener","FBStoriesActions","JSLog","SubscriptionsHandler","VideoComponentAutoPlayControl.react","VideoComponentCommercialBreakLiveTransitionOverlay.react","VideoComponentCommercialBreakVideoAdOverlay.react","VideoComponentLiveAudioAnimation.react","VideoComponentLiveEndScreen.react","VideoComponentLiveInterruptedScreen.react","VideoComponentLiveVideoIndicator.react","VideoComponentStreamingReactionTray.react","VideoComponentWithCommercialBreak.react","VideoComponentWithInstreamVideo.react","VideoComponentWithLiveBroadcast.react","VideoComponentWithLoopingPlayback.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerController","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","XUISpinner.react","idx"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k={enter:"_3dep",enterActive:"_3deq",leave:"_3der",leaveActive:"_3deu"},l=3500,m=1e3,n=200,o=200,p=200;i=babelHelpers.inherits(q,c("React").Component);j=i&&i.prototype;function q(r){__p&&__p();j.constructor.call(this,r);this.$CameraPostMedia12=function(s){this.props.onTimeUpdate&&this.props.onTimeUpdate(s)}.bind(this);this.$CameraPostMedia15=function(){this.$CameraPostMedia6();this.$CameraPostMedia16(this.props.cameraPostType)&&this.$CameraPostMedia8()}.bind(this);this.$CameraPostMedia6=c("createCancelableFunction")(function(){__p&&__p();if(this.$CameraPostMedia4)this.setState({height:this.$CameraPostMedia4.clientHeight,width:this.$CameraPostMedia4.clientWidth});else{var s=window.innerHeight,t=void 0,u=void 0;if(s<=800){t=622;u=350}else if(s>=1350){t=1080;u=608}else{t=s*.83625-48;u=t*(350/622)}this.setState({height:t,width:u})}}.bind(this));this.$CameraPostMedia17=function(s){if(!s)c("JSLog").error("onUpdateMetaData, VideoPlayerController is undefined.");if(s&&!this.$CameraPostMedia1){var t=s.getPlaybackDuration();this.$CameraPostMedia14(t,s)}if(this.props.isMediaMuted)s&&s.mute();else s&&s.unmute()}.bind(this);this.state={height:0,width:0,showLoadingSpinner:false}}q.prototype.componentDidMount=function(){this.$CameraPostMedia6();window.onresize=this.$CameraPostMedia6;if(this.$CameraPostMedia7())this.$CameraPostMedia8()};q.prototype.componentWillUnmount=function(){if(this.$CameraPostMedia1){this.$CameraPostMedia1.stop();delete this.$CameraPostMedia1}this.$CameraPostMedia6.cancel();if(this.$CameraPostMedia5)this.$CameraPostMedia5.release()};q.prototype.componentWillUpdate=function(r){__p&&__p();if(r.paused!==this.props.paused)if(r.paused){this.$CameraPostMedia1&&this.$CameraPostMedia1.pause();this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.pause(c("VideoPlayerReason").USER)}else{this.$CameraPostMedia1&&this.$CameraPostMedia1.play();this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.play(c("VideoPlayerReason").USER)}if(r.isMediaMuted!==this.props.isMediaMuted)if(r.isMediaMuted)this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.mute();else this.$CameraPostMedia2&&this.$CameraPostMedia2.vpc.unmute();if(this.$CameraPostMedia5&&r.media.id!==this.props.media.id){this.$CameraPostMedia5.release();this.$CameraPostMedia5=null}};q.prototype.$CameraPostMedia9=function(){return c("CameraPostMediaHelper").isImage(this.props.media)};q.prototype.$CameraPostMedia10=function(){return c("CameraPostMediaHelper").isVideo(this.props.media)};q.prototype.$CameraPostMedia11=function(){return this.props.satpData.wwwTextFormatMetadata!==null};q.prototype.$CameraPostMedia7=function(){return this.$CameraPostMedia11()&&this.props.satpData.showSATPNativeRender};q.prototype.$CameraPostMedia13=function(r,s){if(this.props.onDone&&this.props.onTimeUpdate){this.$CameraPostMedia1=new(c("FBStoriesTimer"))({duration:r,vpc:s});this.$CameraPostMedia1.onTick(this.$CameraPostMedia12);this.props.onDone&&this.$CameraPostMedia1.onDone(this.props.onDone);if(!this.props.paused)this.$CameraPostMedia1.play()}};q.prototype.$CameraPostMedia8=function(){this.$CameraPostMedia13(l)};q.prototype.$CameraPostMedia14=function(r,s){this.$CameraPostMedia13(r*m,s)};q.prototype.$CameraPostMedia18=function(r){switch(r){case c("CameraPostTypes").DIRECT:case c("CameraPostTypes").DIRECT_NUX:case c("CameraPostTypes").GROUP_DIRECT:return c("VideoPlayerOrigins").DIRECT_INBOX;case c("CameraPostTypes").STORY:case c("CameraPostTypes").STORY_NUX:case c("CameraPostTypes").EVENT_STORY:case c("CameraPostTypes").GROUP_STORY:case c("CameraPostTypes").PAGE_STORY:return c("VideoPlayerOrigins").FB_STORIES;default:c("JSLog").error("invalid Camera Post Type "+r);return c("VideoPlayerOrigins").BACKSTAGE}};q.prototype.$CameraPostMedia16=function(r){switch(r){case c("CameraPostTypes").STORY:case c("CameraPostTypes").STORY_NUX:case c("CameraPostTypes").EVENT_STORY:case c("CameraPostTypes").GROUP_STORY:case c("CameraPostTypes").PAGE_STORY:return true;default:return false}};q.prototype.$CameraPostMedia19=function(r){__p&&__p();if(this.$CameraPostMedia5||!r)return;var s=r.vpc;this.$CameraPostMedia5=new(c("SubscriptionsHandler"))();this.$CameraPostMedia5.addSubscriptions(s.addListener("commercialBreak/hideUFI",function(){return c("FBStoriesActions").setIsCommercialBreakRunning(s.getVideoID(),true)}),s.addListener("commercialBreak/showUFI",function(){return c("FBStoriesActions").setIsCommercialBreakRunning(s.getVideoID(),false)}),s.addListener("turnOffAutoplay",function(t){var u,v=(u=t)!=null?u.reason:u;if(v!=="manually_paused")return;this.props.onVideoPaused&&this.props.onVideoPaused()}.bind(this)),s.addListener("bufferingChanged",function(){this.setState({showLoadingSpinner:s.isBuffering()})}.bind(this)),s.addListener("pendingPlayRequestChanged",function(){this.setState({showLoadingSpinner:s.isPlayRequestPending()})}.bind(this)));if(this.props.isBucketLive)c("EventListener").listen(s.getRootNode(),"contextmenu",function(event){event.preventDefault()})};q.prototype.render=function(){__p&&__p();var r=this.props,s=r.cameraPostType,t=r.media,u=r.showOverlay,v=r.isMediaMuted,w=r.onMuteMouseUp,x=r.showPausedOverlay,y=r.showMuteButton;if(!t)return null;var z=u?c("React").createElement(c("ReactCSSTransitionGroup"),{transitionName:k,transitionEnterTimeout:n,transitionLeaveTimeout:n},c("React").createElement("div",{className:"_3dew"})):null,A=x?c("React").createElement(c("ReactCSSTransitionGroup"),{transitionName:k,transitionEnterTimeout:n,transitionLeaveTimeout:n},c("React").createElement("div",{className:"_ida"},c("React").createElement("span",{className:"_idd"}))):null,B=c("React").createElement(c("XUISpinner.react"),{background:"dark",className:"_2out",size:"large"}),C=y?c("React").createElement(c("ReactCSSTransitionGroup"),{transitionName:k,transitionEnterTimeout:o,transitionLeaveTimeout:p},c("React").createElement(c("CameraPostMuteButton.react"),{muted:v,onMouseUp:w})):null;if(this.$CameraPostMedia10()){var D=this.props.isBucketLive,E=c("React").createElement(c("VideoDataContainer.react"),{videoID:c("CameraPostMediaHelper").getId(t),renderLoading:function I(){return B}},c("React").createElement(c("VideoPlayer.react"),{videoData:c("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER,playerOrigin:this.$CameraPostMedia18(s),subOrigin:c("VideoPlayerLoggerSource").CAMERA_POST,autoplay:D,ref:function(E){this.$CameraPostMedia2=E;this.$CameraPostMedia19(E)}.bind(this),onUpdateMetadata:this.$CameraPostMedia17,className:"_1s5n"+(this.props.isBucketLive?" _3r0u":"")},!this.props.isBucketLive&&c("React").createElement(c("VideoComponentAutoPlayControl.react"),null),c("React").createElement(c("VideoComponentWithLiveBroadcast.react"),null),c("React").createElement(c("VideoComponentLiveAudioAnimation.react"),null),c("React").createElement(c("VideoComponentLiveEndScreen.react"),null),c("React").createElement(c("VideoComponentLiveVideoIndicator.react"),null),c("React").createElement(c("VideoComponentLiveInterruptedScreen.react"),null),c("React").createElement(c("VideoComponentStreamingReactionTray.react"),null),c("React").createElement(c("VideoComponentWithInstreamVideo.react"),null),c("React").createElement(c("VideoComponentWithCommercialBreak.react"),null),c("React").createElement(c("VideoComponentCommercialBreakVideoAdOverlay.react"),null),c("React").createElement(c("VideoComponentCommercialBreakLiveTransitionOverlay.react"),null),this.props.loop&&c("React").createElement(c("VideoComponentWithLoopingPlayback.react"),{infiniteLooping:true})));return c("React").createElement("div",{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown},E,C,z,this.state.showLoadingSpinner&&B,A,this.props.children)}if(this.$CameraPostMedia7()){var F=c("React").createElement(c("CameraPostSATPComponent.react"),{satpData:this.props.satpData,className:"_1s5n"});return c("React").createElement("div",{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown,ref:function(I){return this.$CameraPostMedia4=I}.bind(this)},F,this.$CameraPostMedia16(s)&&C,z,A,this.props.children)}if(this.$CameraPostMedia9()){var G=c("React").createElement(c("BackgroundImage.react"),{src:c("CameraPostMediaHelper").getImageUri(t),backgroundSize:"contain",width:this.state.width,height:this.state.height,className:"_1s5n",onImageLoad:this.$CameraPostMedia15,loadingIndicatorStyle:"large"});return c("React").createElement("div",{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown,ref:function(I){return this.$CameraPostMedia4=I}.bind(this)},G,this.$CameraPostMedia16(s)&&C,z,A,this.props.children)}var H="Error: media type not found "+String(c("CameraPostMediaHelper").getType(this.props.media));c("JSLog").error(H);return c("React").createElement("div",{className:"_ide",onMouseUp:this.props.onMouseUp,onMouseDown:this.props.onMouseDown},B,z,A,this.props.children)};q.defaultProps={loop:false,media:{id:"",__typename:"Video",preview_image:null},showMuteButton:true,showOverlay:false,showPausedOverlay:false,onTimeUpdate:function r(s){},onDone:c("emptyFunction"),onMouseUp:c("emptyFunction"),onMouseDown:c("emptyFunction"),paused:false,cameraPostType:"",userID:null,threadID:null,width:1,height:1,isBucketLive:false,isMediaMuted:false,onMuteMouseUp:c("emptyFunction"),satpData:{rootMessageText:"",showSATPNativeRender:false,wwwTextFormatMetadata:null},onVideoPaused:c("emptyFunction")};f.exports=q}),null);
__d("CameraPostNoViewsLeft.react",["ix","cx","fbt","React","fbglyph","Image.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=function k(l){var m=j._("You can only see direct photos and videos within 24 hours of opening them."),n=j._("You can only see direct photos and videos one more time after opening them.");return c("React").createElement("div",{className:"_4tkv"},c("React").createElement("div",{className:"_1ael"},c("React").createElement("div",{className:"_d0c"},c("React").createElement(c("Image.react"),{className:"_d0d",src:h("124408")}),c("React").createElement("div",{className:"_d0e"},l.in24hEphExp?m:n))))};f.exports=k}),null);
__d("CameraPostSource",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CAMERA_SYSTEM:"CAMERA_SYSTEM",NEWSFEED:"NEWSFEED",INSTAGRAM:"INSTAGRAM",MESSENGER:"MESSENGER",LIVE:"LIVE"})}),null);
__d("CameraPostOwnerInfo.react",["cx","fbt","React","CameraPostSource","formatDate","Timestamp.react","Tooltip.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function j(q,r,s){var t=[];r.forEach(function(u){if(u[s])t.push(u[s])});return t},k=function k(q,r,s){var t=[];r.forEach(function(u){if(u.id!==q&&u[s])t.push(u[s])});return t},l=function l(q,r,s){var t=j(q,r,s);return t.join(", ")},m=function m(q,r,s){var t=k(q,r,s),u=t.reduce(function(v,w){if(v.showingNames==="")return{showingNames:w,others:v.others};if((v.showingNames+", "+w).length<20)return{showingNames:v.showingNames+", "+w,others:v.others};return{showingNames:v.showingNames,others:v.others+1}},{showingNames:"",others:0});if(u.others>0)return i._({"s":"{names_of_members} and {num_others} other","p":"{names_of_members} and {num_others} others"},[i.param("names_of_members",u.showingNames),i.param("num_others",u.others),i["enum"](u.others===1?"s":"p",{s:"other",p:"others"})]);return u.showingNames},n=function n(q,r,s,t){if(s!==""&&s!==null)return s;return m(q,r,t)},o=function o(q,r,s){var t=l(q,r,s);return c("React").createElement("div",null,c("React").createElement("p",{className:"_3gpm"},i._("Group Members")),c("React").createElement("p",{className:"_3gpn"},t))},p=function p(q){var r=q.id,s=q.name,t=q.time,u=q.cameraPostType,v=q.cameraPostSource,w=q.participants,x=q.groupName,y=function y(){if(u==="GROUP_DIRECT")return c("React").createElement("p",{className:"_2in7"},s,c("React").createElement("span",{className:"_3gpo"},"\xa0to\xa0"),c("React").createElement(c("Tooltip.react"),{tooltip:o(r,w,"name"),position:"below"},n(r,w,x,"short_name")));else return c("React").createElement("p",{className:"_2in7"},s)},z=c("React").createElement(c("Timestamp.react"),{autoUpdate:true,time:t,text:c("formatDate")(t,"M j, Y",{utc:true})}),A=function A(){if(v===c("CameraPostSource").INSTAGRAM)return c("React").createElement("div",{className:"_2in8"},z,"\xa0 \u2022 \xa0",i._("Instagram"));return c("React").createElement("div",{className:"_2in8"},z)};return c("React").createElement("div",{className:"_60x1"},y(),A())};f.exports=p}),null);
__d("CameraPostOwnerPic.react",["cx","React","Image.react","Tooltip.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.profile_picture,l=j.name;if(!k)return null;return c("React").createElement(c("Tooltip.react"),{tooltip:l,position:"left"},c("React").createElement(c("Image.react"),{src:k.uri,className:"_116u"}))};f.exports=i}),null);
__d("CameraPostOwnerView.react",["cx","CameraPostTypes","React","CameraEventGroupPostOwnerInfo.react","CameraEventGroupPostOwnerPic.react","CameraPostOwnerPic.react","CameraPostOwnerInfo.react","CameraPostBucketOwnerHelper","CameraPostThreadOwnerHelper"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.bucketOwner,l=j.threadOwner,m=j.time,n=j.cameraPostType,o=j.cameraPostSource,p=j.participants,q=j.groupName,r=c("CameraPostBucketOwnerHelper").getId(k),s=c("CameraPostBucketOwnerHelper").getName(k);switch(n){case c("CameraPostTypes").EVENT_STORY:case c("CameraPostTypes").GROUP_STORY:var t=c("CameraPostThreadOwnerHelper").getName(l),u={uri:c("CameraPostThreadOwnerHelper").getProfilePictureUri(l)},v={uri:c("CameraPostBucketOwnerHelper").getProfilePictureUri(k)};return c("React").createElement("div",{className:"_116v"},c("React").createElement(c("CameraEventGroupPostOwnerPic.react"),{bucketOwnerName:s,bucketProfilePicture:v,threadProfilePicture:u,cameraPostType:n}),c("React").createElement(c("CameraEventGroupPostOwnerInfo.react"),{bucketOwnerName:s,threadOwnerName:t,time:m}))}var v={uri:c("CameraPostBucketOwnerHelper").getProfilePictureUri(k)};return c("React").createElement("div",{className:"_116v"},c("React").createElement(c("CameraPostOwnerPic.react"),{profile_picture:v,name:s}),c("React").createElement(c("CameraPostOwnerInfo.react"),{id:r,name:s,time:m,cameraPostType:n,cameraPostSource:o,participants:p||[],groupName:q||""}))};f.exports=i}),null);
__d("CameraPostReplyText.react",["cx","React","formatDate","Image.react","TextWithEmoticons.react","Timestamp.react","Tooltip.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.reply,l=c("React").createElement(c("Tooltip.react"),{tooltip:k.camera_post_message_owner.name,alignH:"right"},c("React").createElement(c("Image.react"),{src:k.camera_post_message_owner.profile_picture.uri,className:"_5_nx"})),m=c("React").createElement(c("Tooltip.react"),{tooltip:c("React").createElement(c("Timestamp.react"),{autoUpdate:true,time:k.time,text:c("formatDate")(k.time,"M j, Y",{utc:true}),className:"_3gpn"}),position:"right"},c("React").createElement("div",{className:"_1gr4"},c("React").createElement("div",{className:"_5_ny"},c("React").createElement(c("TextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:k.message_text}))));return c("React").createElement("div",{className:"_1gr5"},l,m)};f.exports=i}),null);
__d("CameraPostReplyTexts.react",["cx","fbt","React","createCancelableFunction","requestAnimationFrame","CameraPostReplyText.react","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$CameraPostReplyTexts1=c("createCancelableFunction")(function(){var o=this.refs.replyTexts;o.scrollTop=o.scrollHeight}.bind(this))}m.prototype.componentDidMount=function(){c("requestAnimationFrame")(function(){this.$CameraPostReplyTexts1()}.bind(this))};m.prototype.componentWillUnmount=function(){this.$CameraPostReplyTexts1.cancel()};m.prototype.componentDidUpdate=function(){this.$CameraPostReplyTexts1()};m.prototype.render=function(){__p&&__p();var n=this.props,o=n.replies,p=n.show,q=n.onClickShowReplies,r=n.onClickHideReplies;if(o.length===0)return c("React").createElement("div",{className:"_2njg",ref:"replyTexts"});if(o.length>0&&!p){if(o.length===1)return c("React").createElement("div",{className:"_2njg",ref:"replyTexts"},c("React").createElement(c("ShimButton.react"),{className:"_j39",form:"link",onClick:q},i._("View 1 Reply")));return c("React").createElement("div",{className:"_2njg",ref:"replyTexts"},c("React").createElement(c("ShimButton.react"),{className:"_j39",form:"link",onClick:q},i._("View {number of replies} Replies",[i.param("number of replies",o.length)])))}return c("React").createElement("div",{className:"_2njg",ref:"replyTexts"},o.map(function(s){return c("React").createElement(c("CameraPostReplyText.react"),{reply:s,key:s.id})}),c("React").createElement(c("ShimButton.react"),{className:"_j39",form:"link",onClick:r},i._("Hide Replies")))};f.exports=m}),null);
__d("CameraPostReportButton.react",["ix","cx","fbt","AsyncDialog","AsyncRequest","NFXStoryLocation","React","fbglyph","Image.react","PopoverMenu.react","ReactMenu","ReactXUIMenu"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=c("ReactMenu").Item,l="/ajax/nfx/start_dialog",m="/ajax/bugs/report",n="342047509524458",o=function o(p){var q=function q(){c("AsyncDialog").send(new(c("AsyncRequest"))().setData({reportable_ent_token:p.threadID.toString(),story_location:c("NFXStoryLocation").DIRECT_MESSAGING}).setURI(l))},r=function r(){c("AsyncDialog").send(new(c("AsyncRequest"))().setData({product_category_id:n}).setURI(m))},s=[].concat(p.children||[],[p.contentReportFbt?c("React").createElement(k,{onClick:q,key:"report"},c("React").createElement(c("Image.react"),{src:h("113891")}),p.contentReportFbt):null,c("React").createElement(k,{onClick:r,key:"bug"},c("React").createElement(c("Image.react"),{src:h("112874")}),j._("Something isn't working"))]),t=c("React").createElement(c("ReactXUIMenu"),{className:"_610-",onItemClick:p.onPopoverItemClick},s);return c("React").createElement("div",{className:"_4q7o"},c("React").createElement(c("PopoverMenu.react"),{alignv:"bottom",alignh:"center",menu:t,position:"below",onItemClick:p.onPopoverItemClick,onShow:p.onPopoverShow,onHide:p.onPopoverHide},c("React").createElement("a",{href:"#"},c("React").createElement(c("Image.react"),{src:h("114186")}))))};f.exports=o}),null);
__d("CameraPostSendReply.react",["cx","fbt","React","emptyFunction","Image.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.$CameraPostSendReply1=function(o){this.setState({replyText:o.target.value})}.bind(this);this.$CameraPostSendReply2=function(event){if(event.key==="Enter"){this.props.onReplyEntered(this.state.replyText);this.setState({replyText:""})}}.bind(this);this.$CameraPostSendReply4=function(o){return this.$CameraPostSendReply3=o}.bind(this);this.state={replyText:""}}m.prototype.componentDidMount=function(){if(this.props.focused)this.$CameraPostSendReply3.focus();else this.$CameraPostSendReply3.blur()};m.prototype.componentDidUpdate=function(){if(this.props.focused)this.$CameraPostSendReply3.focus();else this.$CameraPostSendReply3.blur()};m.prototype.render=function(){return c("React").createElement("div",{className:"_2dvt"},c("React").createElement("div",{className:"_2dv-"},c("React").createElement(c("Image.react"),{src:this.props.replyProfilePic,className:"_2dv_"})),c("React").createElement("div",{className:"_2dw0"},c("React").createElement("input",{className:"_3r4m",placeholder:i._("Write a reply..."),ref:this.$CameraPostSendReply4,value:this.state.replyText,onChange:this.$CameraPostSendReply1,onFocus:this.props.onFocusInput,onBlur:this.props.onBlurInput,onKeyDown:this.$CameraPostSendReply2,onMouseUp:this.$CameraPostSendReply5})))};m.prototype.$CameraPostSendReply5=function(n){n.preventDefault();n.stopPropagation()};m.defaultProps={onFocusInput:c("emptyFunction"),onBlurInput:c("emptyFunction"),onMouseUp:c("emptyFunction")};f.exports=m}),null);
__d("DirectCameraPostEphemeralityNUX.react",["cx","fbt","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={nuxShown:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").FB_DIRECT_WEB_EPHEMERALITY)},this.$DirectCameraPostEphemeralityNUX1=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").FB_DIRECT_WEB_EPHEMERALITY);this.setState({nuxShown:false})}.bind(this),o}m.prototype.renderLayers=function(){var n=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.nuxPosition}.bind(this),position:"left",shown:this.state.nuxShown,onCloseButtonClick:this.$DirectCameraPostEphemeralityNUX1,key:"ambientNUX"},"After you close this, you can see it again for the next 24 hours."),o=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.nuxPosition}.bind(this),position:"left",shown:this.state.nuxShown,onCloseButtonClick:this.$DirectCameraPostEphemeralityNUX1,key:"ambientNUX"},i._("After you close this, you can see it one more time within 24 hours."));return this.props.in24hEphExp?n:o};m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{ref:"nuxPosition",className:"_s6_"}),this.renderLayers())};f.exports=m}),null);
__d("DirectCameraPost.react",["cx","fbt","React","CameraPostMedia.react","CameraPostOwnerView.react","CameraPostReplyTexts.react","CameraPostReportButton.react","CameraPostSendReply.react","DirectCameraPostEphemeralityNUX.react","VideoPlayerController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.$DirectCameraPost2=function(){this.setState({isShowingReplies:false})}.bind(this);this.$DirectCameraPost3=function(){this.setState({isShowingReplies:true})}.bind(this);this.$DirectCameraPost4=function(){this.setState({isReplyFocused:true},this.$DirectCameraPost3)}.bind(this);this.$DirectCameraPost5=function(){this.setState({isReplyFocused:false})}.bind(this);this.$DirectCameraPost1=function(o){this.setState({isPostMuted:!this.state.isPostMuted})}.bind(this);this.state={isShowingReplies:true,isReplyFocused:false,isPostMuted:false}}m.prototype.render=function(){var n=this.props,o=n.cameraPostType,p=n.cameraPostSource,q=n.media,r=n.owner,s=n.time,t=n.replies,u=n.replyProfileName,v=n.replyProfilePic,w=n.userID,x=n.threadID,y=n.onReplyEntered,z=n.participants,A=n.groupName,B=n.in24hEphExp,C=n.satpData,D=this.state,E=D.isShowingReplies,F=D.isPostMuted;return c("React").createElement("div",{className:"_4tkv"},c("React").createElement(c("DirectCameraPostEphemeralityNUX.react"),{in24hEphExp:B}),c("React").createElement(c("CameraPostMedia.react"),{media:q,showOverlay:E&&t.length>0,loop:true,cameraPostType:o,userID:w,threadID:x,isMediaMuted:F,onMuteMouseUp:this.$DirectCameraPost1,satpData:C}),c("React").createElement(c("CameraPostOwnerView.react"),{bucketOwner:r,threadOwner:r,time:s,cameraPostType:o,cameraPostSource:p,participants:z,groupName:A}),c("React").createElement(c("CameraPostReportButton.react"),{threadID:x,contentReportFbt:i._("Report")}),c("React").createElement(c("CameraPostReplyTexts.react"),{onClickHideReplies:this.$DirectCameraPost2,onClickShowReplies:this.$DirectCameraPost3,replies:t,show:E}),c("React").createElement(c("CameraPostSendReply.react"),{cameraPostType:o,focused:this.state.isReplyFocused,onReplyEntered:y,onFocusInput:this.$DirectCameraPost4,onBlurInput:this.$DirectCameraPost5,threadID:x,replyProfileName:u,replyProfilePic:v,userID:w}))};f.exports=m}),null);
__d("CameraPostTheater.react",["CameraPostLoggingEvents","DirectMessagingTypedLogger","React","createCancelableFunction","idx","Random","DirectCameraPost.react","CameraPostNoViewsLeft.react","CameraPostGraphQLAPI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component,k=1e3,l=1e3;h=babelHelpers.inherits(m,j);i=h&&h.prototype;function m(n){__p&&__p();i.constructor.call(this,n);this.$CameraPostTheater3=function(o){if(o!==""){this.$CameraPostTheater10(o);var p=this.props,q=p.userID,r=p.threadID;c("CameraPostGraphQLAPI").sendDirectReply(q,r,o,this.state.camera_post_type,false).done(this.$CameraPostTheater11)}}.bind(this);this.$CameraPostTheater14=c("createCancelableFunction")(function(){this.setState({isSeen:true})}.bind(this));this.$CameraPostTheater8=c("createCancelableFunction")(function(o){var p,q=(p=o)!=null?(p=p.node)!=null?(p=p.direct_messages)!=null?p.nodes:p:p:p;if(q==null)q=[];q=q.reverse().slice(1);this.setState({replies:q})}.bind(this));this.$CameraPostTheater9=c("createCancelableFunction")(function(o){return false});this.$CameraPostTheater11=c("createCancelableFunction")(function(){this.$CameraPostTheater7()}.bind(this));this.$CameraPostTheater4=c("createCancelableFunction")(function(o){__p&&__p();var p,q,r,s,t,u,v,w,x,y,z,A,B=(p=o)!=null?(p=p.node)!=null?p.camera_post_type:p:p,C=(q=o)!=null?(q=q.node)!=null?q.post_source:q:q,D=(r=o)!=null?(r=r.node)!=null?(r=r.root_message)!=null?r.message_media:r:r:r,E=(s=o)!=null?(s=s.node)!=null?(s=s.root_message)!=null?s.camera_post_message_owner:s:s:s,F=(t=o)!=null?(t=t.node)!=null?t.viewer_replays_left:t:t,G=(u=o)!=null?(u=u.node)!=null?u.latest_message:u:u,H=(v=o)!=null?(v=v.node)!=null?(v=v.root_message)!=null?v.time:v:v:v,I=(w=o)!=null?(w=w.node)!=null?(w=w.direct_participants)!=null?w.nodes:w:w:w,J=(x=o)!=null?(x=x.node)!=null?x.group_name:x:x,K=(y=o)!=null?(y=y.node)!=null?(y=y.root_message)!=null?y.message_text:y:y:y,L=(z=o)!=null?(z=z.node)!=null?(z=z.root_message)!=null?z.www_text_format_metadata:z:z:z,M=(A=o)!=null?(A=A.node)!=null?(A=A.direct_messages)!=null?A.nodes:A:A:A;if(M==null)M=[];M=M.reverse().slice(1);this.setState({camera_post_type:B,post_source:C,message_media:D,camera_post_message_owner:E,time:H,replies:M.length>this.state.replies.length?M:this.state.replies,isLoaded:true,latest_message:G,viewer_replays_left:F,participants:I,group_name:J,message_text:K,www_text_format_metadata:L},function(){if(!this.state.isSeen){var N=this.props.in24hEphExp&&this.state.viewer_replays_left<=1,O=N;if(!O)this.$CameraPostTheater13()}}.bind(this))}.bind(this));this.$CameraPostTheater5=c("createCancelableFunction")(function(o){var p,q;this.setState({replyProfileName:(p=o)!=null?(p=p.me)!=null?p.name:p:p,replyProfilePic:(q=o)!=null?(q=q.me)!=null?(q=q.profile_picture)!=null?q.uri:q:q:q})}.bind(this));this.$CameraPostTheater6=c("createCancelableFunction")(function(o){});this.state={camera_post_type:null,post_source:null,message_media:null,camera_post_message_owner:null,time:null,replies:[],replyProfileName:null,replyProfilePic:null,isLoaded:false,isSeen:false,viewer_replays_left:null,participants:null,group_name:null,www_text_format_metadata:null,message_text:""};this.logSpotlightHide=this.logSpotlightHide.bind(this)}m.prototype.componentDidMount=function(){this.$CameraPostTheater1();this.$CameraPostTheater2()};m.prototype.render=function(){if(!this.state.isLoaded)return null;var n=this.props,o=n.userID,p=n.threadID,q=n.in24hEphExp,r=n.showSATPNativeRender,s=this.state,t=s.camera_post_type,u=s.post_source,v=s.message_media,w=s.camera_post_message_owner,x=s.time,y=s.replies,z=s.replyProfileName,A=s.replyProfilePic,B=s.participants,C=s.group_name,D=s.viewer_replays_left,E=s.www_text_format_metadata,F=s.message_text,G={rootMessageText:F,showSATPNativeRender:r,wwwTextFormatMetadata:E};return D===0?c("React").createElement(c("CameraPostNoViewsLeft.react"),{in24hEphExp:q}):c("React").createElement(c("DirectCameraPost.react"),{cameraPostType:t,cameraPostSource:u,media:v,owner:w,time:x,replies:y,replyProfileName:z,replyProfilePic:A,userID:o,threadID:p,participants:B,groupName:C,onReplyEntered:this.$CameraPostTheater3,in24hEphExp:q,satpData:G})};m.prototype.logSpotlightHide=function(){var n=this.props,o=n.userID,p=n.threadID;new(c("DirectMessagingTypedLogger"))().setCameraPostType(this.state.camera_post_type).setProductSurface("www").setName(c("CameraPostLoggingEvents").DIRECT_VIEWER_CLICKOUT).setThreadID(p).log()};m.prototype.$CameraPostTheater1=function(){c("CameraPostGraphQLAPI").loadThreadFullInformation(this.props.userID,this.props.threadID).done(this.$CameraPostTheater4)};m.prototype.$CameraPostTheater2=function(){c("CameraPostGraphQLAPI").loadUserInfo().done(this.$CameraPostTheater5,this.$CameraPostTheater6)};m.prototype.$CameraPostTheater7=function(){c("CameraPostGraphQLAPI").loadRepliesForThread(this.props.threadID).done(this.$CameraPostTheater8,this.$CameraPostTheater9)};m.prototype.$CameraPostTheater10=function(n){var o=Date.now()/l,p={id:this.$CameraPostTheater12(),camera_post_message_owner:{name:this.state.replyProfileName,profile_picture:{uri:this.state.replyProfilePic}},message_text:n,time:o};if(!this.state.replies)this.setState({replies:[p]});else this.setState({replies:[].concat(this.state.replies,[p])})};m.prototype.$CameraPostTheater12=function(){return Math.floor(c("Random").random()*k)};m.prototype.$CameraPostTheater13=function(){var n,o=this.props,p=o.userID,q=o.threadID,r=((n=this.state.latest_message)!=null?n.id:n)||null;c("CameraPostGraphQLAPI").markThreadSeen(p,q,r,this.state.camera_post_type,this.state.viewer_replays_left).done(this.$CameraPostTheater14)};m.prototype.componentWillUnmount=function(){this.$CameraPostTheater4.cancel();this.$CameraPostTheater14.cancel();this.$CameraPostTheater11.cancel();this.$CameraPostTheater5.cancel();this.$CameraPostTheater6.cancel();this.$CameraPostTheater8.cancel();this.$CameraPostTheater9.cancel()};f.exports=m}),null);
__d("ManagedSpotlightViewer",["ge","DOM","React","ReactDOM","SpotlightViewer","SpotlightViewerClose"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={ref:null,bootstrap:function h(i){var j=i.wrappedComponent,k=i.props,l=c("React").createElement(j,babelHelpers["extends"]({},k,{ref:function(m){this.ref=m}.bind(this)}));this.renderComponent(l)},renderComponent:function h(i){__p&&__p();var j=false,k=function(){if(this.ref&&Object.prototype.hasOwnProperty.call(this.ref,"logSpotlightHide")&&!j){this.ref.logSpotlightHide();j=true}c("ReactDOM").unmountComponentAtNode(l);if(document.body&&l.parentNode===document.body)document.body.removeChild(l)}.bind(this),l=c("ge")("spotlight_viewer_container");if(!l){l=c("DOM").create("div",{id:"spotlight_viewer_container"});if(document.body)document.body.appendChild(l)}var m=c("React").createElement(c("SpotlightViewer"),{open:true,onHide:k},c("React").createElement(c("SpotlightViewerClose"),{isFixed:true,position:"right",onClick:k}),i);c("ReactDOM").render(m,l)}}}),null);